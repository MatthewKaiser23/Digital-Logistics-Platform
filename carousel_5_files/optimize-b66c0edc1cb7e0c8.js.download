(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4101],{93644:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/optimize",function(){return t(38069)}])},38069:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var i=t(51351),r=t(85893),a=t(67294),s=t(86067),o=t(65082),l=t(33303),c=t(47568),u=t(70655),d=t(30112),m=function(e){var n=e.title,t=e.description,i=e.icon,s=e.children,o=(0,a.useState)(!1),l=o[0],c=o[1];return(0,r.jsxs)("div",{className:"p-6 rounded-lg ".concat(l?"bg-white drop-shadow-md":"bg-gray-50"),children:[(0,r.jsxs)("div",{className:"flex gap-3 sm:justify-between sm:items-center",children:[(0,r.jsx)("div",{className:"p-2 w-10 h-10 rounded-full text-white ".concat(l?"bg-black":"bg-gray-400"),children:(0,r.jsx)(d.Z,{icon:i,className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between gap-2 sm:flex-row sm:flex-grow sm:items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-between gap-1",children:[(0,r.jsx)("p",{className:"text-gray-900 mb-1 font-bold",children:n}),(0,r.jsx)("p",{className:"font-normal text-gray-500",children:t})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"font-medium link",onClick:function(){c(!l)},children:l?"Close":"View"})})]})]}),l&&s]})},x=t(11163),p=t(16494),f=t(78548),g=function(e){var n=e.alertText,t=e.actionItems,i=e.parentElementName,a=e.actionHelperText,s=e.currentlyFixing,o=e.onFixClickedCallback,l=e.actionText,c=void 0===l?"Fix this":l,u=e.actionInProgressText,m=void 0===u?"Fixing":u;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mt-6 mb-6",children:(0,r.jsx)(f.U,{variant:"info",text:n})}),(0,r.jsx)("div",{className:"rounded-lg bg-gray-50",children:t.map((function(e,n){var l=t.length>1&&n!==t.length-1,u=e.title,x=e.id;return(0,r.jsx)("div",{className:"pl-4 pr-4",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-6 pt-3 pb-3 ".concat(l?"border-b border-gray-200":""," sm:flex-row"),children:[(0,r.jsxs)("div",{className:"sm:flex-grow",children:[(0,r.jsx)("p",{className:"text-gray-900 text-sm font-semibold mb-1",children:u}),(0,r.jsx)("p",{className:"text-sm text-red-600 font-normal",children:a})]}),(null===s||void 0===s?void 0:s.id)===x?(0,r.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:m}),(0,r.jsx)(p.Z,{text:"",className:"w-4 h-4"})]}):(0,r.jsxs)("div",{className:"flex items-center gap-1 link cursor-pointer",onClick:function(){return o(e)},children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:c}),(0,r.jsx)(d.Z,{icon:"ArrowRightIcon",className:"w-4 h-4"})]})]})},"".concat(i,"-").concat(n))}))})]})},b=function(e){var n=e.data.domain,t=(0,x.useRouter)(),i=function(){var e=(0,c.Z)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.push({pathname:"/website/settings",query:{scrollTo:"domain"}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"WindowIcon",title:"Claim a custom domain",description:"Make your website stand out with a free custom domain",children:(0,r.jsx)(g,{alertText:"A custom domain name looks professional and more memorable for customers.",actionItems:[{id:1,title:n}],parentElementName:"claim-a-domain",actionHelperText:"You are still using a Durable subdomain",currentlyFixing:null,onFixClickedCallback:i,actionText:"Get a domain name"})})},h=function(e){var n=e.data,t=e.id,i=e.disableOptimizeOption,s=e.businessID,d=(0,a.useState)(null===n||void 0===n?void 0:n.pages),x=d[0],p=d[1],f=(0,a.useState)(null===n||void 0===n?void 0:n.totalPages),b=f[0],h=f[1],v=(0,a.useState)(null),y=v[0],w=v[1],j=(0,o.Z)().post,N=function(){var e=(0,c.Z)((function(e){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return w(e),[4,j("/optimize-website/add-seo",{pageID:null===e||void 0===e?void 0:e.id,businessID:s})];case 1:return n=r.sent(),function(e,n){if(!n)return w(null),void l.Z9.error("Failed to add SEO information. Please try again later.");l.Z9.success("SEO information added");var r=b-1;0!==r?(w(null),p(x.filter((function(n){return n.id!==(null===e||void 0===e?void 0:e.id)}))),h(r)):i(t)}(e,null===n||void 0===n?void 0:n.status),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"ExclamationCircleIcon",title:"Add SEO information",description:"".concat(b," pages are missing SEO information"),children:(0,r.jsx)(g,{alertText:"SEO improves where your website ranks on search engines like Google.",actionItems:x,parentElementName:"seo-suggestion",actionHelperText:"Missing SEO information",currentlyFixing:y,onFixClickedCallback:N})})},v=function(e){var n=e.id,t=e.disableOptimizeOption,i=e.businessID,s=(0,a.useState)(null),d=s[0],x=s[1],p=(0,o.Z)().post,f=function(){var e=(0,c.Z)((function(e){var r;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return x(e),[4,p("/optimize-website/enable-indexing",{businessID:i})];case 1:return function(e){if(!e)return x(null),void l.Z9.error("Failed to enable indexing. Please try again later.");l.Z9.success("Indexing enabled"),t(n)}(null===(r=a.sent())||void 0===r?void 0:r.status),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"GlobeEuropeAfricaIcon",title:"Enable indexing",description:"Your website does not currently appear in Google Search results",children:(0,r.jsx)(g,{alertText:"Indexing makes your website visible in search results and improves SEO.",actionItems:[{id:1,title:"Indexing"}],parentElementName:"enable-indexing",actionHelperText:"Indexing is currently disabled",currentlyFixing:d,onFixClickedCallback:f,actionText:"Enable",actionInProgressText:"Enabling"})})},y=function(e){var n=e.id,t=e.disableOptimizeOption,i=e.businessID,s=(0,a.useState)(null),d=s[0],x=s[1],p=(0,o.Z)().post,f=function(){var e=(0,c.Z)((function(e){var r;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return x(e),[4,p("/optimize-website/enable-domain-redirect",{businessID:i})];case 1:return function(e){if(!e)return x(null),void l.Z9.error("Failed to enable domain redirect. Please try again later.");l.Z9.success("Domain redirect enabled"),t(n)}(null===(r=a.sent())||void 0===r?void 0:r.status),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"BuildingStorefrontIcon",title:"Redirect your domain",description:"Redirection is currently disabled",children:(0,r.jsx)(g,{alertText:"Redirecting your domain improves your SEO and domain authority.",actionItems:[{id:1,title:"Redirection"}],parentElementName:"redirect-domain",actionHelperText:"Redirection is currently disabled",currentlyFixing:d,onFixClickedCallback:f,actionText:"Enable",actionInProgressText:"Enabling"})})},w=function(){var e=(0,x.useRouter)(),n=function(){var n=(0,c.Z)((function(){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.push({pathname:"/website/builder",query:{routerAction:"createBlogPost"}})];case 1:return n.sent(),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"DocumentTextIcon",title:"Create your blog",description:"Your website has no blog",children:(0,r.jsx)(g,{alertText:"A blog drives traffic to your website, engages customers, and improves SEO.",actionItems:[{id:1,title:"Blog"}],parentElementName:"create-your-blog",actionHelperText:"No blog posts yet",currentlyFixing:null,onFixClickedCallback:n,actionText:"Create a post"})})},j=function(){var e=(0,x.useRouter)(),n=function(){var n=(0,c.Z)((function(){return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.push({pathname:"/website/builder",query:{routerAction:"addSocialLinks"}})];case 1:return n.sent(),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(m,{icon:"ChatBubbleLeftRightIcon",title:"Add social links",description:"Your website is not linking to your social media channels",children:(0,r.jsx)(g,{alertText:"Linking to social media boosts your brand presence and engagement.",actionItems:[{id:1,title:"Social links"}],parentElementName:"add-social-links",actionHelperText:"There are no social links",currentlyFixing:null,onFixClickedCallback:n})})},N=function(){return(0,r.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-4 text-center h-[calc(100vh-250px)] sm:h-[calc(100vh-200px)]",children:[(0,r.jsx)("div",{className:"p-4 w-20 h-20 rounded-full text-white bg-green-500",children:(0,r.jsx)(d.Z,{icon:"CheckCircleSolidIcon",className:"h-12 w-12"})}),(0,r.jsx)("p",{className:"text-gray-900 text-2xl font-bold",children:"Your website is currently optimized"})]})};function k(e){e=null!==e?e:(0,i.Z)(new TypeError("Cannot destructure undefined"));(0,s.Z)("layout.title","Website",!0);var n=(0,o.Z)().get,t=(0,a.useState)(!0),c=t[0],u=t[1],d={customDomain:b,seoSuggestion:h,indexing:v,redirectDomain:y,createYourBlog:w,addSocialLinks:j},m=(0,a.useState)({}),x=m[0],f=m[1],g=(0,a.useState)(null),k=g[0],I=g[1];(0,a.useEffect)((function(){var e=sessionStorage.getItem("idBusiness");I(e),n("/optimize-website",{businessID:e}).then((function(e){if((null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.data)){var n=null===e||void 0===e?void 0:e.data,t=Object.keys(n).filter((function(e){return n[e].enabled})).reduce((function(e,t){return e[t]=n[t],e}),{});f(t),u(!1)}else l.Z9.error("Something went wrong. Please try again later.")})).catch((function(e){console.error(e),l.Z9.error("Something went wrong. Please try again later.")}))}),[]);var E=function(e){var n=(0,l.p$)(x);delete n[e],f(n)};return(0,r.jsx)(r.Fragment,{children:c||Object.keys(x).length>0?(0,r.jsx)("div",{className:"flex flex-col gap-4 md:gap-5 max-w-3xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-5 pb-5 pl-6 pr-6 border-b border-gray-200",children:[(0,r.jsx)("p",{className:"leading-5 font-bold text-gray-900 truncate",children:"Optimization Suggestions"}),(0,r.jsx)("br",{})]}),(0,r.jsx)("div",{className:"space-y-4 md:space-y-6 p-6",children:c?(0,r.jsx)(p.Z,{variant:"widget"}):Object.keys(x).map((function(e,n){return(0,a.createElement)(d[e],{data:x[e],id:e,businessID:k,disableOptimizeOption:E,key:"optimize-option-".concat(n)})}))})]})}):(0,r.jsx)(N,{})})}k.auth=!0},51351:function(e,n,t){"use strict";function i(e){throw e}t.d(n,{Z:function(){return i}})}},function(e){e.O(0,[9774,2888,179],(function(){return n=93644,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
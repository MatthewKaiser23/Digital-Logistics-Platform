"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4964],{42989:function(e,n,t){t.d(n,{Z:function(){return m}});var o=t(47568),i=t(26042),r=t(70655),s=t(85893),a=t(30112),l=t(65082),u=t(33303),c=t(67294),d=t(16494),v=t(66605),f=t(43291),p=t(87423),g={"generate-team":{title:{formatResponse:function(e){return e[0].name}},content:{formatResponse:function(e){return e[0].job_role}}},"mars-generate-services":{formatResponse:function(e){var n,t,o,i;return{content:"".concat((null===(n=e[0])||void 0===n?void 0:n.heading)?'<h3 style="white-space: pre-line">'.concat(null===(t=e[0])||void 0===t?void 0:t.heading,"</h3>"):"").concat((null===(o=e[0])||void 0===o?void 0:o.description)?'<p style="white-space: pre-line">'.concat(null===(i=e[0])||void 0===i?void 0:i.description,"</p>"):"")}}},"mars-generate-about-us":{formatResponse:function(e){return'<h3 style="white-space: pre-line">About us</h3><p style="white-space: pre-line">'.concat(null!==e&&void 0!==e?e:"","</p>")}}};var h=function(){var e=(0,p.Z)({url:"/ai/generate",method:"post",throwOnError:!0}).request,n=function(){var n=(0,o.Z)((function(n,t){var o,s,a,l,u,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o=n.label,s=n.subPrompt,a=n.variant,l=void 0===a?"better":a,[4,e({prompt:o,data:(0,i.Z)({},t,s&&{variant:s}),variant:l})];case 1:return u=r.sent(),[2,g[o]?s?g[o][s].hasOwnProperty("formatResponse")?null===(c=g[o][s])||void 0===c?void 0:c.formatResponse(u):u:g[o].hasOwnProperty("formatResponse")?g[o].formatResponse(u):u:u];case 2:throw r.sent();case 3:return[2]}}))}));return function(e,t){return n.apply(this,arguments)}}();return{promptSuggestion:n}};function m(e){var n=e.prompt,t=e.includeVertical,p=e.includeLocation,g=e.includeName,m=e.includeTitle,y=e.label,b=e.regenerate,x=e.onSuggestion,w=e.v2,Z=(0,c.useState)(!1),_=Z[0],j=Z[1],S=(0,c.useState)((0,u.tl)("business.config")),N=S[0],T=S[1],E=(0,l.Z)().get,R=(0,f.Z)().suggestInputContent,k=h().promptSuggestion,C=function(){var e,n,t,o="United States";(null===N||void 0===N||null===(e=N.office)||void 0===e?void 0:e.address)&&(o=N.office.address.line1?N.office.address.line1+", ":"",o+=N.office.address.line2?N.office.address.line2+", ":"",o+=N.office.address.city?N.office.address.city+", ":"",o+=N.office.address.state?N.office.address.state+", ":"",o+=N.office.address.country?null!==(t=null===(n=u.hW.find((function(e){return e.code===N.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:N.office.address.country+" ":"",o+=N.office.address.postalCode?N.office.address.postalCode:"");return o.trim()},O=function(){var e=(0,o.Z)((function(e){var n,t,o,s,a,l,u,c,d,v,f,p,g,h,m,y,b,w,Z,_;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:j(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,k(e,(0,i.Z)({business:{name:null===N||void 0===N||null===(n=N.business)||void 0===n?void 0:n.name,vertical:"Other"===(null===N||void 0===N||null===(t=N.business)||void 0===t||null===(o=t.type)||void 0===o||null===(s=o.Type)||void 0===s?void 0:s.name)?null===N||void 0===N||null===(a=N.business)||void 0===a||null===(l=a.type)||void 0===l?void 0:l.name:null===N||void 0===N||null===(u=N.business)||void 0===u||null===(c=u.type)||void 0===c||null===(d=c.Type)||void 0===d?void 0:d.name},vertical:"Other"===(null===N||void 0===N||null===(v=N.business)||void 0===v||null===(f=v.type)||void 0===f||null===(p=f.Type)||void 0===p?void 0:p.name)?null===N||void 0===N||null===(g=N.business)||void 0===g||null===(h=g.type)||void 0===h?void 0:h.name:null===N||void 0===N||null===(m=N.business)||void 0===m||null===(y=m.type)||void 0===y||null===(b=y.Type)||void 0===b?void 0:b.name,tone:"professional",location:C(),quantity:1},null!==(w=e.extraProps)&&void 0!==w?w:{}))];case 2:return Z=r.sent(),x(Z),[3,5];case 3:return _=r.sent(),console.error(_.message),[2,null];case 4:return j(!1),[7];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();function F(){return(F=(0,o.Z)((function(){var e;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return j(!0),[4,R(N.business||N,n,g,t,p,m,w)];case 1:if((e=o.sent())&&!0===e.status&&e.content){if("function"!==typeof x)throw j(!1),"You must inform a valid onSuggestion function";x(e.content)}else u.Z9.error(e.message);return j(!1),[2]}}))}))).apply(this,arguments)}var I=function(){var e=(0,o.Z)((function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,E("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,u.Fs)("business.config",e.content),T(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){I()}),[]),(0,s.jsx)(s.Fragment,{children:N&&(0,s.jsx)(v.Z,{alt:"Generate content using AI.",children:(0,s.jsx)("button",{disabled:_,onClick:function(){(null===n||void 0===n?void 0:n.label)?O(n):function(){F.apply(this,arguments)}()},className:"link inline-flex items-center gap-1",children:_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-sm",children:b?"Regenerating":"Generating"}),(0,s.jsx)(d.Z,{variant:"icon"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-sm",children:y||(b?"Regenerate":"Generate")}),(0,s.jsx)(a.Z,{icon:"BoltIcon",className:"w-4 h-4"})]})})})})}},67568:function(e,n,t){t.d(n,{S:function(){return u},Z:function(){return c}});var o=t(10253),i=t(85893),r=t(86067),s=t(33303),a=t(11355),l=t(67294);function u(e){var n=e.children,t=e.text,o=e.dirty;return(0,i.jsx)(a.u,{as:l.Fragment,show:o,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsxs)("div",{className:"sticky bottom-0 z-50 flex items-center justify-between gap-3 p-4 sm:px-6 bg-white border-t border-gray-100 lg:rounded-b-lg",children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:null!==t&&void 0!==t?t:"Save changes?"}),(0,i.jsx)("div",{className:"flex items-center gap-3",children:n})]})})}function c(e){var n=e.children,t=e.dirty,a=(0,o.Z)((0,r.Z)("layout.sidebarOpen"),2),l=a[0];a[1];return(0,i.jsx)("div",{className:(0,s.AK)(t?"bottom-0 opacity-100":"-bottom-80 opacity-0","fixed left-0 right-0 z-90 lg:z-50 max-w-screen-3xl md:px-6 bg-gray-50 transition-all duration-300",l?"md:left-[15.5rem]":"md:left-24"),children:(0,i.jsx)("div",{className:"flex items-center justify-between gap-3 py-4 px-6 md:px-0 border-t border-gray-300",children:n})})}},43291:function(e,n,t){var o=t(47568),i=t(70655),r=t(65082),s=t(67294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:void 0,payload:void 0},n=e.action,t=e.payload,a=(0,s.useState)(!1),l=a[0],u=a[1],c=(0,s.useState)(null),d=c[0],v=c[1],f=(0,s.useState)(null),p=f[0],g=f[1],h=(0,r.Z)().post;(0,s.useEffect)((function(){n&&t?m(n,t):(v(null),u(!1))}),[n,t]);var m=function(){var e=(0,o.Z)((function(e,n){var t;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return u(!0),[4,h("/openai/ask-to-bot",{action:e,data:n}).catch(console.log)];case 1:return(t=o.sent())&&!0===t.status&&t.content?(u(!1),v(t.content),g(t.logging||null),[2,{content:t.content,logging:t.logging}]):(u(!1),v(null),g(null),[2,null])}}))}));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((function(e,n){var t;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return u(!0),[4,h("/openai/suggest-input-content",{prompt:e,maxTokens:n}).catch(console.log)];case 1:return t=o.sent(),u(!1),[2,t]}}))}));return function(n,t){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.Z)((function(e,n,t,o,r,s,a){var l,u,c,d,v,f,p,g,h,m,b,x,w,Z,_,j,S,N;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return j=null===e||void 0===e?void 0:e.name,S=(null===e||void 0===e||null===(l=e.type)||void 0===l?void 0:l.Type)&&"other"!==(null===e||void 0===e||null===(u=e.type)||void 0===u||null===(c=u.Type)||void 0===c||null===(d=c.name)||void 0===d?void 0:d.toLowerCase())?null===e||void 0===e||null===(f=e.type)||void 0===f||null===(p=f.Type)||void 0===p?void 0:p.aiTerm:null===e||void 0===e||null===(v=e.type)||void 0===v?void 0:v.name,N=(null===e||void 0===e||null===(g=e.office)||void 0===g||null===(h=g.address)||void 0===h?void 0:h.city)?"".concat(null===e||void 0===e||null===(m=e.office)||void 0===m||null===(b=m.address)||void 0===b?void 0:b.city,", ").concat(null===e||void 0===e||null===(x=e.office)||void 0===x||null===(w=x.address)||void 0===w?void 0:w.state):(null===e||void 0===e||null===(Z=e.location)||void 0===Z?void 0:Z.code)?null===e||void 0===e||null===(_=e.location)||void 0===_?void 0:_.code:null,a?(t&&(n=n.replace(/{{businessName}}/gi,j)),o&&(n=n.replace(/{{vertical}}/gi,S))):(s&&(n+=' with an existing title "'.concat(s,'"')),(t||o||r)&&(n+=" for a"),o&&S&&(n+=' "'.concat(S,'"')),(t||o||r)&&(n+=" business"),t&&j&&(n+=' called "'.concat(j,'"')),r&&N&&(n+=" in ".concat(N)),n.replace(/:$/,""),n+=":"),[4,y(n)];case 1:return[2,i.sent()]}}))}));return function(n,t,o,i,r,s,a){return e.apply(this,arguments)}}();return{isLoading:l,data:d,logId:p,getDataViaOpenAI:m,getSuggestion:y,suggestInputContent:b,set:v}}},87423:function(e,n,t){var o=t(47568),i=t(70655),r=t(65082),s=t(67294);n.Z=function(e){var n=e.url,t=e.method,a=void 0===t?"get":t,l=e.upload,u=void 0!==l&&l,c=e.triggerLoad,d=void 0===c||c,v=e.removeIdBusiness,f=void 0!==v&&v,p=e.onSuccess,g=e.onError,h=e.throwOnError,m=void 0!==h&&h,y=(0,s.useState)(null),b=y[0],x=y[1],w=(0,s.useState)(!1),Z=w[0],_=w[1],j=(0,s.useState)(""),S=j[0],N=j[1],T=(0,s.useRef)(!0),E=(0,r.Z)(),R=E.get,k=E.post;function C(){return C=(0,o.Z)((function(e){var t,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:_(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,"get"===a?R(n,e,d,f):k(n,e,u,f)];case 2:if(t=i.sent(),T){if(t&&!0===t.status)return p?t.content?p(t.content):p():x(t.content),[2,t.content];throw new Error(t.message)}return[3,5];case 3:if(o=i.sent(),g&&g(o.message||"Unexpected Error!"),T&&N(o.message||"Unexpected Error!"),m)throw o;return[3,5];case 4:return T&&_(!1),[7];case 5:return[2]}}))})),C.apply(this,arguments)}return(0,s.useEffect)((function(){return function(){return T.current=!1}}),[]),{data:b,error:S,isLoading:Z,request:function(e){return C.apply(this,arguments)}}}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2074],{11552:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/design",function(){return t(88699)}])},88699:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _}});var a=t(47568),n=t(26042),l=t(69396),i=t(10253),r=t(51351),d=t(70655),c=t(85893),o=t(67294),u=t(16494),m=t(41664),x=t.n(m),h=t(33303),b=t(30112),p=t(65082),f=t(86067),w=t(11163),g=t(52077),j=function(e){var s=e.isFirstTime,t=e.lastWebsiteStatus;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex items-center justify-end gap-3 mb-4 lg:mb-6",children:[(0,c.jsxs)(g.Z,{disabled:!0,className:"secondary gap-2 !bg-transparent hover:!bg-trasparent !shadow-none",children:["Regenerate",(0,c.jsx)(b.Z,{icon:"BoltIcon",className:"w-4 h-4"})]}),"public"===t&&(0,c.jsxs)(g.Z,{disabled:!0,className:"button secondary gap-2",target:"_blank",children:["View",(0,c.jsx)(b.Z,{icon:"ExternalLinkIcon",className:"w-4 h-4"})]}),(0,c.jsxs)(g.Z,{disabled:!0,className:"button primary gap-2",children:["Edit",(0,c.jsx)(b.Z,{icon:"PencilSolidIcon",className:"w-4 h-4"})]})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-4 md:gap-5 max-w-3xl mx-auto",children:[s&&(0,c.jsxs)("div",{className:"flex flex-col gap-6 mb-2",children:[(0,c.jsx)(u.Z,{variant:"skeleton",classNameChild:"!h-28 !w-full !w-max-150"}),(0,c.jsx)(u.Z,{variant:"skeleton",classNameChild:"!h-5 !w-full"})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3 p-4 md:p-6 border-b border-gray-200",children:[(0,c.jsx)(u.Z,{text:"",classNameChild:"mb-0 !w-24"}),(0,c.jsx)("div",{className:"flex px-2.5 py-0.5 rounded-3xl",children:(0,c.jsxs)("p",{className:"flex items-center gap-2 text-xs text-indigo-800 px-2.5 py-0.5 rounded-3xl bg-indigo-100",children:[(0,c.jsx)("span",{className:"w-1 h-1 rounded-full bg-indigo-400"})," Generating"]})})]}),(0,c.jsx)("div",{className:"px-0 md:px-2 pt-0 md:pt-2",children:(0,c.jsxs)("div",{className:"h-80 relative overflow-hidden animate-pulse",children:[(0,c.jsxs)("div",{className:"hidden md:block absolute top-16 left-4 right-28 h-150 shadow-website-screenshot rounded-xl overflow-hidden bg-white",children:[(0,c.jsxs)("div",{className:"bg-gray-100 py-2.5 px-2.5 flex gap-1.5",children:[(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"}),(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"}),(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"})]}),(0,c.jsxs)("div",{className:"website-thumbnail-desktop-container",children:[(0,c.jsx)("div",{className:"absolute inset-0 z-5"}),(0,c.jsx)("div",{className:"website-thumbnail-desktop",children:(0,c.jsx)(u.Z,{variant:"skeleton",classNameChild:"skeleton"})})]})]}),(0,c.jsx)("div",{className:"absolute top-4 left-1/2 -ml-32 md:ml-0 md:left-auto md:right-4 p-2.5 w-64 h-150 shadow-website-screenshot rounded-3xl bg-gray-100 overflow-hidden",children:(0,c.jsxs)("div",{className:"website-thumbnail-mobile-container",children:[(0,c.jsx)("div",{className:"absolute inset-0 z-5"}),(0,c.jsx)("div",{className:"website-thumbnail-mobile",children:(0,c.jsx)(u.Z,{variant:"skeleton",classNameChild:"rounded-3xl skeleton"})})]})})]})})]})]})]})},v=function(){return(0,c.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,c.jsx)("p",{className:"text-h1 font-bold text-gray-900 max-w-[600px]",children:"We created a website for you using AI"}),(0,c.jsx)("p",{className:"text-body text-gray-600 mb-2",children:"Your new business now has a website. Feel free to edit or regenerate it to get it exactly how you want."})]})},N=t(11215),y=t(49155),Z=t.n(y);var k=function(){var e=(0,o.useRef)(null),s=function(s,t){"function"==typeof(null===e||void 0===e?void 0:e.current)&&(null===e||void 0===e||e.current((0,l.Z)((0,n.Z)({},t),{origin:{y:.7},particleCount:Math.floor(200*s)})))};return{Confetti:function(){return(0,c.jsx)(Z(),{refConfetti:function(s){e.current=s},style:{position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0}})},fire:function(){s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})}}};function _(e){e=null!==e?e:(0,r.Z)(new TypeError("Cannot destructure undefined"));var s,t,m=(0,i.Z)((0,f.Z)("layout.title","Website",!0),2),g=(m[0],m[1],(0,o.useState)(!1)),y=(g[0],g[1]),Z=(0,o.useState)(null),_=Z[0],C=Z[1],E=(0,o.useState)("loading"),P=(E[0],E[1]),F=(0,o.useState)(!1),S=F[0],T=F[1],I=(0,o.useState)(!1),O=I[0],z=I[1],W=(0,o.useRef)(null),V=(0,p.Z)().get,A=(0,w.useRouter)(),B=(0,N.Z)(),L=B.isUserAwaitingWebsite,R=B.setIsUserAwaitingWebsite,H=k(),U=H.Confetti,X=H.fire,G=function(){var e=(0,a.Z)((function(){var e,s;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return y(!0),[4,V("/website/get",{populate:!0})];case 1:return(e=t.sent())&&!0===e.status&&e.content?"disabled"!==(s=(0,l.Z)((0,n.Z)({},e.content),{subdomain:(0,h.nv)(e.content.subdomain)})).status?[3,3]:[4,A.push("/website/settings")]:[3,5];case 2:return t.sent(),[3,4];case 3:"processing"===s.status?(P("generating"),!S&&L()&&T(!0),W.current=setTimeout((function(){G()}),3e3)):P("ready"),t.label=4;case 4:(0,h.Fs)("website",s),C(s),t.label=5;case 5:return y(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)((function(){var e,s,t;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return y(!0),[4,V("/website/get-pages").catch(console.log)];case 1:return(e=a.sent())&&!0===e.status&&e.content&&(s=e.content.map((function(e){return{id:e._id,Parent:e.Parent,name:e.label,slug:e.slug,showOnFooter:e.showOnFooter,showOnHeader:e.showOnHeader,type:e.type,hasPosts:e.hasPosts}})),(0,h.Fs)("pages",s),(t=e.content.find((function(e){return e.default&&null===e.slug})))||(t=e.content.find((function(e){return"parent"!==e.type}))),t={id:t._id,slug:t.slug,blocks:t.blocks},window.websitePage=(0,h.p$)(t),window.dispatchEvent(new CustomEvent("website-builder-page-changed"))),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){_&&K()}),[_]),(0,o.useEffect)((function(){return G(),function(){W.current&&clearTimeout(W.current)}}),[]),(0,c.jsxs)(c.Fragment,{children:[S&&!O&&(0,c.jsx)(j,{isFirstTime:S,websiteStatus:null===_||void 0===_?void 0:_.status}),(0,c.jsxs)("div",{className:(0,h.AK)(S&&!O?"hidden":""),children:["public"===(null===_||void 0===_?void 0:_.status)||"private"===(null===_||void 0===_?void 0:_.status)?(0,c.jsxs)("div",{className:"flex items-center justify-end gap-3 mb-4 lg:mb-6",children:["public"===(null===_||void 0===_?void 0:_.status)&&(0,c.jsx)(x(),{href:_.sslCertificate||"active"===(null===(s=_.cloudflare)||void 0===s||null===(t=s.ssl)||void 0===t?void 0:t.status)?"https://"+_.domain:"http://"+(_.subdomain+(0,h.lz)()),children:(0,c.jsxs)("a",{className:"button secondary gap-2",target:"_blank",children:["View",(0,c.jsx)(b.Z,{icon:"ExternalLinkIcon",className:"w-4 h-4"})]})}),(0,c.jsx)(x(),{href:"/website/builder",children:(0,c.jsxs)("a",{className:"button primary gap-2",children:["Edit",(0,c.jsx)(b.Z,{icon:"PencilSolidIcon",className:"w-4 h-4"})]})})]}):"",(0,c.jsxs)("div",{className:"flex flex-col gap-4 md:gap-5 max-w-3xl mx-auto",children:[!_&&(0,c.jsx)("div",{className:"flex flex-col gap-4",children:(0,c.jsx)(u.Z,{className:"!my-0",variant:"box"})}),_&&(0,c.jsxs)(c.Fragment,{children:[S&&(0,c.jsx)(v,{}),"private"===_.status&&(0,c.jsx)("div",{className:"rounded-md bg-yellow-50 p-4 md:p-6",children:(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(b.Z,{icon:"BellIcon",className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,c.jsxs)("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:[(0,c.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,c.jsx)("span",{className:"font-bold",children:"Website is currently private."})," Only you can see the website."]}),(0,c.jsx)("p",{className:"mt-3 text-sm md:mt-0 md:ml-6",children:(0,c.jsx)(x(),{href:"/website/settings",children:(0,c.jsxs)("a",{className:"whitespace-nowrap font-medium text-yellow-700 hover:text-yellow-600",children:["Change this ",(0,c.jsx)("span",{"aria-hidden":"true",children:"\u2192"})]})})})]})]})}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3 p-4 md:p-6 border-b border-gray-200",children:[(0,c.jsx)("p",{className:"mb-0 font-bold text-gray-900 truncate",children:_.domain||_.subdomain+(0,h.lz)()}),"public"===_.status?(0,c.jsxs)("p",{className:"flex items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 rounded-3xl bg-green-100",children:[(0,c.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Published"]}):(0,c.jsxs)("p",{className:"flex items-center gap-2 text-xs text-yellow-800 px-2.5 py-0.5 rounded-3xl bg-yellow-100",children:[(0,c.jsx)("span",{className:"w-1 h-1 rounded-full bg-yellow-400"})," Private"]})]}),S&&(0,c.jsx)(U,{}),(0,c.jsx)("div",{className:"px-0 md:px-2 pt-0 md:pt-2",children:(0,c.jsxs)("div",{className:"h-80 relative overflow-hidden",children:[(0,c.jsxs)("div",{className:"hidden md:block absolute top-16 left-4 right-28 h-150 shadow-website-screenshot rounded-xl overflow-hidden bg-white",children:[(0,c.jsxs)("div",{className:"bg-gray-100 py-2.5 px-2.5 flex gap-1.5",children:[(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"}),(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"}),(0,c.jsx)("span",{className:"rounded-full w-2 h-2 bg-gray-300"})]}),(0,c.jsxs)("div",{className:"website-thumbnail-desktop-container",children:[(0,c.jsx)("div",{className:"absolute inset-0 z-5"}),(0,c.jsx)("div",{className:"website-thumbnail-desktop",children:(0,c.jsx)("iframe",{onLoad:function(){O?(R(!1),setTimeout((function(){X()}),500),X()):z(!0)},src:"/website/preview",frameBorder:"0"})})]})]}),(0,c.jsx)("div",{className:"absolute top-4 left-1/2 -ml-32 md:ml-0 md:left-auto md:right-4 p-2.5 w-64 h-150 shadow-website-screenshot rounded-3xl bg-gray-100 overflow-hidden",children:(0,c.jsxs)("div",{className:"website-thumbnail-mobile-container",children:[(0,c.jsx)("div",{className:"absolute inset-0 z-5"}),(0,c.jsx)("div",{className:"website-thumbnail-mobile",children:(0,c.jsx)("iframe",{onLoad:function(){O?(R(!1),setTimeout((function(){X()}),500)):z(!0)},className:"rounded-3xl",src:"/website/preview",frameBorder:"0"})})]})})]})})]})]})]})]})]})}_.auth=!0}},function(e){e.O(0,[611,9774,2888,179],(function(){return s=11552,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
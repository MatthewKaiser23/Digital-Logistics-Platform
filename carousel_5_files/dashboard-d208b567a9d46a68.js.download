(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(72708)}])},72708:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return H}});var n=s(47568),a=s(10253),l=s(51351),r=s(70655),i=s(85893),d=s(67294),o=s(65082),c=s(86067),u=s(26042),x=s(69396),m=s(41664),h=s.n(m),g=s(33303),f=s(30112),p=s(16494),v=["January","February","March","April","May","June","July","August","September","October","November","December"];function b(){var e,t,s=(0,d.useState)(!1),a=s[0],l=s[1],c=(0,d.useState)((0,g.tl)("dashboard.website")),m=c[0],b=c[1],j=(0,d.useState)(0),N=j[0],w=j[1],y=(0,o.Z)().get,Z=new Date,S=function(){var e=(0,n.Z)((function(){var e,t;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return l(!0),[4,y("/dashboard/website-overview")];case 1:return(e=s.sent())&&!0===e.status&&e.content&&(t=(0,x.Z)((0,u.Z)({},e.content),{subdomain:(0,g.nv)(e.content.subdomain)}),(0,g.Fs)("dashboard.website",t),b(t),w(t.currentVisitors)),l(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();function k(){return C.apply(this,arguments)}function C(){return(C=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,y("/website/get-online-users")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&w(e.content),[2]}}))}))).apply(this,arguments)}return(0,d.useEffect)((function(){S();var e=setInterval(k,1e4);return function(){clearInterval(e)}}),[]),(0,i.jsxs)("div",{className:"grid lg:grid-cols-3 gap-5",children:[(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,i.jsx)("p",{className:"font-bold",children:"Website"}),"public"===(null===m||void 0===m?void 0:m.status)&&(0,i.jsx)(h(),{href:m.sslCertificate||"active"===(null===(e=m.cloudflare)||void 0===e||null===(t=e.ssl)||void 0===t?void 0:t.status)?"https://"+m.domain:"http://"+(m.subdomain+(0,g.lz)()),children:(0,i.jsxs)("a",{className:"link inline-flex items-center gap-1 text-sm",target:"_blank",children:["View website",(0,i.jsx)(f.Z,{icon:"ExternalLinkIcon",className:"w-4 h-4 flex-shrink-0"})]})})]}),!m&&a&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),"public"===(null===m||void 0===m?void 0:m.status)&&(0,i.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 rounded-3xl bg-green-100",children:[(0,i.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Public"]}),"private"===(null===m||void 0===m?void 0:m.status)&&(0,i.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-yellow-800 px-2.5 py-0.5 rounded-3xl bg-yellow-100",children:[(0,i.jsx)("span",{className:"w-1 h-1 rounded-full bg-yellow-400"})," Private"]}),"disabled"===(null===m||void 0===m?void 0:m.status)&&(0,i.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-gray-800 px-2.5 py-0.5 rounded-3xl bg-gray-100",children:[(0,i.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-400"})," Disabled"]})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[!m&&a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-[120px] !my-0"})]}),m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"font-bold mb-2",children:[v[Z.getMonth()]," website visits"]}),(0,i.jsx)("p",{className:"text-h4 font-bold text-gray-900",children:m.monthVisits})]})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[!m&&a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-[120px] !my-0"})]}),m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"font-bold mb-2",children:"Current website visitors"}),(0,i.jsx)("p",{className:"text-h4 font-bold text-gray-900",children:N})]})]})]})}var j=s(30120),N=s(31877);function w(){var e,t,s=(0,d.useState)(!1),a=s[0],l=s[1],c=(0,d.useState)((0,g.tl)("money.financialAccount")),u=c[0],x=c[1],m=(0,d.useState)((0,g.tl)("money.dashboard.balance")),f=m[0],v=m[1],b=(0,o.Z)().get,w=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return l(!0),[4,b("/money/get-financial-account")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,g.Fs)("money.financialAccount",e.content),x(e.content),y()),l(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return l(!0),[4,b("/money/get-balance-by-dates",{startDate:j.ou.now().set({day:1}).toFormat("yyyy-MM-dd")})];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,g.Fs)("money.dashboard.balance",e.content),v(e.content)),l(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){if(!f||0===f.length)return 0;for(var e=[],t=[],s=0;s<f.length;s++)e.push(f[s].date),t.push(f[s].balance);if(document.getElementById("funds-balance")){var n=document.getElementById("funds-balance").getContext("2d");if(n){var a=n.createLinearGradient(0,0,400,0);a.addColorStop(0,"rgba(79,70,229,0)"),a.addColorStop(1,"rgba(79,70,229,1)");var l=new N.Z(n,{type:"line",data:{labels:e,datasets:[{label:"Amount",data:t,xAxisID:"x",backgroundColor:a,borderColor:["rgba(79, 69, 228, 1)"],borderWidth:1,pointRadius:4,pointHoverRadius:8,pointBackgroundColor:e.length>1?"rgba(0,0,0,0)":"rgba(79, 69, 228, 1)",pointBorderColor:e.length>1?"rgba(0,0,0,0)":"rgba(79, 69, 228, 1)",pointHoverBackgroundColor:"rgba(79, 69, 228, 1)",pointHoverBorderColor:"rgba(79, 69, 228, 1)",borderJoinStyle:"round",tension:.01,fill:!0}]},options:{hover:{mode:null},responsive:!0,spanGaps:!0,maintainAspectRatio:!0,scales:{y:{display:!1,beginAtZero:!0,ticks:{stepSize:5},grid:{display:!1,drawBorder:!1,drawOnChartArea:!1}},x:{type:"category",labels:e,display:!1,grid:{display:!1,drawBorder:!1,drawOnChartArea:!1},offset:!0,ticks:{maxRotation:0,callback:function(t,s){var n=Math.floor(e.length/5);return 0==s||s%n==0||s==e.length-1?j.ou.fromFormat(e[s],"DD").toFormat("MM dd"):""}}}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}}});return function(){l.destroy()}}}}),[f]),(0,d.useEffect)((function(){w()}),[]),(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,i.jsx)("p",{className:"font-bold",children:"Account balance"}),(0,i.jsx)(h(),{href:"/money/dashboard",children:(0,i.jsx)("a",{className:"link text-sm",children:"View account"})})]}),!u&&a&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),u&&(0,i.jsx)("p",{className:"text-h3 font-bold text-gray-900",children:(null===u||void 0===u||null===(e=u.balance)||void 0===e||null===(t=e.cash)||void 0===t?void 0:t.usd)?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u.balance.cash.usd/100):"$0.00"})]}),(0,i.jsx)("div",{children:(0,i.jsx)("canvas",{className:"bg-gray-50 !h-16 rounded",id:"funds-balance"})})]})})}function y(){var e=(0,d.useState)(!1),t=e[0],s=e[1],a=(0,d.useState)((0,g.tl)("business.insurances")),l=a[0],c=a[1],u=(0,o.Z)().get,x=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return s(!0),[4,u("/insurance/get-by-filter")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&e.content.data&&((0,g.Fs)("business.insurances",e.content.data),c(e.content.data)),s(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),m=function(e){var t=j.ou.now(),s=j.ou.fromISO(e.start).toJSDate(),n=j.ou.fromISO(e.end).toJSDate();return t>=s&&t<=n};return(0,d.useEffect)((function(){x()}),[]),(0,i.jsx)("div",{className:"flex-1 p-6 bg-white rounded-lg shadow",children:(0,i.jsxs)("div",{className:"flex gap-6",children:[(null===l||void 0===l?void 0:l.length)>0?(0,i.jsx)("div",{className:(0,g.AK)("flex-shrink-0 flex items-center justify-center w-12 h-12 rounded",m(l[0])?"bg-green-100":"bg-red-50"),children:(0,i.jsx)(f.Z,{icon:"ShieldCheckIcon",className:(0,g.AK)("w-5 h-5",m(l[0])?"text-green-600":"text-red-600")})}):(0,i.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12 rounded bg-gray-100",children:(0,i.jsx)(f.Z,{icon:"ShieldCheckIcon",className:"w-5 h-5 text-gray-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-bold text-gray-900 mb-2",children:"Insurance provider"}),!l&&t&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),(null===l||void 0===l?void 0:l.length)>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,i.jsx)("p",{className:"text-h4 text-black font-bold",children:l[0].provider}),l.length>1&&(0,i.jsxs)("p",{className:"text-xs text-blue-800 px-2.5 py-0.5 rounded-3xl bg-blue-100",children:["+",l.length-1]})]}),!m(l[0])&&(0,i.jsx)("p",{className:"text-xs text-red-600",children:"Expired"})]})]})]})})}function Z(){var e,t=(0,d.useState)(!1),s=t[0],a=t[1],l=(0,d.useState)((0,g.tl)("business")),c=l[0],u=l[1],x=(0,o.Z)().get,m=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return a(!0),[4,x("/business/get",{populate:!0})];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,g.Fs)("business",e.content),u(e.content)),a(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){m()}),[]),(0,i.jsx)("div",{className:"flex-1 p-6 bg-white rounded-lg shadow",children:(0,i.jsxs)("div",{className:"flex gap-6",children:[(0,i.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12 bg-blue-100 rounded",children:(0,i.jsx)(f.Z,{icon:"UserIcon",className:"w-5 h-5 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-bold text-gray-900 mb-2",children:"Business structure"}),!c&&s&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),(null===c||void 0===c||null===(e=c.structure)||void 0===e?void 0:e.Structure)&&(0,i.jsx)("p",{className:"text-h4 text-black font-bold",children:c.structure.Structure.name})]})]})})}var S=s(11163);function k(){var e,t,s=(0,d.useState)(!1),a=s[0],l=s[1],c=(0,d.useState)((0,g.tl)("dashboard.invoices")),u=c[0],x=c[1],m=(0,d.useState)((0,g.tl)("dashboard.invoices.overview")),f=m[0],v=m[1],b=(0,S.useRouter)(),N=(0,o.Z)().get,w=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return l(!0),[4,N("/invoice/get-by-filter",{perPage:5}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,g.Fs)("dashboard.invoices",e.content),x(e.content)),l(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,n.Z)((function(){var e,t;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return e={start:j.ou.now().startOf("day").minus({years:20}).toISO(),statuses:["paid","paid","unpaid","past-due"]},[4,N("/invoice/get-overview-by-filter",e).catch(console.log)];case 1:return(t=s.sent())&&!0===t.status&&t.content&&((0,g.Fs)("dashboard.invoices.overview",t.content),v(t.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){w(),y()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 p-6",children:[(0,i.jsx)("p",{className:"font-bold",children:"Recent invoices"}),(null===u||void 0===u?void 0:u.invoices)&&(0,i.jsx)(h(),{href:"/invoices/list",children:(0,i.jsx)("a",{className:"link text-sm",children:"View all"})})]}),!(null===u||void 0===u?void 0:u.invoices)&&a&&(0,i.jsx)(p.Z,{className:"!my-0 px-6 pb-6",variant:"table",rows:4,cols:4}),(null===u||void 0===u?void 0:u.invoices)&&(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 mb-2",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Contact / Invoice #"}),(0,i.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Date issued"}),(0,i.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Due date"}),(0,i.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Total"}),(0,i.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Status"}),(0,i.jsx)("th",{scope:"col",className:"md:hidden px-6 py-3 text-right text-xs font-medium text-gray-500 bg-gray-50 tracking-wider",children:"Total / Due Date"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200",children:u.invoices.map((function(e){return(0,i.jsxs)("tr",{className:"bg-white hover:bg-gray-50 cursor-pointer",onClick:function(){return b.push("/invoices/preview/".concat(e._id))},children:[(0,i.jsxs)("td",{className:"p-4 lg:p-6 whitespace-nowrap text-sm font-medium text-gray-900",children:[(0,i.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,i.jsx)("span",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis max-w-50",children:e.Customer?e.Customer.firstName+" "+e.Customer.lastName:"-"}),(0,i.jsxs)("span",{className:"text-gray-500 text-body-sm",children:["#",String(e.number).padStart(3,"0")]})]}),(0,i.jsxs)("div",{className:"md:hidden",children:[(0,i.jsx)("span",{className:"block mb-1",children:e.Customer?e.Customer.firstName+" "+e.Customer.lastName:"-"}),(0,i.jsxs)("p",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-gray-500 text-body-sm",children:["#",String(e.number).padStart(3,"0")]}),"unpaid"===e.status||"expired"===e.status?e.sent?(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Unpaid"}):(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-gray-100 text-gray-800",children:"Draft"}):(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-green-100 text-green-800",children:"Paid"}),"paid"!==e.status&&j.ou.fromISO(e.dueDate).endOf("day")<j.ou.now().startOf("day")&&(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-red-100 text-red-800",children:"Past due"})]})]})]}),(0,i.jsx)("td",{className:"hidden md:table-cell p-4 lg:p-6 whitespace-nowrap text-sm text-gray-500",children:j.ou.fromISO(e.date).toFormat("DD")}),(0,i.jsx)("td",{className:"hidden md:table-cell p-4 lg:p-6 whitespace-nowrap text-sm text-gray-500",children:j.ou.fromISO(e.dueDate).toFormat("DD")}),(0,i.jsxs)("td",{className:"hidden md:table-cell p-4 lg:p-6 whitespace-nowrap text-sm text-gray-500",children:["$",(Number((e.subtotal*(1+e.tax)).toFixed(2))+Number((e.includeFees?e.fee:0).toFixed(2))).toFixed(2)]}),(0,i.jsxs)("td",{className:"md:hidden p-4 whitespace-nowrap text-right",children:[(0,i.jsxs)("p",{className:"text-black font-medium mb-1",children:["$",(e.subtotal*(1+e.tax)+(e.includeFees?e.fee:0)).toFixed(2)]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:j.ou.fromISO(e.dueDate).toFormat("dd LLL, yyyy")})]}),(0,i.jsxs)("td",{className:"hidden md:table-cell px-6 py-3 whitespace-nowrap text-sm text-gray-500 space-x-2",children:["unpaid"===e.status||"expired"===e.status?e.sent?(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Unpaid"}):(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-gray-100 text-gray-800",children:"Draft"}):(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-green-100 text-green-800",children:"Paid"}),"paid"!==e.status&&j.ou.fromISO(e.dueDate).endOf("day")<j.ou.now().startOf("day")&&(0,i.jsx)("span",{className:"px-2.5 py-0.5 inline-flex text-xs leading-5 font-medium rounded-full bg-red-100 text-red-800",children:"Past due"})]})]},e._id)}))})]})]}),(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)("p",{className:"font-bold mb-2",children:"Past due"}),!f&&a&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),f&&(0,i.jsxs)("p",{className:"text-h4 font-bold text-gray-900 mb-2",children:["$",null===(e=f.pastDue)||void 0===e?void 0:e.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)("p",{className:"font-bold mb-2",children:"Unpaid"}),!f&&a&&(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"}),f&&(0,i.jsxs)("p",{className:"text-h4 font-bold text-gray-900 mb-2",children:["$",null===(t=f.unpaid)||void 0===t?void 0:t.toFixed(2)]})]})]})]})}var C=s(57333),F=s(52077),_=["January","February","March","April","May","June","July","August","September","October","November","December"];function I(){var e,t,s=(0,d.useState)(null),a=s[0],l=s[1],c=(0,d.useState)(null),m=c[0],h=c[1],v=(0,d.useState)(!1),b=v[0],j=v[1],N=(0,d.useState)(!1),w=N[0],y=N[1],Z=(0,o.Z)(),S=Z.get,k=Z.post,I=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return y(!0),[4,S("/dashboard/get-target").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&null!==e.content&&l(e.content),y(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return y(!0),[4,S("/dashboard/invoices-revenue").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&null!==e.content&&h(e.content),y(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),D=function(){return a.target?parseFloat(new String(a.target).replace(/[^0-9-.]/gi,""),10):0},A=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return y(!0),[4,k("/dashboard/set-target",{target:D()}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&null!==e.content?(l((0,x.Z)((0,u.Z)({},a),{target:e.content})),j(!1)):g.Z9.error(e.message),I(),y(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){I(),E()}),[]),(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[!a&&w&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsx)(p.Z,{variant:"widget",className:"!my-0"})})}),a&&(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow flex flex-col justify-center xl:col-span-1",children:b?(0,i.jsxs)("div",{className:"py-1.5",children:[(0,i.jsxs)("p",{className:"text-body text-gray-900 flex justify-between",children:["Edit ",_[(new Date).getMonth()]," target ",(0,i.jsx)("button",{className:"link sm",onClick:function(){j(!1),I()},children:"Cancel"})]}),(0,i.jsxs)("div",{className:"flex mt-[9px] items-center",children:[(0,i.jsx)(C.Z,{value:a.target,onChange:function(e){return l((0,x.Z)((0,u.Z)({},a),{target:e.target.value}))},thousandSeparator:",",decimalSeparator:".",allowNegative:!1,decimalScale:2,prefix:"$",className:"input"}),(0,i.jsx)(F.Z,{className:"primary ml-2",onClick:function(){return A()},loading:w,children:"Save"})]}),isNaN(D())?(0,i.jsx)("p",{className:"mt-1 mb-3 text-sm text-red-600",children:"You must provide a valid number"}):""]}):a.target>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"font-bold text-gray-900 flex justify-between",children:["Monthly revenue goal ",(0,i.jsx)("button",{className:"link sm",onClick:function(){return j(!0)},children:"Edit goal"})]}),(0,i.jsxs)("div",{className:"flex mt-6 mb-5 items-center relative",children:[a.sales<a.target&&(0,i.jsxs)("div",{className:"w-8 h-8 text-label-xs border-2 border-indigo-600 bg-white rounded-full flex items-center justify-center absolute",style:{left:"calc(".concat(0==a.target?0:a.sales/a.target*100,"% - 16px)")},children:[Math.floor(a.sales/a.target*100),"%"]}),(0,i.jsx)("div",{className:"bg-gray-200 flex-1 h-0.75",children:(0,i.jsx)("div",{className:"bg-indigo-600 h-full",style:{maxWidth:"".concat(0==a.target?100:a.sales/a.target*100,"%")}})}),a.sales>=a.target&&(0,i.jsxs)("div",{className:"w-8 h-8 border-2 border-green-500 bg-green-500 rounded-full flex items-center justify-center relative",children:[(0,i.jsx)(f.Z,{icon:"CheckIcon",className:"h-5 w-5 text-white"}),(0,i.jsx)("div",{className:"animate-ping w-8 h-8 border-2 border-green-500 bg-green-500 rounded-full flex items-center justify-center absolute"})]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-body-sm font-normal text-gray-700",children:"$0"}),(0,i.jsxs)("span",{className:"text-body-sm font-semibold text-indigo-600",children:["$",a.sales.toFixed(2)]}),(0,i.jsxs)("span",{className:"text-body-sm font-normal text-gray-700",children:["$",a.target]})]})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"bg-indigo-50 rounded p-4 mr-6",children:(0,i.jsx)(f.Z,{icon:"ChartBarIcon",className:"w-6 h-6 text-indigo-600 "})}),(0,i.jsxs)("div",{className:"flex flex-col mr-4",children:[(0,i.jsx)("p",{className:"text-base font-bold text-gray-900",children:"Sales goal"}),(0,i.jsx)("p",{className:"text-lable font-medium text-gray-600",children:"set a goal for your business."})]}),(0,i.jsx)("button",{className:"primary sm ml-auto whitespace-nowrap",onClick:function(){return j(!0)},children:"Set goal"})]})})}),!m&&w&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsxs)("p",{className:"font-bold mb-2",children:[_[(new Date).getMonth()]," revenue"]}),(0,i.jsx)(p.Z,{variant:"text",className:"w-[120px] !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-[100px] !my-0"})]})}),m&&(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsxs)("p",{className:"font-bold mb-2",children:[_[(new Date).getMonth()]," revenue"]}),(0,i.jsxs)("p",{className:"text-h4 font-bold text-gray-900 mb-2",children:["$",null===m||void 0===m||null===(e=m.monthTotal)||void 0===e?void 0:e.toFixed(2)]}),(0,i.jsxs)("p",{className:"text-gray-500",children:["$",null===m||void 0===m||null===(t=m.allTimeTotal)||void 0===t?void 0:t.toFixed(2)," total"]})]})]})}var E=s(25675),D=s.n(E),A=s(33299),O=s(51121);function M(e){var t,s,a,l,c,u,x,m=e.checkBlocks,p=(0,d.useState)(!1),v=p[0],b=p[1],j=(0,d.useState)(null),N=j[0],w=j[1],y=(0,d.useState)(""),Z=y[0],k=y[1],_=(0,o.Z)(),I=_.get,E=_.post,M=(0,S.useRouter)(),B=(0,A.useSession)().data,T=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return b(!0),[4,I("/onboarding/get-next-question-for-home-onboarding")];case 1:return(e=t.sent())&&!0===e.status&&e.content?w(e.content):w(null),b(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,n.Z)((function(e){var t;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return b(!0),[4,E("/onboarding/answer-question-on-home-onboarding",{idDefaultHomeOnboarding:N._id,answer:e.value}).catch(console.log)];case 1:return(t=s.sent())&&!0===t.status?[4,q(e)]:[3,3];case 2:return s.sent()&&(T(),e.action&&"function"===typeof m&&m()),[3,4];case 3:b(!1),s.label=4;case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,n.Z)((function(e){var t,s,n,a,l,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(!e.action)return[2,!0];switch(e.action){case"save-budget":return[3,1];case"save-revenue":return[3,3];case"enable-website":return[3,5];case"save-name":return[3,9]}return[3,11];case 1:return[4,E("/business/update-budget",{budget:e.value}).catch(console.log)];case 2:return r.sent(),[2,!0];case 3:return[4,E("/dashboard/set-target",{target:Z}).catch(console.log)];case 4:return r.sent(),[2,!0];case 5:return[4,E("/website/toggle-status",{status:"private",onboarding:!0})];case 6:return(t=r.sent())&&!0===t.status?[4,M.push("/website/design")]:[3,8];case 7:r.sent(),r.label=8;case 8:return[2,!0];case 9:return n=Z.split(" "),a=n.splice(0,1).toString(),l=n.join(" "),[4,E("/user/save-name",{firstName:a,lastName:l})];case 10:return r.sent(),(0,A.signIn)("revalidate-token",{token:null===B||void 0===B||null===(s=B.user)||void 0===s?void 0:s.token,redirect:!1,idBusiness:sessionStorage.getItem("idBusiness")}).catch((function(e){M.push("/login")})),[2,!0];case 11:return"free"!==(null===B||void 0===B||null===(i=B.user)||void 0===i?void 0:i.subscriptionStatus)||"/website"===e.action?[3,13]:[4,M.push("/upgrade?referer=/onboarding")];case 12:return r.sent(),[2,!0];case 13:return[4,M.push(e.action)];case 14:return r.sent(),[2,!1];case 15:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){T()}),[]);var P=null===B||void 0===B||null===(t=B.user)||void 0===t||null===(s=t.name)||void 0===s?void 0:s.split(" ");return(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"max-w-xl",children:[(0,i.jsxs)("p",{className:"text-h1 font-extrabold mb-6",children:["Hi",P.length?" "+P[0]:"",", let","'","s get started!"]}),(null===N||void 0===N?void 0:N.showGreeting)&&(0,i.jsx)("p",{className:"text-sm text-gray-500 mb-5",children:"Answer a few questions to get your business set up for success."})]}),N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 bg-indigo-600 rounded-lg p-6 mb-5",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white font-bold",children:N.question}),N.link&&(0,i.jsx)(h(),{href:N.link,children:(0,i.jsxs)("a",{className:"inline-flex items-center gap-2 text-indigo-100 text-sm font-bold mt-2",target:"_blank",children:[(0,i.jsx)("span",{children:"Learn more"}),(0,i.jsx)(f.Z,{icon:"ExternalLinkIcon",className:"w-4 h-4"})]})})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[N.showCustomAnswer&&("save-revenue"===(null===(l=null===(a=N.options)||void 0===a?void 0:a.find((function(e){return 1===e.value})))||void 0===l?void 0:l.action)&&(0,i.jsx)(C.Z,{onChange:function(e){return k(e.target.value?parseFloat(e.target.value.replace(/[^0-9.]/g,""),10):0)},thousandSeparator:",",decimalSeparator:".",allowNegative:!1,decimalScale:2,prefix:"$",placeholder:"$0",allowLeadingZeros:!1,allowEmptyFormatting:!1,className:"input"})||"save-name"===(null===(u=null===(c=N.options)||void 0===c?void 0:c.find((function(e){return 1===e.value})))||void 0===u?void 0:u.action)&&(0,i.jsx)(O.Z,{value:Z,onChange:function(e){return k(e)}})),null===(x=N.options)||void 0===x?void 0:x.map((function(e){return(0,i.jsx)(F.Z,{className:(0,g.AK)("flex-shrink-0",e.value>0?"light":"secondary"),onClick:function(){return $(e)},loading:v,children:e.label},e.value)}))]})]}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[N.image&&(0,i.jsx)("div",{className:"lg:flex-1 relative w-full h-60 mb-2 lg:mb-0 rounded-lg overflow-hidden",children:(0,i.jsx)(D(),{unoptimized:!0,src:N.image,layout:"fill",objectFit:"cover",alt:N.info})}),N.info&&(0,i.jsxs)("div",{className:(0,g.AK)("lg:flex-1 flex gap-5 lg:gap-6 w-full p-8 bg-white rounded-lg shadow z-5",N.image&&"lg:-ml-6"),children:[N.showInfoIcon&&(0,i.jsx)(f.Z,{icon:"InformationCircleIcon",className:"w-6 h-6 flex-shrink-0 mt-1"}),(0,i.jsx)("p",{className:"text-xl font-extrabold text-gray-900 transition-all",children:N.info})]})]})]})]})}var B=s(11355),T=s(69737),$=s(33752),q=s.n($);function P(e){var t=e.open,s=e.setOpen;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(B.u,{show:t,as:d.Fragment,children:(0,i.jsx)(T.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:s,static:!1,children:(0,i.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,i.jsx)(B.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(T.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,i.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,i.jsx)(B.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,i.jsxs)("div",{className:"inline-block align-bottom w-full max-w-200 bg-white rounded-t-lg md:rounded-lg text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle",children:[(0,i.jsxs)("div",{className:"flex items-center p-4 lg:p-6 border-b border-gray-200",children:[(0,i.jsx)(T.V.Title,{className:"font-bold text-gray-900",children:"Welcome"}),(0,i.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return s(!1)},children:(0,i.jsx)(f.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,i.jsxs)("div",{className:"p-4 lg:p-6 max-h-150 overflow-y-auto",children:[(0,i.jsx)("h4",{className:"text-h4 mb-4",children:"Here\u2019s what else you can do with Durable."}),(0,i.jsxs)(q(),{cellAlign:"center",transitionMode:"fade",defaultControlsConfig:{nextButtonClassName:"hidden md:block -mt-10",nextButtonStyle:{background:"transparent"},nextButtonText:(0,i.jsx)(f.Z,{icon:"ChevronRightIcon",className:"w-6 h-6"}),prevButtonClassName:"hidden md:block -mt-10",prevButtonStyle:{background:"transparent"},prevButtonText:(0,i.jsx)(f.Z,{icon:"ChevronLeftIcon",className:"w-6 h-6"})},renderBottomCenterControls:function(e){return(0,i.jsx)("ul",{className:"flex gap-4 lg:gap-5 mt-6",children:[0,1,2].map((function(t){return(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:(0,g.AK)("w-2.5 h-2.5 rounded-full transition-all",e.currentSlide===t&&"bg-indigo-600 ring-4 ring-indigo-200",e.currentSlide>t&&"bg-indigo-600",e.currentSlide<t&&"bg-gray-200"),onClick:function(){return e.goToSlide(t)}})},t)}))})},children:[(0,i.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-2 items-center gap-4 md:gap-10 md:min-h-100 w-full py-8 px-6 md:px-16 bg-indigo-600 rounded-2xl overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-1/2 -left-1/2 h-full bg-indigo-700",style:{width:"200%",transform:"rotate(-20deg)"}}),(0,i.jsxs)("div",{className:"relative z-5",children:[(0,i.jsx)("p",{className:"text-h3 md:text-h2 font-bold text-white mb-4",children:"Put your new site to work."}),(0,i.jsx)("p",{className:"md:text-xl text-white",children:"Boost site visits with smart SEO tools and track traffic with intuitive analytics."})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4 relative z-5",children:[(0,i.jsxs)("div",{className:"flex items-center gap-5 p-4 bg-white rounded-xl",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-14 h-14 bg-indigo-50 rounded-lg",children:(0,i.jsx)(f.Z,{icon:"SparklesIcon",className:"w-6 h-6 text-indigo-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-bold",children:"Online users"}),(0,i.jsx)("p",{className:"text-h4 font-bold text-indigo-600",children:"12"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-5 p-4 bg-white rounded-xl",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-14 h-14 bg-indigo-50 rounded-lg",children:(0,i.jsx)(f.Z,{icon:"UserGroupIcon",className:"w-6 h-6 text-indigo-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-bold",children:"Unique visitors"}),(0,i.jsx)("p",{className:"text-h4 font-bold text-indigo-600",children:"134"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-5 p-4 bg-white rounded-xl",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-14 h-14 bg-indigo-50 rounded-lg",children:(0,i.jsx)(f.Z,{icon:"EyeIcon",className:"w-6 h-6 text-indigo-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-bold",children:"Page views"}),(0,i.jsx)("p",{className:"text-h4 font-bold text-indigo-600",children:"212"})]})]})]})]}),(0,i.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-2 items-center gap-4 md:gap-10 min-h-100 w-full py-8 px-6 md:px-16 bg-indigo-600 rounded-2xl overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-1/2 -left-1/2 h-full bg-indigo-700",style:{width:"200%",transform:"rotate(-20deg)"}}),(0,i.jsxs)("div",{className:"relative z-5",children:[(0,i.jsx)("p",{className:"text-h3 md:text-h2 font-bold text-white mb-4",children:"Start booking jobs."}),(0,i.jsx)("p",{className:"md:text-xl text-white",children:"Use your CRM to follow up with leads and to create customer contacts."})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4 relative z-5 pointer-events-none",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4 p-5 bg-white rounded-xl",children:[(0,i.jsx)("p",{className:"font-bold",children:"Online users"}),(0,i.jsx)("p",{className:"text-h4 font-bold",children:"Hanna Korsgaard"}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{className:"secondary xs",children:"Call"}),(0,i.jsx)("button",{className:"primary xs",children:"Compose message"})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-3 p-4 bg-indigo-100 rounded-xl",children:[(0,i.jsx)("p",{className:"font-semibold text-sm",children:"Question"}),(0,i.jsx)("p",{className:"text-sm",children:"Hi Tom, I had a question about the ser..."})]})]})]}),(0,i.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-2 items-center gap-4 md:gap-10 min-h-100 w-full py-8 px-6 md:px-16 bg-indigo-600 rounded-2xl overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-1/2 -left-1/2 h-full bg-indigo-700",style:{width:"200%",transform:"rotate(-20deg)"}}),(0,i.jsxs)("div",{className:"relative z-5",children:[(0,i.jsx)("p",{className:"text-h3 md:text-h2 font-bold text-white mb-4",children:"Get paid faster."}),(0,i.jsx)("p",{className:"md:text-xl text-white mb-4",children:"Create and send professional invoices and accept credit card or secure banking payments (ACH)."}),(0,i.jsx)("button",{className:"light !bg-red-500 hover:!bg-red-600 !border-red-500 hover:!border-red-600 !text-white !font-medium lg",onClick:function(){return s(!1)},children:"Get started"})]}),(0,i.jsxs)("div",{className:"flex flex-col relative z-5 bg-white py-5 px-4 rounded-xl",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("p",{className:"text-h3 md:text-h4 font-bold",children:"Invoice"}),(0,i.jsx)("div",{className:"py-2.5 px-6 rounded-4xl bg-green-100 text-lg text-green-800 shadow-md",children:"Paid"})]}),(0,i.jsx)("p",{className:"text-sm font-semibold mb-1",children:"John Hilden-Garcia"}),(0,i.jsxs)("div",{className:"hidden md:block",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"johnhildengarcia@gmail.com"}),(0,i.jsxs)("div",{className:"bg-gray-100 rounded-lg mb-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 p-3",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Consulation"}),(0,i.jsx)("p",{className:"text-sm font-semibold text-right",children:"$1,100"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 p-3",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Materials"}),(0,i.jsx)("p",{className:"text-sm font-semibold text-right",children:"$1,300"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 mb-2",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Subtotal"}),(0,i.jsx)("p",{className:"text-sm font-semibold text-right",children:"$2,400"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 mb-6",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Tax"}),(0,i.jsx)("p",{className:"text-sm font-semibold text-right",children:"5%"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Total due"}),(0,i.jsx)("p",{className:"text-xl font-bold text-right",children:"$2,520"})]})]}),(0,i.jsxs)("div",{className:"md:hidden mt-6",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Total due"}),(0,i.jsx)("p",{className:"text-h3 font-bold",children:"$2,520"})]})]})]})]})]})]})})]})})})})}var U=s(73292);function H(e){e=null!==e?e:(0,l.Z)(new TypeError("Cannot destructure undefined"));var t,s,u,x,m,v,N,C,F,_,E=(0,a.Z)((0,c.Z)("layout.title","Home",!0),2),D=(E[0],E[1],(0,d.useState)((0,g.tl)("business.config"))),O=D[0],B=D[1],T=(0,d.useState)(!1),$=T[0],q=T[1],H=(0,d.useState)([]),z=H[0],R=H[1],J=(0,d.useState)(!1),K=J[0],L=J[1],V=(0,U.Z)(),G=(V.sendUserEvent,V.getAffiliateInfos,(0,A.useSession)().data),W=(0,o.Z)().get,X=(0,S.useRouter)(),Y=(null===G||void 0===G||null===(t=G.user)||void 0===t?void 0:t.trialEndsAt)?j.ou.fromISO(null===G||void 0===G||null===(s=G.user)||void 0===s?void 0:s.trialEndsAt).diffNow("days").toObject().days:0,Q=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return q(!0),[4,W("/dashboard/available-blocks")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&R(e.content),q(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,W("/business/get-config")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,g.Fs)("business.config",e.content),B(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){var e;(null===X||void 0===X||null===(e=X.query)||void 0===e?void 0:e.welcome)&&(X.replace({pathname:"/dashboard"},void 0,{shallow:!0}),L(!0))}),[null===X||void 0===X||null===(u=X.query)||void 0===u?void 0:u.welcome]),(0,d.useEffect)((function(){Q(),ee()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-5 max-w-4xl mx-auto",children:[(0,g.rK)(null===O||void 0===O?void 0:O.business)&&(0,i.jsx)("div",{className:"rounded-md bg-blue-50 p-4",children:(0,i.jsxs)("div",{className:"flex md:items-center gap-3",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(f.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),(0,i.jsxs)("div",{className:"flex-1 md:flex md:justify-between md:items-center",children:[(0,i.jsx)("p",{className:"text-sm text-blue-700 mb-3 md:mb-0",children:"We are reviewing your Durable Money account application."}),(0,i.jsx)(h(),{href:"/money/dashboard",children:(0,i.jsxs)("a",{className:"link flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-sm text-blue-700",children:"Check status"}),(0,i.jsx)(f.Z,{icon:"ArrowRightIcon",className:"w-4 h-4 text-blue-700"})]})})]})]})}),(0,i.jsx)(M,{checkBlocks:Q}),$&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsx)(p.Z,{variant:"widget",className:"!my-0"})}),(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-22 !my-0"})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-22 !my-0"})]})]}),(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsx)(p.Z,{className:"!my-0",variant:"table",rows:2,cols:4})}),(0,i.jsxs)("div",{className:"hidden lg:grid lg:grid-cols-2 gap-5",children:[(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !my-0"})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !my-0"})]})]}),(0,i.jsxs)("div",{className:"hidden lg:grid lg:grid-cols-3 gap-5",children:[(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !my-0"})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !my-0"})]}),(0,i.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow",children:[(0,i.jsx)(p.Z,{variant:"text",className:"w-28 !mt-0 !mb-2"}),(0,i.jsx)(p.Z,{variant:"text",className:"w-24 !my-0"})]})]}),(0,i.jsxs)("div",{className:"hidden lg:grid lg:grid-cols-2 gap-5",children:[(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsx)(p.Z,{variant:"widget",className:"!my-0"})}),(0,i.jsx)("div",{className:"p-6 bg-white rounded-lg shadow",children:(0,i.jsx)(p.Z,{variant:"widget",className:"!my-0"})})]})]}),(0,g.qE)(null===G||void 0===G||null===(x=G.user)||void 0===x?void 0:x.subscriptionStatus)&&z.find((function(e){return"money"===e}))&&(0,i.jsx)(w,{}),(0,g.qE)(null===G||void 0===G||null===(m=G.user)||void 0===m?void 0:m.subscriptionStatus)&&z.find((function(e){return"revenue"===e}))&&(0,i.jsx)(I,{}),(0,g.qE)(null===G||void 0===G||null===(v=G.user)||void 0===v?void 0:v.subscriptionStatus)&&z.find((function(e){return"invoice"===e}))&&(0,i.jsx)(k,{}),z.find((function(e){return"website"===e}))&&(0,i.jsx)(b,{}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5",children:[(0,g.qE)(null===G||void 0===G||null===(N=G.user)||void 0===N?void 0:N.subscriptionStatus)&&z.find((function(e){return"insurance"===e}))&&(0,i.jsx)(y,{}),(0,g.qE)(null===G||void 0===G||null===(C=G.user)||void 0===C?void 0:C.subscriptionStatus)&&z.find((function(e){return"structure"===e}))&&(0,i.jsx)(Z,{})]}),"trialing"===(null===G||void 0===G||null===(F=G.user)||void 0===F?void 0:F.subscriptionStatus)&&Y>0&&(0,i.jsxs)("div",{className:(0,g.AK)("p-6 flex rounded-lg items-center gap-4 shadow",Y>1?"bg-green-600":"bg-yellow-600"),children:[(0,i.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,i.jsx)("div",{className:"font-bold text-white mb-2",children:Y>1?"".concat(Math.ceil(Y)," day").concat(Y>1?"s":""," left in trial"):"Your trial ends tomorrow"}),(0,i.jsx)("div",{className:"text-small text-green-50",children:Y>1?"Upgrade your account to start using Durable after ".concat(j.ou.fromISO(null===G||void 0===G||null===(_=G.user)||void 0===_?void 0:_.trialEndsAt).toFormat("MMMM dd"),"."):"Don't lose the momentum you've made. Upgrade now to keep growing your business."})]}),(0,i.jsx)("div",{className:"flex-none",children:(0,i.jsx)(h(),{href:"/upgrade?referer=/dashboard",children:(0,i.jsx)("a",{className:(0,g.AK)("hover:bg-white p-4 h-10 rounded-lg flex items-center justify-center text-label font-medium",Y>1?"text-green-700 bg-green-50":"text-yellow-700 bg-yellow-50"),children:"Upgrade"})})})]})]}),(0,i.jsx)(P,{open:K,setOpen:L})]})}H.auth=!0}},function(e){e.O(0,[7570,7333,2475,9774,2888,179],(function(){return t=51075,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1641],{58657:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/business-selector",function(){return n(17590)}])},74007:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var s=n(26042),i=n(69396),l=n(85893),a=n(67294),r=n(46440),o=n(72510),c=n(2740),u=n(11355),d=n(33303),m=n(30112),x=n(69737),p=n(66605);function f(e){var t=e.className,n=e.icon,f=e.iconClassName,v=e.button,h=e.buttonClassName,g=e.openClassName,b=e.iconOpenClassName,y=e.children,j=e.inline,N=e.itemsContainerClass,w=e.mobileContent,I=e.tooltip,R=e.disabled,C=e.placementAlign,S=void 0===C?"end":C,k=e.backdrop,T=void 0!==k&&k,P=e.onOpen,Z=(0,d.ac)("(min-width: 1024px)"),M=(0,a.useState)(null),_=M[0],F=M[1],E=(0,a.useState)(null),z=E[0],A=E[1],D=(0,a.useRef)(null),B=(0,r.D)(_,z,{placement:"bottom-".concat(S),modifiers:[{name:"flip",options:{allowedAutoPlacements:["top-start","bottom-start","top-end","bottom-end"]}},{name:"offset",options:{offset:[0,8]}}]}),O=B.styles,K=B.attributes,L=function(e){return(0,l.jsx)(o.v.Button,{ref:F,className:(0,d.AK)(h,e?g:"","cursor-pointer z-5"),disabled:R,onClick:function(e){return e.stopPropagation()},children:v||(0,l.jsx)(m.Z,{icon:n||"DotsVerticalIcon",className:(0,d.AK)(f,"h-5 w-5",e?b||"text-indigo-500":!f&&"text-gray-500")})})};return(0,l.jsx)(o.v,{as:"div",className:(0,d.AK)("relative inline-block text-left",t),onClick:function(e){return e.stopPropagation()},children:function(e){var t=e.open;return"function"===typeof P&&P(t),(0,l.jsxs)(l.Fragment,{children:[I?(0,l.jsx)(p.Z,{alt:I,disabled:R,children:L(t)}):L(t),(0,l.jsxs)(c.h,{children:[t&&T&&(0,l.jsx)("div",{className:"fixed inset-0"}),Z?(0,l.jsx)("div",(0,i.Z)((0,s.Z)({className:"z-100",ref:D,style:O.popper},K.popper),{children:(0,l.jsx)(u.u,{show:t,as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",beforeEnter:function(){return A(D.current)},afterLeave:function(){return A(null)},children:(0,l.jsx)(o.v.Items,{className:(0,d.AK)(j?"static":"absolute","origin-top-right z-10 right-0 mt-1 w-full min-w-50 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden",N),children:y})})})):(0,l.jsx)(u.u.Root,{show:t,as:a.Fragment,children:(0,l.jsx)(x.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return!1},children:(0,l.jsxs)("div",{className:"flex items-end justify-center h-full text-center",children:[(0,l.jsx)(u.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,l.jsx)(u.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,l.jsxs)("div",{className:(0,d.AK)("w-full bg-white pt-2 text-left overflow-hidden shadow-xl transform transition-all",w?"flex flex-col h-full":"block rounded-t-lg"),children:[w&&(0,l.jsx)("div",{className:"flex-1 flex justify-center items-center p-10",children:w}),(0,l.jsx)("div",{className:(0,d.AK)("flex flex-col overflow-hidden",N),children:(0,l.jsx)(o.v.Items,{children:y})}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("button",{className:"light lg w-full",children:"Close"})})]})})]})})})]})]})}})}},17590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var s=n(47568),i=n(70655),l=n(85893),a=n(67294),r=n(11163),o=n(30112),c=n(9008),u=n.n(c),d=n(25675),m=n.n(d),x=n(52077),p=n(49250),f=n(33303),v=n(41664),h=n.n(v),g=n(51121),b=n(16494),y=n(74007),j=n(72510),N=n(77160),w=n(66605),I=n(30120),R=n(13466),C=n(11215),S=n(30818),k=n(26688);function T(){var e,t,n,c,d,v,T,P=(0,a.useState)(!1),Z=P[0],M=P[1],_=(0,a.useState)(""),F=_[0],E=_[1],z=(0,a.useState)(!1),A=z[0],D=z[1],B=(0,k.Z)(),O=B.confirm,K=B.ConfirmDialog,L=(0,C.Z)({query:F}),V=L.data,Q=L.set,U=(L.unset,L.isChangingBusiness),G=L.isCreatingBusiness,Y=L.changePicture,X=L.deleteBusiness,$=L.session,q=L.invitations,J=L.acceptInvitation,H=L.declineInvitation,W=L.isProcessingInvitation,ee=(0,r.useRouter)(),te=function(e){switch(e.stripeDetails.subscriptionStatus){case"active":var t;switch(null===(t=e.plan)||void 0===t?void 0:t.name){case"Startup":return(0,l.jsx)("div",{className:"z-5 bg-blue-100 rounded-full px-2 py-1 text-blue-800 text-label-sm font-medium ml-auto",children:"Startup"});case"Pro":return(0,l.jsx)("div",{className:"z-5 bg-green-100 rounded-full px-2 py-1 text-green-800 text-label-sm font-medium ml-auto",children:"Pro"});default:var n;return(0,l.jsx)("div",{className:"z-5 bg-gray-100 rounded-full px-2 py-1 text-gray-800 text-label-sm font-medium ml-auto",children:(null===(n=e.plan)||void 0===n?void 0:n.name)||"Durable plan"})}case"trialing":var s=function(e){return e.trialEndsAt?I.ou.fromISO(e.trialEndsAt).diffNow("days").toObject().days:0}(e);return(0,l.jsx)("div",{className:"z-5 bg-gray-100 rounded-full px-2 py-1 text-gray-800 text-label-sm font-medium ml-auto",children:s>0?"".concat(Math.ceil(s)," ").concat(s>=1?"days":"day"," left\n                    in trial"):"Trial ended"});case"past_due":return(0,l.jsx)("div",{className:"z-5 bg-red-100 rounded-full px-2 py-1 text-red-800 text-label-sm font-medium ml-auto",children:"Past due"});case"canceled":return(0,l.jsx)("div",{className:"z-5 bg-red-100 rounded-full px-2 py-1 text-red-800 text-label-sm font-medium ml-auto",children:"Canceled"});default:return(0,l.jsx)("div",{className:"z-5 bg-yellow-100 rounded-full px-2 py-1 text-yellow-800 text-label-sm font-medium ml-auto",children:"No plan"})}},ne=function(){return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 p-6 w-full bg-gray-100",children:[(0,l.jsx)("p",{className:"text-label text-gray-500",children:F?"No business found":"There are no businesses"}),!F&&(0,l.jsx)(se,{})]})},se=function(){return(0,l.jsx)(x.Z,{className:"primary",onClick:function(){return D(!0)},loading:G,children:"Create new business"})};return(0,a.useEffect)((function(){var e;(null===ee||void 0===ee||null===(e=ee.query)||void 0===e?void 0:e.create)&&(D(!0),ee.push("/business-selector",void 0,{shallow:!0}))}),[ee]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u(),{children:[(0,l.jsx)("title",{children:"Select your Business - Durable"}),(0,l.jsx)("meta",{name:"description",content:"Durable for your business"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),(0,l.jsx)("style",{children:" body { padding-left: 0 !important; }"})]}),(0,l.jsxs)("main",{className:"flex flex-col h-full overflow-y-auto",children:[A&&(0,l.jsx)(R.M,{open:A,setOpen:D,language:null!==(T=null===(e=navigator.language)||void 0===e?void 0:e.substring(0,2))&&void 0!==T?T:"en"}),U&&(0,l.jsx)(S.X,{text:"Loading business..."}),W&&(0,l.jsx)(S.X,{text:"Processing invitation..."}),(0,l.jsx)(p.Z,{title:(null===V||void 0===V?void 0:V.length)>1?"My businesses":"My business",tabs:null}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-start px-4 md:px-6",children:[V&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full flex-col relative flex items-center justify-between gap-3 ",children:0!==(null===V||void 0===V?void 0:V.length)||0!==q.length||F?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full relative flex items-center justify-between gap-3 mb-4 lg:mb-6",children:[(0,l.jsx)("div",{className:(0,f.AK)("flex-col md:flex-row gap-3 w-full md:w-auto justify-center md:justify-start",Z?"flex":"hidden md:flex"),children:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,l.jsx)(o.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,l.jsx)(g.Z,{className:"flex-1 w-full md:w-auto",inputClassName:"!pl-9",value:F,onChange:function(e){return E(e)},placeholder:"Search"})]}),(0,l.jsx)("div",{className:"flex-shrink-0 md:hidden",children:(0,l.jsx)("button",{className:"round secondary",onClick:function(){return M(!1)},children:(0,l.jsx)(o.Z,{icon:"XIcon",className:"w-4 h-4 text-gray-700"})})})]})})}),(0,l.jsx)("div",{className:(0,f.AK)(Z?"hidden":"md:hidden"),style:{marginBottom:"1.5px",marginTop:"1.5px"},children:(0,l.jsx)("button",{className:"round light",onClick:function(){return M(!0)},children:(0,l.jsx)(o.Z,{icon:"SearchIcon",className:"w-5 h-5"})})}),(0,l.jsx)("div",{className:(0,f.AK)("items-center gap-3",Z?"hidden md:flex":"flex"),children:(0,l.jsx)(se,{})})]})}):(0,l.jsx)("div",{className:"w-full pb-8 mx-auto",children:(0,l.jsx)(ne,{})})}),(null===$||void 0===$||null===(t=$.user)||void 0===t?void 0:t.customPlan)&&"active"===(null===$||void 0===$||null===(n=$.user)||void 0===n||null===(c=n.customPlan)||void 0===c?void 0:c.status)&&(0,l.jsx)("div",{className:"w-full md:w-auto self-start mb-4 lg:mb-6",children:(0,l.jsxs)("div",{className:" flex gap-2 border border-blue-200 align-middle  bg-blue-100 text-blue-800 rounded-md p-2",children:[(0,l.jsx)(o.Z,{icon:"InformationCircleIcon",className:"w-4 h-4 mt-1 text-blue-800 flex-shrink-0"}),(0,l.jsxs)("p",{className:"",children:["You have ",V.length," of  ",null===$||void 0===$||null===(d=$.user)||void 0===d||null===(v=d.customPlan)||void 0===v?void 0:v.businessesLimit," Businesses"]})]})})]}),!V&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-6 gap-10 lg:gap-8 xl:gap-10 w-full pb-8",children:[(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"}),(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"}),(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"}),(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"}),(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"}),(0,l.jsx)(b.Z,{variant:"card",className:"!max-w-full"})]}),((null===V||void 0===V?void 0:V.length)>0||q.length>0)&&(0,l.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-6 gap-10 lg:gap-8 xl:gap-10 w-full pb-8",children:[q&&q.length>0&&(null===q||void 0===q?void 0:q.map((function(e){var t,n,s,i,a,r,c,u;return(0,l.jsxs)("li",{className:"bg-white shadow rounded-lg flex flex-col overflow-hidden",children:[(0,l.jsxs)("div",{className:(0,f.AK)((null===e||void 0===e||null===(t=e.Business)||void 0===t||null===(n=t.picture)||void 0===n?void 0:n.url)?"bg-white":"bg-gray-300","h-56 w-full relative p-6 flex items-end"),children:[(0,l.jsx)("div",{className:(0,f.AK)("flex justify-center items-center absolute inset-0 z-0 opacity-40",(null===e||void 0===e||null===(s=e.Business)||void 0===s||null===(i=s.picture)||void 0===i?void 0:i.url)?"bg-transparent":"bg-indigo-600"),children:(null===e||void 0===e||null===(a=e.Business)||void 0===a||null===(r=a.picture)||void 0===r?void 0:r.url)?(0,l.jsx)(m(),{unoptimized:!0,src:null===e||void 0===e||null===(c=e.Business)||void 0===c||null===(u=c.picture)||void 0===u?void 0:u.url,layout:"fill",objectFit:"cover",alt:"Business picture"}):(0,l.jsx)(m(),{unoptimized:!0,src:(0,f.sd)("durable-icon.svg"),className:"brightness-0 invert",width:90,height:90,alt:"Business picture"})}),te(null===e||void 0===e?void 0:e.Business)]}),(0,l.jsxs)("div",{className:"flex flex-col py-6",children:[(0,l.jsx)("h4",{className:"text-gray-900 font-bold text-h4 px-6 truncate",children:null===e||void 0===e?void 0:e.Business.name}),(0,l.jsx)("p",{className:"text-gray-900 text-sm px-6",children:"You have a pending invite to this business"}),(0,l.jsxs)("div",{className:"mt-4 flex flex-col divide-y px-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-green-700 py-3 hover:text-green-900 cursor-pointer",onClick:function(){return J(e._id)},children:[(0,l.jsx)(o.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5"}),(0,l.jsx)("span",{className:"text-label font-medium",children:"Accept invite"}),(0,l.jsx)(o.Z,{icon:"ChevronRightIcon",className:"h-5 w-5 ml-auto"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 text-red-700 py-3 hover:text-red-900 cursor-pointer",onClick:function(){return H(e._id)},children:[(0,l.jsx)(o.Z,{icon:"NoSymbolIcon",className:"w-5 h-5"}),(0,l.jsx)("span",{className:"text-label font-medium",children:"Decline invite"})]})]})]})]},"invitations-".concat(e._id))}))),null===V||void 0===V?void 0:V.map((function(e){var t,n,a,r,c,u;return(0,l.jsxs)("li",{className:"bg-white shadow rounded-lg flex flex-col overflow-hidden",children:[(0,l.jsxs)("div",{className:(0,f.AK)((null===e||void 0===e||null===(t=e.picture)||void 0===t?void 0:t.url)?"bg-black":"bg-gray-300","h-56 w-full relative group p-6 flex items-end cursor-pointer"),children:[(0,l.jsx)("div",{className:(0,f.AK)("flex justify-center items-center absolute inset-0  group-hover:opacity-80 transition-opacity z-0",(null===e||void 0===e||null===(n=e.picture)||void 0===n?void 0:n.url)?"bg-transparent":"bg-indigo-600"),onClick:function(){return Q(e,!0)},children:(null===e||void 0===e||null===(a=e.picture)||void 0===a?void 0:a.url)?(0,l.jsx)(m(),{unoptimized:!0,src:null===e||void 0===e||null===(r=e.picture)||void 0===r?void 0:r.url,layout:"fill",objectFit:"cover",alt:"Business picture"}):(0,l.jsx)(m(),{unoptimized:!0,src:(0,f.sd)("durable-icon.svg"),className:"brightness-0 invert",width:90,height:90,alt:"Business picture"})}),(0,l.jsx)(N.Z,{limit:1,unsplash:!0,allowDeletion:!1,idBusiness:e._id,content:(0,l.jsx)(w.Z,{title:"Change image",children:(0,l.jsx)("div",{className:"z-5 bg-black bg-opacity-50 hover:bg-opacity-70 text-white group-hover:opacity-100 opacity-0 transition-opacity w-9 h-9 rounded-full flex items-center justify-center",children:(0,l.jsx)(o.Z,{icon:"PhotoIcon",className:"h-5 w-5"})})}),pictures:e.picture,onChange:function(){var t=(0,s.Z)((function(t){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return(null===t||void 0===t?void 0:t.length)?[4,Y(e._id,t[0])]:[3,2];case 1:n.sent()||f.Z9.error("There was a problem while saving your new business image."),n.label=2;case 2:return[2]}}))}));return function(e){return t.apply(this,arguments)}}()}),te(e)]}),(0,l.jsxs)("div",{className:"flex flex-col py-6",children:[(0,l.jsx)("h4",{className:"text-gray-900 font-bold text-h4 px-6 truncate",children:e.name}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col divide-y px-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 py-3 hover:text-gray-900 cursor-pointer",onClick:function(){return Q(e,!0)},children:[(0,l.jsx)(o.Z,{icon:"StarSolidIcon",className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-label font-medium",children:"Go to business"}),(0,l.jsx)(o.Z,{icon:"ChevronRightIcon",className:"h-5 w-5 ml-auto"})]}),e.domain&&"public"===e.websiteStatus&&(0,l.jsx)(h(),{href:e.domain,children:(0,l.jsxs)("a",{className:"flex items-center gap-3 text-gray-700 py-3 hover:text-gray-900 cursor-pointer",target:"_blank",children:[(0,l.jsx)(o.Z,{icon:"EyeSolidIcon",className:"h-5 w-5"}),(0,l.jsx)("p",{className:"text-label font-medium",children:"View website"}),(0,l.jsx)(o.Z,{icon:"ExternalLinkIcon",className:"h-5 w-5 ml-auto"})]})}),e.domain&&"private"===e.websiteStatus&&(0,l.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 py-3 hover:text-gray-900 cursor-pointer",onClick:function(){Q(e,!0,"/website/settings")},children:[(0,l.jsx)(o.Z,{icon:"GlobeIcon",className:"h-5 w-5"}),(0,l.jsx)("p",{className:"text-label font-medium",children:"Make your website public"}),(0,l.jsx)(o.Z,{icon:"ChevronRightIcon",className:"h-5 w-5 ml-auto"})]}),e.isManager&&(0,l.jsx)("div",{className:"flex items-center gap-3 text-gray-700 py-3 hover:text-gray-900 cursor-pointer",children:(0,l.jsxs)(y.Z,{placementAlign:"end",buttonClassName:"flex gap-3 items-center flex-1 min-w-60",button:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{icon:"EllipsisVerticalIcon",className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-label font-medium flex-1 text-left",children:"More"})]}),mobileContent:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"rounded-full bg-gray-300 h-16 w-16 mb-2 relative",children:(null===e||void 0===e||null===(c=e.picture)||void 0===c?void 0:c.url)&&(0,l.jsx)(m(),{unoptimized:!0,src:null===e||void 0===e||null===(u=e.picture)||void 0===u?void 0:u.url,layout:"fill",objectFit:"cover",alt:"Business image"})}),(0,l.jsx)("h4",{className:"text-gray-900 font-semibold text-h4 px-6 truncate",children:e.name})]}),children:[(0,l.jsxs)(j.v.Item,{as:"div",className:"flex items-center gap-3 px-4 py-2.5 text-gray-600 transition-all cursor-pointer hover:bg-gray-100",onClick:function(t){t.stopPropagation(),Q(e,!0,"/my-business/users")},children:[(0,l.jsx)(o.Z,{icon:"UsersSolidIcon",className:"h-5 w-5"}),(0,l.jsx)("span",{children:"Manage users"})]}),(0,l.jsxs)(j.v.Item,{as:"div",className:"flex items-center gap-3 px-4 py-2.5 text-red-600 transition-all cursor-pointer hover:bg-red-50",onClick:function(t){return function(e,t){e.stopPropagation(),O("Delete business?",(0,l.jsxs)(l.Fragment,{children:["Are you sure you want to delete the business ",(0,l.jsxs)("span",{className:"font-medium",children:['"',t.name,'"']}),"?"]}),"The website, promotions, contacts, invoices and all other details associated with this business will be permanently deleted.",'delete the business "'.concat(t.name,'"'),(0,s.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,X(t._id)];case 1:return e.sent()?f.Z9.success("Business deleted!"):f.Z9.error("Error while deleting the business"),[2]}}))})))}(t,e)},children:[(0,l.jsx)(o.Z,{icon:"TrashSolidIcon",className:"h-5 w-5"}),(0,l.jsx)("span",{children:"Delete business"})]})]})})]})]})]},"business-".concat(e._id))}))]}),0===(null===V||void 0===V?void 0:V.length)&&F&&(0,l.jsx)("div",{className:"w-full pb-8 mx-auto",children:(0,l.jsx)(ne,{})})]}),(0,l.jsx)(K,{attention:!0})]})]})}T.auth=!0,T.layout=!1},72510:function(e,t,n){"use strict";n.d(t,{v:function(){return O}});var s,i,l=n(67294),a=n(32984),r=n(12351),o=n(9362),c=n(94192),u=n(16723),d=n(23784),m=n(19946),x=n(61363),p=n(11497),f=n(64103),v=n(84575),h=n(39650),g=n(31591),b=n(16567),y=n(14157),j=n(51074),N=n(73781),w=n(40476),I=n(55918),R=((i=R||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),C=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(C||{}),S=((s=S||{})[s.OpenMenu=0]="OpenMenu",s[s.CloseMenu=1]="CloseMenu",s[s.GoToItem=2]="GoToItem",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterItem=5]="RegisterItem",s[s.UnregisterItem=6]="UnregisterItem",s);function k(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,s=(0,v.z2)(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=n?s.indexOf(n):null;return-1===i&&(i=null),{items:s,activeItemIndex:i}}let T={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n;let s=k(e),i=(0,p.d)(t,{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...s,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,s=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(s))&&!e.dataRef.current.disabled})),l=i?e.items.indexOf(i):-1;return-1===l||l===e.activeItemIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeItemIndex:l,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=k(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=k(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},P=(0,l.createContext)(null);function Z(e){let t=(0,l.useContext)(P);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Z),t}return t}function M(e,t){return(0,a.E)(t.type,T,e,t)}P.displayName="MenuContext";let _=l.Fragment;let F=r.AN.RenderStrategy|r.AN.Static;let E=l.Fragment;let z=(0,r.yV)((function(e,t){let{__demoMode:n=!1,...s}=e,i=(0,l.useReducer)(M,{__demoMode:n,menuState:n?0:1,buttonRef:(0,l.createRef)(),itemsRef:(0,l.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:c,buttonRef:u},m]=i,x=(0,d.T)(t);(0,h.O)([u,c],((e,t)=>{var n;m({type:1}),(0,v.sP)(t,v.tJ.Loose)||(e.preventDefault(),null==(n=u.current)||n.focus())}),0===o);let p=(0,N.z)((()=>{m({type:1})})),f=(0,l.useMemo)((()=>({open:0===o,close:p})),[o,p]),g={ref:x};return l.createElement(P.Provider,{value:i},l.createElement(b.up,{value:(0,a.E)(o,{0:b.ZM.Open,1:b.ZM.Closed})},(0,r.sY)({ourProps:g,theirProps:s,slot:f,defaultTag:_,name:"Menu"})))})),A=(0,r.yV)((function(e,t){var n;let s=(0,m.M)(),{id:i=`headlessui-menu-button-${s}`,...a}=e,[o,u]=Z("Menu.Button"),v=(0,d.T)(o.buttonRef,t),h=(0,c.G)(),g=(0,N.z)((e=>{switch(e.key){case x.R.Space:case x.R.Enter:case x.R.ArrowDown:e.preventDefault(),e.stopPropagation(),u({type:0}),h.nextFrame((()=>u({type:2,focus:p.T.First})));break;case x.R.ArrowUp:e.preventDefault(),e.stopPropagation(),u({type:0}),h.nextFrame((()=>u({type:2,focus:p.T.Last})))}})),b=(0,N.z)((e=>{if(e.key===x.R.Space)e.preventDefault()})),j=(0,N.z)((t=>{if((0,f.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(u({type:1}),h.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),u({type:0})))})),w=(0,l.useMemo)((()=>({open:0===o.menuState})),[o]),I={ref:v,id:i,type:(0,y.f)(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=o.itemsRef.current)?void 0:n.id,"aria-expanded":0===o.menuState,onKeyDown:g,onKeyUp:b,onClick:j};return(0,r.sY)({ourProps:I,theirProps:a,slot:w,defaultTag:"button",name:"Menu.Button"})})),D=(0,r.yV)((function(e,t){var n,s;let i=(0,m.M)(),{id:a=`headlessui-menu-items-${i}`,...u}=e,[f,h]=Z("Menu.Items"),y=(0,d.T)(f.itemsRef,t),w=(0,j.i)(f.itemsRef),I=(0,c.G)(),R=(0,b.oJ)(),C=null!==R?(R&b.ZM.Open)===b.ZM.Open:0===f.menuState;(0,l.useEffect)((()=>{let e=f.itemsRef.current;e&&0===f.menuState&&e!==(null==w?void 0:w.activeElement)&&e.focus({preventScroll:!0})}),[f.menuState,f.itemsRef,w]),(0,g.B)({container:f.itemsRef.current,enabled:0===f.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let S=(0,N.z)((e=>{var t,n;switch(I.dispose(),e.key){case x.R.Space:if(""!==f.searchQuery)return e.preventDefault(),e.stopPropagation(),h({type:3,value:e.key});case x.R.Enter:if(e.preventDefault(),e.stopPropagation(),h({type:1}),null!==f.activeItemIndex){let{dataRef:e}=f.items[f.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}(0,v.wI)(f.buttonRef.current);break;case x.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:p.T.Next});case x.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:p.T.Previous});case x.R.Home:case x.R.PageUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:p.T.First});case x.R.End:case x.R.PageDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:p.T.Last});case x.R.Escape:e.preventDefault(),e.stopPropagation(),h({type:1}),(0,o.k)().nextFrame((()=>{var e;return null==(e=f.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case x.R.Tab:e.preventDefault(),e.stopPropagation(),h({type:1}),(0,o.k)().nextFrame((()=>{(0,v.EO)(f.buttonRef.current,e.shiftKey?v.TO.Previous:v.TO.Next)}));break;default:1===e.key.length&&(h({type:3,value:e.key}),I.setTimeout((()=>h({type:4})),350))}})),k=(0,N.z)((e=>{if(e.key===x.R.Space)e.preventDefault()})),T=(0,l.useMemo)((()=>({open:0===f.menuState})),[f]),P={"aria-activedescendant":null===f.activeItemIndex||null==(n=f.items[f.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(s=f.buttonRef.current)?void 0:s.id,id:a,onKeyDown:S,onKeyUp:k,role:"menu",tabIndex:0,ref:y};return(0,r.sY)({ourProps:P,theirProps:u,slot:T,defaultTag:"div",features:F,visible:C,name:"Menu.Items"})})),B=(0,r.yV)((function(e,t){let n=(0,m.M)(),{id:s=`headlessui-menu-item-${n}`,disabled:i=!1,...a}=e,[c,x]=Z("Menu.Item"),f=null!==c.activeItemIndex&&c.items[c.activeItemIndex].id===s,h=(0,l.useRef)(null),g=(0,d.T)(t,h);(0,u.e)((()=>{if(c.__demoMode||0!==c.menuState||!f||0===c.activationTrigger)return;let e=(0,o.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[c.__demoMode,h,f,c.menuState,c.activationTrigger,c.activeItemIndex]);let b=(0,I.x)(h),y=(0,l.useRef)({disabled:i,domRef:h,get textValue(){return b()}});(0,u.e)((()=>{y.current.disabled=i}),[y,i]),(0,u.e)((()=>(x({type:5,id:s,dataRef:y}),()=>x({type:6,id:s}))),[y,s]);let j=(0,N.z)((()=>{x({type:1})})),R=(0,N.z)((e=>{if(i)return e.preventDefault();x({type:1}),(0,v.wI)(c.buttonRef.current)})),C=(0,N.z)((()=>{if(i)return x({type:2,focus:p.T.Nothing});x({type:2,focus:p.T.Specific,id:s})})),S=(0,w.g)(),k=(0,N.z)((e=>S.update(e))),T=(0,N.z)((e=>{S.wasMoved(e)&&(i||f||x({type:2,focus:p.T.Specific,id:s,trigger:0}))})),P=(0,N.z)((e=>{S.wasMoved(e)&&(i||f&&x({type:2,focus:p.T.Nothing}))})),M=(0,l.useMemo)((()=>({active:f,disabled:i,close:j})),[f,i,j]);return(0,r.sY)({ourProps:{id:s,ref:g,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:R,onFocus:C,onPointerEnter:k,onMouseEnter:k,onPointerMove:T,onMouseMove:T,onPointerLeave:P,onMouseLeave:P},theirProps:a,slot:M,defaultTag:E,name:"Menu.Item"})})),O=Object.assign(z,{Button:A,Items:D,Item:B})}},function(e){e.O(0,[6440,9774,2888,179],(function(){return t=58657,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5740],{72247:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website-builder/signup",function(){return t(48144)}])},64879:function(e,n,t){"use strict";t.d(n,{K:function(){return r},Z:function(){return u}});var i=t(85893),s=t(56059),o=[{id:"fbInsta",name:"Facebook/Instagram"},{id:"friends",name:"Friends/Colleague"},{id:"podcastArticleBlog",name:"Podcast/Article/Blog"},{id:"searchEngine",name:"Search Engine (Google/Bing, etc.)"},{id:"tikTok",name:"TikTok"},{id:"youtube",name:"Youtube"},{id:"other",name:"Other"}];function u(e){return o.some((function(n){return n.id===e}))}var r=function(e){var n=e.value,t=e.onChange;return(0,i.jsx)(s.Z,{className:"w-full",placeholder:"How did you hear about us?",values:o,value:o.find((function(e){return e.id===n})),fullScreenMobile:!0,titleMobile:"How did you hear about us?",onChange:function(e){return t(null===e||void 0===e?void 0:e.id)},listClasses:"max-h-full"})}},48144:function(e,n,t){"use strict";t.r(n);var i=t(47568),s=t(26042),o=t(70655),u=t(85893),r=t(67294),a=t(33299),c=t(16494),l=t(65082),d=t(11163),f=t(73292),g=t(33303),b=t(64879),h=t(43714);n.default=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1],v=(0,a.useSession)(),m=v.data,p="loading"===v.status,w=(0,l.Z)().post,_=(0,d.useRouter)(),k=(0,f.Z)(),y=k.sendUserEvent,N=k.getAffiliateInfos,E=(0,h.Z)().track;function I(){return I=(0,i.Z)((function(e,n,i,u){var r,c,l,d,f,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t(!0),y("sign_up",{method:"google"}),c=N(),[4,w("/user/mars-signup",(0,s.Z)({email:null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.email,location:i,marsWebsiteId:n,fromGoogle:!0,phKey:(0,g.ej)("ph_uuid")},(null===c||void 0===c?void 0:c.id)&&{affiliate:c.id}),!1).catch(console.log)];case 1:return(l=o.sent())&&!0===l.status?(f=l.content,sessionStorage.setItem("idBusiness",f._id),sessionStorage.setItem("businessName",f.name),u&&(0,b.Z)(u)&&E("account:how-did-you-hear",{source:u}),[4,(0,a.signIn)("revalidate-token",{token:null===e||void 0===e||null===(d=e.user)||void 0===d?void 0:d.token,idBusiness:sessionStorage.getItem("idBusiness"),redirect:!1})]):[3,5];case 2:return(h=o.sent()).ok&&200===h.status?(y("login",{method:"google"}),[4,_.replace("/website/builder")]):[3,4];case 3:o.sent(),o.label=4;case 4:return[3,7];case 5:return[4,_.push("/website-builder?signup=true&w=".concat(n,"&country=").concat(JSON.stringify(i)).concat(u?"&source=".concat(u):"","&error=").concat(l.message))];case 6:o.sent(),o.label=7;case 7:return[2]}}))})),I.apply(this,arguments)}return(0,r.useEffect)((function(){if(_&&!p&&!n){var e=_.query,t=e.w,i=e.country,s=e.source;if(!t&&!i)return void _.push("/website-builder");if(!i)return void _.push("/website-builder?signup=true&w=".concat(t).concat(s?"&source=".concat(s):""));(null===m||void 0===m?void 0:m.user)?function(e,n,t,i){I.apply(this,arguments)}(m,t,JSON.parse(i),s):(0,a.signIn)("google",{callbackUrl:"/website-builder/signup?w=".concat(t,"&country=").concat(i).concat(s?"&source=".concat(s):"")})}}),[m,p,_,n]),(0,u.jsx)("div",{className:"fixed top-0 right-0 bottom-0 left-0 bg-gray-100 flex items-center justify-center",children:(0,u.jsx)(c.Z,{variant:"page",className:"text-indigo-600"})})}}},function(e){e.O(0,[9774,2888,179],(function(){return n=72247,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
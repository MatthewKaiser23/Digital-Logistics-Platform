(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9862],{64938:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/builder",function(){return t(18085)}])},18085:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return Ht},default:function(){return Vt}});var i=t(47568),l=t(14924),s=t(26042),o=t(69396),a=t(10253),r=t(29815),c=t(70655),d=t(85893),u=t(67294),m=t(11163),v=t(30112),x=t(65082),h=t(72510),f=t(33303),p=t(59965),g=t(75131),b=t(25675),j=t.n(b),y=t(11355),w=t(69737),N=t(51121),Z=t(77160),k=t(42989);function C(e){var n=e.item,t=e.open,i=e.setOpen,l=e.onSave,a=(0,u.useState)(!1),r=a[0],c=a[1],m=(0,u.useState)(null),x=m[0],h=m[1],p=(0,u.useState)(null),g=p[0],b=p[1],j=(0,u.useState)(!1),C=j[0],S=j[1];return(0,u.useEffect)((function(){t&&(n&&(h((0,f.p$)(n)),S(!0)),b(n))}),[t,n]),(0,d.jsx)(y.u.Root,{show:t,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return i(!1)},children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Testimonial"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return i(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Quote"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.content),prompt:"Create a short testimonial without a name",includeName:!0,includeVertical:!0,onSuggestion:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,d.jsx)("textarea",{rows:4,value:null===g||void 0===g?void 0:g.content,onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{content:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"By"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.by),prompt:"Give a name for a fake person with 2 words",onSuggestion:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{by:"- "+e})}))}})]}),(0,d.jsx)(N.Z,{value:null===g||void 0===g?void 0:g.by,onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{by:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold mb-2",children:"Image"}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",pictures:null===g||void 0===g?void 0:g.image,reload:C,limit:1,shutterstock:!0,library:!0,unsplash:!0,upload:!0,onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{image:e[0]}))}})]})]}),JSON.stringify(g)!==JSON.stringify(x)&&(0,d.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return b((0,f.p$)(x)),S(!0),void c(!1)},children:"Discard"}),(0,d.jsx)("button",{className:"primary",onClick:function(){return"function"===typeof l&&l(g),void i(!1)},disabled:r,children:"Save"})]})]})})]})})})}var S=t(94051),E=t(29064),P=t(67568),T=t(91033),O="height 300ms ease-in-out",B="opacity 400ms ease-in-out";function I(e){(0,u.useEffect)((function(){if(e){var n=e.current,t=function(e){if(window&&e){var n,t,i=window.getComputedStyle(e);return parseFloat(null!==(n=i.paddingTop)&&void 0!==n?n:"0")+parseFloat(null!==(t=i.paddingBottom)&&void 0!==t?t:"0")}}(n),i=new T.Z((function(e){var i=0,l=!0,s=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(l=(a=r.next()).done);l=!0){var c=a.value.target,d=c.getBoundingClientRect().height;d>0?(i+=d,c.style.opacity=1):c.style.opacity=0}}catch(v){s=!0,o=v}finally{try{l||null==r.return||r.return()}finally{if(s)throw o}}var u=function(e){if(window&&e){var n,t=window.getComputedStyle(e);return parseFloat(null!==(n=t.maxHeight)&&void 0!==n?n:"0")}}(n),m=i+t;n.style.height="".concat(m,"px"),n.style.overflow=m>u?"auto":"hidden",setTimeout((function(){n.style.overflow=m>u?"auto":""}),400)}));if(n){var l;n.style.transition=n.style.transition?"".concat(n.style.transition,", ").concat(O):O;var s=!0,o=!1,a=void 0;try{for(var r,c=(null!==(l=null===n||void 0===n?void 0:n.children)&&void 0!==l?l:[])[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var d=r.value;i.observe(d),d.style.transition=d.style.transition?"".concat(d.style.transition,", ").concat(B):B}}catch(u){o=!0,a=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw a}}}return function(){i.disconnect()}}}),[e])}var F=t(52077),_=t(60728);function A(e){var n=e.children,t=e.title,i=e.open,l=e.rtl,s=e.setRtl,o=(e.disabled,e.loading,e.dirty,e.hiddenTabs),a=e.edit,r=e.setEdit,c=e.onClose,m=(e.onDiscard,e.onSave,(0,u.useState)(0)),x=m[0],h=m[1],g=(0,u.useState)(0),b=g[0],j=g[1],w=(0,u.useRef)(null),N=(0,u.useState)(0),Z=N[0],k=N[1];I(w);return(0,u.useEffect)((function(){a?(j(x),h(o.findIndex((function(e){return e===a}))+2),k(w.current.scrollTop),w.current.scrollTop=0):(h(b),w.current.scrollTop=Z)}),[a]),(0,d.jsx)(y.u,{show:i,appear:!0,children:(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",l?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:l?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:l?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:(0,f.AK)("max-w-full sticky top-0 flex items-center justify-between bg-white z-10 py-2 pr-1 md:pr-3 md:rounded-t-lg",a?"pl-1 md:pl-3":"pl-4 md:pl-6"),children:[(0,d.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,d.jsx)(y.u,{as:u.Fragment,show:!!a,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,d.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 light transparent icon",onClick:function(){r(null),h(b)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,d.jsx)(v.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,d.jsx)("p",{className:(0,f.AK)("font-bold text-gray-900 capitalize ml-0 py-2.5 transition-all duration-300",a&&"ml-10"),children:a||t})]}),(0,d.jsx)(y.u,{as:u.Fragment,show:!a,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(l?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return s((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:l?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:c,children:"Done"})]})})]}),(0,d.jsxs)(p.O.Group,{as:"div",className:(0,f.AK)("flex flex-col h-full md:h-auto",a&&"!border-t"),selectedIndex:x,onChange:h,children:[(0,d.jsxs)(p.O.List,{className:(0,f.AK)("relative z-0 flex border-b opacity-100 max-h-20 overflow-hidden transition-all",a&&"!max-h-0 !opacity-0"),children:[(0,d.jsxs)(p.O,{className:function(e){var n=e.selected;return(0,f.AK)("flex-1 flex items-center justify-center gap-2 px-4 pt-4 pb-3.5 text-sm text-gray-500 font-medium border-b-2 border-transparent outline-none transition-all duration-300",n&&"border-indigo-700 text-indigo-700")},children:[(0,d.jsx)(v.Z,{icon:"ContentIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Content"})]}),(0,d.jsxs)(p.O,{className:function(e){var n=e.selected;return(0,f.AK)("flex-1 flex items-center justify-center gap-2 px-4 pt-4 pb-3.5 text-sm text-gray-500 font-medium border-b-2 border-transparent outline-none transition-all duration-300",n&&"border-indigo-700 text-indigo-700")},children:[(0,d.jsx)(v.Z,{icon:"StyleIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Style"})]}),null===o||void 0===o?void 0:o.map((function(e,n){return(0,d.jsx)(p.O,{className:"hidden",children:e},"hidden-tab-".concat(n))}))]}),(0,d.jsx)(p.O.Panels,{ref:w,className:"tab-panels",style:{maxHeight:"calc(100vh - 194px)"},children:n})]})]})})})})})}var R,D,L=t(38717),W=t(90748),z=t(43490),H=t(10124),V=t(57632),M=t(92085),K=function(e){var n=e.divider,t=e.actionText,i=e.onAction,l=e.selected,s=(0,u.useMemo)((function(){return(0,V.Z)()}),[]),o=(0,f.ac)("(max-width: 767px)"),a=(0,u.useState)(window.innerWidth),r=a[0],c=a[1];return(0,u.useEffect)((function(){return window.addEventListener("resize",(function(){return c(window.innerWidth)})),function(){return window.removeEventListener("resize",(function(){return c(window.innerWidth)}))}}),[o]),(0,d.jsxs)("div",{className:(0,f.AK)("relative w-full h-38 rounded-lg overflow-hidden border-1 shadow-sm cursor-pointer",l?"border-indigo-600":"border-gray-300"),onClick:i,children:[(0,d.jsxs)("a",{className:"flex items-center absolute link text-label font-medium top-4 right-4 z-25",children:[t,l&&(0,d.jsx)(H.Z,{className:"w-5 h-5 ml-1"})]}),(0,d.jsx)("div",{className:(0,f.AK)("absolute w-full h-full z-10 bottom-1/3 fix-safari-flickering",l?"bg-indigo-50":"bg-white"),style:{clipPath:"url(#".concat(s,")"),WebkitClipPath:"url(#".concat(s,")")}}),(0,d.jsx)("div",{className:(0,f.AK)("absolute w-full h-full z-5",l?"bg-indigo-400":"bg-gray-400")}),(0,d.jsx)(M.lN,{uniqueId:s,width:o?r-32:340,height:150,divider:n})]})},$=function(e){var n=e.divider,t=e.setDivider;return(0,d.jsx)(g.E,{className:"flex flex-col gap-5",value:n,onChange:function(e){return t(e)},children:M.SH.map((function(e,n){return(0,d.jsx)(g.E.Option,{value:e.id,children:function(n){var i=n.checked;return(0,d.jsx)(K,{divider:e.id,actionText:i?"Selected":"Select",selected:i,onAction:function(){return t(e.id)}})}},n)}))})},q=function(e){var n=e.block,t=e.setBlock,i=e.className,l=e.isEditing,a=e.onEdit;return(0,d.jsx)(U,{value:null!==(R=null===n||void 0===n?void 0:n.divider)&&void 0!==R?R:null,setValue:function(e){return t((0,o.Z)((0,s.Z)({},n),{divider:null!==e&&void 0!==e?e:void 0}))},className:i,isEditing:l,onEdit:a})},U=function(e){var n=e.className,t=e.value,i=e.setValue,l=e.isEditing,s=e.onEdit,o=M.SH.find((function(e){return e.id===t}));return l?(0,d.jsx)($,{divider:t,setDivider:i}):(0,d.jsxs)("div",{className:(0,f.AK)("flex flex-col gap-5",n),children:[(0,d.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Divider"}),(0,d.jsx)(z.Z,{enabled:!!o,onChange:function(e){return i(e?M.SH[0].id:null)}})]}),o&&(0,d.jsx)(K,{divider:t,actionText:"Change",onAction:s})]})},X=t(42341),G=t(7488),Y={type:"solid",color:"#000000",width:"10"},J=[{id:"solid",name:"Solid"},{id:"dashed",name:"Dashed"}],Q=function(e){var n=e.block,t=e.setBlock,i=e.className;return(0,d.jsx)(ee,{value:null!==(D=null===n||void 0===n?void 0:n.border)&&void 0!==D?D:null,setValue:function(e){return t((0,o.Z)((0,s.Z)({},n),{border:null!==e&&void 0!==e?e:void 0}))},className:i})},ee=function(e){var n=e.className,t=e.value,i=e.setValue;return(0,d.jsxs)("div",{className:(0,f.AK)("flex flex-col gap-5",n),children:[(0,d.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Border"}),(0,d.jsx)(z.Z,{enabled:!!t,onChange:function(e){return i(e?Y:null)}})]}),!!t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(X.Z,{inline:!0,color:t.color,onChange:function(e){return i((0,o.Z)((0,s.Z)({},t),{color:e.hex}))}}),(0,d.jsx)(G._,{title:"Thickness",amount:t.width,setAmount:function(e){return i((0,o.Z)((0,s.Z)({},t),{width:e}))},measureUnit:"px",max:20}),(0,d.jsx)(G.i,{title:"Type",value:t.type,setValue:function(e){return i((0,o.Z)((0,s.Z)({},t),{type:e}))},values:J})]})]})};function ne(e){var n,t=e.open,i=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,c=e.setRtl,m=e.loading,x=(e.onSave,e.changeHistory,e.website);Array.isArray(l.items)||(l.items=[{content:l.content,by:l.by}]);var h=(0,u.useState)(!1),b=h[0],y=h[1],w=(0,u.useState)(null),N=w[0],Z=w[1],k=(0,u.useState)(null),P=k[0],T=k[1],O=(0,_.Z)(),B=O.confirm,I=O.ConfirmDialog,F=function(){i(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"Testimonials",open:t,rtl:r,setRtl:c,edit:P,setEdit:T,loading:m,hiddenTabs:["Colors","Divider style"],onClose:F,children:[(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("ul",{className:"divide-y",children:null===l||void 0===l||null===(n=l.items)||void 0===n?void 0:n.map((function(e,n){var t,i,r;return(0,d.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3",children:[(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[e.image?(0,d.jsx)("div",{className:"relative overflow-hidden w-9 h-9 rounded-full",children:(0,d.jsx)(j(),{unoptimized:!0,src:(null===(t=e.image)||void 0===t?void 0:t.preview)||(null===(i=e.image)||void 0===i?void 0:i.url),layout:"fill",objectFit:"cover",alt:null===(r=e.image)||void 0===r?void 0:r.alt,className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded-full bg-gray-200"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.content}),(0,d.jsx)("p",{className:"truncate max-w-[230px] text-xs text-gray-500",children:e.by})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){Z((0,o.Z)((0,s.Z)({},e),{idx:n})),y(!0)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return function(e){B("Delete testimonial?","Are you sure you want to delete this testimonial?",(function(){var n=(0,f.p$)(l);n.items.splice(e,1),a(n)}))}(n)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]},"media-list-".concat(n))}))}),(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){Z(null),y(!0)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add testimonial"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:x,block:l,onEdit:function(){return T("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:l,setBlock:a}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:null===l||void 0===l?void 0:l.align,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsx)(W.iy,{className:"py-6",block:l,setBlock:a,website:x}),(0,d.jsx)(S.Z,{className:"py-6",block:l,setBlock:a}),(0,d.jsx)(q,{className:"py-6",block:l,setBlock:a,onEdit:function(){return T("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:l,setBlock:a})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:x,block:l,setBlock:a,onTryPalette:F})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:l,setBlock:a,isEditing:!0})})]}),(0,d.jsx)(C,{item:N,open:b,setOpen:y,onSave:function(e){var n=(0,f.p$)(l);n.items||(n.items=[]),void 0!==e.idx?n.items[e.idx]=e:n.items.push(e),a(n),y(!1)}}),(0,d.jsx)(I,{attention:!0})]})}var te=t(80360);function ie(e){var n=e.className,t=e.linkSettings,l=e.disableLinkToSection,s=e.onChangeNewPage,o=e.onChangeType,r=e.onChangeLink,m=e.onChangePage,v=[{id:"page",name:"Page"},{id:"url",name:"External"},{id:"email",name:"Email"},{id:"phone",name:"Phone"},{id:"section",name:"Section"}],h=t||{},p=h.type,g=h.page,b=h.link,j=h.newPage,y=(0,u.useState)((0,f.tl)("pages")),w=y[0],Z=y[1],k=(0,u.useState)([]),C=k[0],S=k[1],E=(0,x.Z)().get;l&&v.pop();var P=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,E("/website/get-pages").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,f.Fs)("pages",e.content),n=e.content.map((function(e){return{id:e._id,name:e.label,slug:e.slug}})),Z(n)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){if("page"!==p||w||P(),"section"===p){var e,n=null===(e=window.websitePage.blocks)||void 0===e?void 0:e.filter((function(e){return!["header","footer"].includes(e.WebsiteBlock.type)})),t=[],i=!0,l=!1,s=void 0;try{for(var o,r=function(){var e,n=(0,a.Z)(o.value,2),i=n[0],l=n[1],s="common-ninja"===l.WebsiteBlock.source?"common-ninja-".concat(null===l||void 0===l||null===(e=l.WebsiteBlock)||void 0===e?void 0:e.type,"-").concat(i):"".concat(l.WebsiteBlock.type,"-").concat(i);if(t.find((function(e){return e.name.toLowerCase()===l.WebsiteBlock.type.toLowerCase()}))){var r=t.filter((function(e){return e.name.toLowerCase()===l.WebsiteBlock.type.toLowerCase()})).length+1;t.push({id:s,name:"".concat((0,f.fm)(l.WebsiteBlock.type)," ").concat(r)})}else t.push({id:s,name:(0,f.fm)(l.WebsiteBlock.type)})},c=n.entries()[Symbol.iterator]();!(i=(o=c.next()).done);i=!0)r()}catch(d){l=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(l)throw s}}S(t)}}),[p]),(0,d.jsxs)("div",{className:n,children:[(0,d.jsxs)("div",{className:(0,f.AK)("flex items-center gap-0.5 border border-gray-300 rounded-md shadow-sm",!b&&"!border-red-500"),children:[(0,d.jsx)(te.Z,{btnClassName:"!border-0 !shadow-none !rounded-r-none min-w-[110px]",placeholder:"Select",values:v,value:p&&v.find((function(e){return e.id===p})),onChange:function(e){return o(e.id)}}),"page"===p&&(0,d.jsx)(te.Z,{className:"flex-1",btnClassName:"!border-0 !shadow-none !rounded-l-none",placeholder:"Select",values:null===w||void 0===w?void 0:w.filter((function(e){return"parent"!==e.type})),value:g&&((null===w||void 0===w?void 0:w.find((function(e){return e.id===g})))||null),onChange:function(e){var n;return m({page:e.id,link:"/"+(e.Parent?"".concat(null===(n=null===w||void 0===w?void 0:w.find((function(n){return n.id===e.Parent})))||void 0===n?void 0:n.slug,"/"):"")+(e.slug||"")})}}),("phone"===p||"url"===p||"email"===p)&&(0,d.jsx)(N.Z,{type:"email"===p?"email":void 0,className:"flex-1",inputClassName:"!border-0 !shadow-none !rounded-l-none",value:b,onChange:function(e){return r(e)},error:!b}),"section"===p&&(0,d.jsx)(te.Z,{className:"flex-1",btnClassName:"!border-0 !shadow-none !rounded-l-none",placeholder:"Select",values:C,value:b&&((null===C||void 0===C?void 0:C.find((function(e){return e.id===b})))||null),onChange:function(e){return r(e.id)}})]}),!b&&(0,d.jsx)("p",{className:"mt-2 text-sm text-red-600",children:"Link is required"}),"section"!==p&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Open in a new browser tab"}),(0,d.jsx)(z.Z,{enabled:j,onChange:function(e){return s(e)}})]})]})}var le=[{id:"style1",name:"Style 1"},{id:"style2",name:"Style 2"}],se=[{id:"solid",name:"Solid"},{id:"outline",name:"Outline"}],oe=[{id:"round",name:"Round",cornerRadius:8},{id:"square",name:"Square",cornerRadius:0}],ae=function(e){var n=e.style,t=e.text,i=e.showHint,l=e.onClick;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:(0,f.AK)("px-6 py-3 text-lg font-medium text-center border-2 border-gray-700 transition-all",(null===n||void 0===n?void 0:n.cornerRadius)&&"rounded-lg","outline"===(null===n||void 0===n?void 0:n.type)?"text-gray-700":"bg-gray-700 text-white","function"===typeof l&&"cursor-pointer"),onClick:l,children:t||"Custom"}),i&&"solid"===(null===n||void 0===n?void 0:n.type)&&(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Solid buttons will use the accent color of the section in which they appear."})]})},re=function(e){var n,t,i=e.website,l=e.setWebsite;return(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"pb-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Style 1"}),(0,d.jsx)(te.Z,{label:"Type",placeholder:"Select",values:se,value:se.find((function(e){var n,t;return e.id===((null===i||void 0===i||null===(n=i.buttons)||void 0===n||null===(t=n.style1)||void 0===t?void 0:t.type)||"solid")})),onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{buttons:(0,o.Z)((0,s.Z)({},n.buttons),{style1:(0,o.Z)((0,s.Z)({},n.buttons.style1),{type:e.id})})})}))}}),(0,d.jsx)(te.Z,{label:"Shape",placeholder:"Select",values:oe,value:oe.find((function(e){var n,t;return e.cornerRadius===((null===i||void 0===i||null===(n=i.buttons)||void 0===n||null===(t=n.style1)||void 0===t?void 0:t.cornerRadius)||0)})),onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{buttons:(0,o.Z)((0,s.Z)({},n.buttons),{style1:(0,o.Z)((0,s.Z)({},n.buttons.style1),{cornerRadius:e.cornerRadius})})})}))}}),(0,d.jsxs)("div",{className:"p-5 space-y-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Preview"}),(0,d.jsx)(ae,{style:null===i||void 0===i||null===(n=i.buttons)||void 0===n?void 0:n.style1,text:"Style 1",showHint:!0})]})]}),(0,d.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Style 2"}),(0,d.jsx)(te.Z,{label:"Type",placeholder:"Select",values:se,value:se.find((function(e){var n,t;return e.id===((null===i||void 0===i||null===(n=i.buttons)||void 0===n||null===(t=n.style2)||void 0===t?void 0:t.type)||"outline")})),onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{buttons:(0,o.Z)((0,s.Z)({},n.buttons),{style2:(0,o.Z)((0,s.Z)({},n.buttons.style2),{type:e.id})})})}))}}),(0,d.jsx)(te.Z,{label:"Shape",placeholder:"Select",values:oe,value:oe.find((function(e){var n,t;return e.cornerRadius===((null===i||void 0===i||null===(n=i.buttons)||void 0===n||null===(t=n.style2)||void 0===t?void 0:t.cornerRadius)||0)})),onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{buttons:(0,o.Z)((0,s.Z)({},n.buttons),{style2:(0,o.Z)((0,s.Z)({},n.buttons.style2),{cornerRadius:e.cornerRadius})})})}))}}),(0,d.jsxs)("div",{className:"p-5 space-y-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Preview"}),(0,d.jsx)(ae,{style:null===i||void 0===i||null===(t=i.buttons)||void 0===t?void 0:t.style2,text:"Style 2",showHint:!0})]})]})]})};function ce(e){var n=e.className,t=e.buttons,i=e.onEdit;return(0,d.jsxs)("div",{className:(0,f.AK)("space-y-6",n),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Button styles"}),(0,d.jsx)("button",{className:"link text-sm",onClick:i,children:"Edit"})]}),(0,d.jsx)(ae,{style:null===t||void 0===t?void 0:t.style1,text:"Style 1",onClick:i}),(0,d.jsx)(ae,{style:null===t||void 0===t?void 0:t.style2,text:"Style 2",onClick:i})]})}var de=function(e){var n,t,i,l,a,r=e.className,c=e.block,m=e.setBlock,v=e.website,x=(0,u.useState)({}),h=x[0],p=x[1];return(0,u.useEffect)((function(){var e,n;(null===v||void 0===v?void 0:v.noPaletteSupport)||(null===c||void 0===c?void 0:c.button)&&!(null===c||void 0===c||null===(n=c.button)||void 0===n?void 0:n.style)&&(null===v||void 0===v?void 0:v.button)&&m((function(e){return(0,o.Z)((0,s.Z)({},e),{button:(0,o.Z)((0,s.Z)({},e.button),{style:{name:"custom",type:v.button.style||"solid",cornerRadius:isNaN(v.button.cornerRadius)?8:v.button.cornerRadius}})})}));(null===c||void 0===c||null===(e=c.button)||void 0===e?void 0:e.style)&&("custom"===c.button.style.name?p(c.button.style):(null===v||void 0===v?void 0:v.buttons)&&p((0,o.Z)((0,s.Z)({},v.buttons[c.button.style.name]),{name:c.button.style.name})))}),[c,v]),(0,d.jsxs)("div",{className:r,children:[(0,d.jsxs)(g.E,{className:"flex items-center w-full mb-6",value:"custom"===(null===c||void 0===c||null===(n=c.button)||void 0===n||null===(t=n.style)||void 0===t?void 0:t.name)?"custom":"theme",onChange:function(e){return m((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:{name:"custom"===e?"custom":"style1",type:"custom"===e?"solid":void 0,cornerRadius:"custom"===e?0:void 0}})})}))},children:[(0,d.jsx)(g.E.Option,{className:"w-full",value:"theme",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)("py-2.5 px-4 border cursor-pointer rounded-l-lg text-sm font-medium text-center transition-all",n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"From theme"})}}),(0,d.jsx)(g.E.Option,{className:"w-full",value:"custom",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)("py-2.5 px-4 border cursor-pointer rounded-r-lg text-sm font-medium text-center transition-all",n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"Custom"})}})]}),(0,d.jsxs)("div",{className:"space-y-6",children:["custom"===(null===c||void 0===c||null===(i=c.button)||void 0===i||null===(l=i.style)||void 0===l?void 0:l.name)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te.Z,{label:"Type",placeholder:"Select",values:se,value:se.find((function(e){var n,t;return e.id===((null===c||void 0===c||null===(n=c.button)||void 0===n||null===(t=n.style)||void 0===t?void 0:t.type)||"solid")})),onChange:function(e){return m((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:(0,o.Z)((0,s.Z)({},n.button.style),{type:e.id})})})}))}}),(0,d.jsx)(te.Z,{label:"Shape",placeholder:"Select",values:oe,value:oe.find((function(e){var n,t;return e.cornerRadius===((null===c||void 0===c||null===(n=c.button)||void 0===n||null===(t=n.style)||void 0===t?void 0:t.cornerRadius)||0)})),onChange:function(e){return m((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:(0,o.Z)((0,s.Z)({},n.button.style),{cornerRadius:e.cornerRadius})})})}))}})]}):(0,d.jsx)(te.Z,{label:"Style",placeholder:"Select",values:le,value:le.find((function(e){var n,t;return e.id===((null===c||void 0===c||null===(n=c.button)||void 0===n||null===(t=n.style)||void 0===t?void 0:t.name)||"style1")})),onChange:function(e){return m((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:(0,o.Z)((0,s.Z)({},n.button.style),{name:e.id})})})}))}}),(0,d.jsxs)("div",{className:"p-5 space-y-4 bg-gray-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Preview"}),(0,d.jsx)(ae,{style:h,text:null===(a=le.find((function(e){return e.id===(null===h||void 0===h?void 0:h.name)})))||void 0===a?void 0:a.name,showHint:!0})]})]})]})};function ue(e){var n,t=e.className,i=e.website,l=e.block,a=e.onEdit,r=(0,u.useState)(null),c=r[0],m=r[1];return(0,u.useEffect)((function(){var e,n,t;(null===l||void 0===l||null===(e=l.button)||void 0===e?void 0:e.style)?"custom"===l.button.style.name?m(l.button.style):(null===i||void 0===i?void 0:i.buttons)&&m((0,o.Z)((0,s.Z)({},i.buttons[l.button.style.name]),{name:l.button.style.name})):m({name:"custom",type:(null===i||void 0===i||null===(n=i.button)||void 0===n?void 0:n.style)||"solid",cornerRadius:isNaN(null===i||void 0===i||null===(t=i.button)||void 0===t?void 0:t.cornerRadius)?8:i.button.cornerRadius})}),[l,i]),(null===i||void 0===i?void 0:i.noPaletteSupport)?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("div",{className:t,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Button style"}),(0,d.jsx)("button",{className:"link text-sm",onClick:a,children:"Change"})]}),(0,d.jsx)(ae,{style:c,text:null===(n=le.find((function(e){return e.id===(null===c||void 0===c?void 0:c.name)})))||void 0===n?void 0:n.name,onClick:a})]})}function me(e){var n,t,i,l,a,r,c=e.className,m=e.title,v=e.text,x=e.block,h=e.setBlock,f=e.switchable,p=void 0===f||f,g=e.isHeader,b=e.isFooter,j=e.onValid,y=(0,u.useState)(!1),w=y[0],Z=y[1];return(0,u.useEffect)((function(){var e,n;!(null===x||void 0===x?void 0:x.button)||(null===x||void 0===x||null===(e=x.button)||void 0===e?void 0:e.label)&&(null===x||void 0===x||null===(n=x.button)||void 0===n?void 0:n.link)?(Z(!0),j(!0)):(Z(!1),j(!1))}),[null===x||void 0===x?void 0:x.button]),(0,d.jsxs)("div",{className:c,children:[p&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:m||"Button"}),v&&(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:v})]}),(0,d.jsx)(z.Z,{enabled:void 0!==(null===x||void 0===x?void 0:x.button)&&null!==(null===x||void 0===x?void 0:x.button),onChange:function(e){return h(e?(0,o.Z)((0,s.Z)({},x),{button:{label:"Button",type:"url",link:"",style:{name:"style1"}}}):(0,o.Z)((0,s.Z)({},x),{button:void 0}))}})]}),((null===x||void 0===x?void 0:x.button)||!p)&&(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)(N.Z,{className:"mb-4",label:"Label",value:(null===x||void 0===x||null===(n=x.button)||void 0===n?void 0:n.label)||"",onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{button:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.button),{label:e})}))},error:!w&&!(null===x||void 0===x||null===(t=x.button)||void 0===t?void 0:t.label)&&"Button label is required"}),(0,d.jsx)("label",{className:"mb-1",children:"Link"}),(0,d.jsx)(ie,{linkSettings:{type:null===x||void 0===x||null===(i=x.button)||void 0===i?void 0:i.type,page:null===x||void 0===x||null===(l=x.button)||void 0===l?void 0:l.page,link:null===x||void 0===x||null===(a=x.button)||void 0===a?void 0:a.link,newPage:null===x||void 0===x||null===(r=x.button)||void 0===r?void 0:r.newPage},disableLinkToSection:g||b,onChangeNewPage:function(e){return h((0,o.Z)((0,s.Z)({},x),{button:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.button),{newPage:e})}))},onChangePage:function(e){return h((0,o.Z)((0,s.Z)({},x),{button:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.button),{page:e.page,link:e.link})}))},onChangeLink:function(e){return h((0,o.Z)((0,s.Z)({},x),{button:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.button),{link:e})}))},onChangeType:function(e){return h((0,o.Z)((0,s.Z)({},x),{button:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.button),{type:e})}))}})]})]})}var ve=t(33299),xe=[{id:"default",name:"Default",blocks:["hero","text","list","banner"]},{id:"about-us",name:"About us",blocks:["hero","text"]},{id:"pitch",name:"Elevator pitch",blocks:["text"]},{id:"welcome",name:"Welcome text",blocks:["text"]},{id:"services",name:"Services",blocks:["list"]},{id:"service",name:"Service",blocks:["hero"]},{id:"stats",name:"Statistics",blocks:["list"]},{id:"team",name:"Team",blocks:["hero"]},{id:"team-list",name:"Team members",blocks:["list"]},{id:"our-work",name:"Our work",blocks:["list","hero"]},{id:"faq",name:"FAQ",blocks:["text"]},{id:"privacy-policy",name:"Privacy policy",blocks:["text"]},{id:"terms-of-service",name:"Terms of service",blocks:["text"]},{id:"cta",name:"Call to action",blocks:["banner"]},{id:"cta-menu",name:"Call to action menu",blocks:["banner"]}];function he(e){var n,t,i,l=e.block,a=e.setBlock,r=e.purpose,c=e.randomize,u=(0,ve.useSession)().data,m=xe.filter((function(e){var n;return e.blocks.includes(null===l||void 0===l||null===(n=l.WebsiteBlock)||void 0===n?void 0:n.type)}));return(null===u||void 0===u||null===(n=u.user)||void 0===n?void 0:n.isSuperAdmin)?(0,d.jsxs)("div",{className:"mt-6 pt-6 space-y-4",children:[(0,d.jsx)("p",{className:"mb-6 font-semibold",children:"Template settings"}),r&&(0,d.jsx)(te.Z,{label:"Purpose",placeholder:"Select",values:m,value:m.find((function(e){return e.id===(null===l||void 0===l?void 0:l.type)}))||m[0],onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{type:e.id}))}}),c&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700",children:"Randomize spacing"}),(0,d.jsx)(z.Z,{enabled:!(0,f.$K)(null===l||void 0===l||null===(t=l.randomize)||void 0===t?void 0:t.spacing)||(null===l||void 0===l||null===(i=l.randomize)||void 0===i?void 0:i.spacing),onChange:function(e){return a((function(n){return(0,o.Z)((0,s.Z)({},n),{randomize:(0,o.Z)((0,s.Z)({},n.randomize),{spacing:e,minHeight:void 0})})}))}})]})]}):(0,d.jsx)(d.Fragment,{})}function fe(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=e.loading,m=e.website,v=e.onValid;i=(0,f.p$)(i);var x=(0,u.useState)(null),h=x[0],g=x[1],b=function(){t(!1)};return(0,d.jsxs)(A,{title:"Banner",open:n,rtl:a,setRtl:r,edit:h,setEdit:g,loading:c,hiddenTabs:["Colors","Button style","Divider style"],onClose:b,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===i||void 0===i?void 0:i.headline),prompt:"Create a short heading",includeName:!0,includeVertical:!0,onSuggestion:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{headline:e})}))}})]}),(0,d.jsx)(N.Z,{value:null===i||void 0===i?void 0:i.headline,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{headline:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Subtext"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===i||void 0===i?void 0:i.content),prompt:"Create a short description",includeName:!0,includeVertical:!0,includeLocation:!0,includeTitle:null===i||void 0===i?void 0:i.headline,onSuggestion:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,d.jsx)("textarea",{rows:4,value:null===i||void 0===i?void 0:i.content,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{content:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]})]}),(0,d.jsx)(me,{className:"pt-6",block:i,setBlock:l,onValid:v}),(0,d.jsx)(he,{block:i,setBlock:l,purpose:!0,randomize:!0})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:m,block:i,onEdit:function(){return g("Colors")}}),(null===i||void 0===i?void 0:i.button)&&(0,d.jsx)(ue,{className:"py-6",website:m,block:i,setBlock:l,onEdit:function(){return g("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:i,setBlock:l}),(0,d.jsx)(W.iy,{className:"py-6",block:i,setBlock:l,website:m}),(0,d.jsx)(S.Z,{className:"py-6",block:i,setBlock:l,horizontalAlign:!0}),(0,d.jsx)(q,{className:"py-6",block:i,setBlock:l,onEdit:function(){return g("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:i,setBlock:l}),1===i.idx&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Combine with header"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Seamlessly blend banner background with page header"})]}),(0,d.jsx)(z.Z,{enabled:null===i||void 0===i?void 0:i.combineWithHeader,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{combineWithHeader:e}))}})]})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:m,block:i,setBlock:l,onTryPalette:b})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:m,block:i,setBlock:l})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:i,setBlock:l,isEditing:!0})})]})}var pe=t(61135),ge=t(88575),be=t(16494),je=function(e){var n,t,i,l;return{fontFamily:(null===e||void 0===e||null===(n=e.fonts)||void 0===n||null===(t=n.head)||void 0===t?void 0:t.family)||'"Inter", sans-serif',fontWeight:(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.head)||void 0===l?void 0:l.weight)||500}},ye=function(e){var n,t,i,l;return{fontFamily:(null===e||void 0===e||null===(n=e.fonts)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.family)||'"Inter", sans-serif',fontWeight:(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.body)||void 0===l?void 0:l.weight)||500}};function we(e){var n=e.website,t=e.value,i=e.onChange,l=(0,u.useState)(),s=l[0],o=l[1];return(0,u.useEffect)((function(){if(n){var e,t,i,l,s,r,c,d,u,m,v,x,h,f,p,g,b,j,y,w,N="\n                :root {\n                    ".concat(Object.entries(je(n)).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return"--head-".concat(t,":").concat(i,";")})).join(""),"\n                    ").concat(Object.entries(ye(n)).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return"--body-".concat(t,":").concat(i,";")})).join(""),"\n                }\n            "),Z="";if((null===n||void 0===n||null===(e=n.fonts)||void 0===e||null===(t=e.head)||void 0===t?void 0:t.name)&&(null===n||void 0===n||null===(i=n.fonts)||void 0===i||null===(l=i.body)||void 0===l?void 0:l.name))Z='\n                    @import url("https://fonts.googleapis.com/css2?family='.concat(null===n||void 0===n||null===(s=n.fonts)||void 0===s||null===(r=s.body)||void 0===r?void 0:r.name.replace(/ /gi,"+"),":wght@400;700").concat(400!=(null===n||void 0===n||null===(c=n.fonts)||void 0===c||null===(d=c.head)||void 0===d?void 0:d.weight)&&700!=(null===n||void 0===n||null===(u=n.fonts)||void 0===u||null===(m=u.head)||void 0===m?void 0:m.weight)?";".concat(null===n||void 0===n||null===(v=n.fonts)||void 0===v||null===(x=v.head)||void 0===x?void 0:x.weight):"","&family=").concat(null===n||void 0===n||null===(h=n.fonts)||void 0===h||null===(f=h.body)||void 0===f?void 0:f.name.replace(/ /gi,"+"),":wght@400;700").concat(400!=(null===n||void 0===n||null===(p=n.fonts)||void 0===p||null===(g=p.body)||void 0===g?void 0:g.weight)&&700!=(null===n||void 0===n||null===(b=n.fonts)||void 0===b||null===(j=b.body)||void 0===j?void 0:j.weight)?";".concat(null===n||void 0===n||null===(y=n.fonts)||void 0===y||null===(w=y.body)||void 0===w?void 0:w.weight):"",'&display=swap");\n                ');o(N+Z)}}),[null===n||void 0===n?void 0:n.fonts]),s?(0,d.jsx)(ge.Z,{value:t,onEditorChange:function(e){i(e)},contentClassName:"rich-text-block website-wysiwyg",headingStyles:je(n),bodyStyles:ye(n),toolbar:"undo redo | formatting align list | link | removeformat",quickbars_insert_toolbar:"",quickbars_selection_toolbar:"",cssFileUrl:"/wysiwyg.css",style:s,toolbar_groups:{formatting:{icon:"format",tooltip:"Formatting",items:"styleselect bold italic | forecolor"},align:{icon:"align-left",tooltip:"Aligment",items:"alignleft aligncenter alignright alignjustify"},list:{icon:"unordered-list",tooltip:"Lists",items:"bullist numlist | outdent indent"}}}):(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"h-10"})}var Ne=t(34122),Ze=null;function ke(e){var n,t,i,l,a,r,c,m,x,h,b,j,y,w=e.open,C=e.setOpen,P=e.block,T=e.setBlock,O=e.rtl,B=e.setRtl,I=e.loading,F=(e.onSave,e.website),_=(e.changeHistory,e.onValid),R=(0,u.useState)(!1),D=R[0],z=R[1],H=(0,u.useState)(null),V=H[0],M=H[1],K=(0,u.useState)({x:(null===P||void 0===P||null===(n=P.image)||void 0===n||null===(t=n.imagePositionX)||void 0===t?void 0:t.replace("%",""))||50,y:(null===P||void 0===P||null===(i=P.image)||void 0===i||null===(l=i.imagePositionY)||void 0===l?void 0:l.replace("%",""))||50}),$=K[0],U=K[1],X=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],G=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],Y=function(){C(!1)};return(0,u.useEffect)((function(){var e,n,t,i;P&&U({x:null===(e=P.image)||void 0===e||null===(n=e.imagePositionX)||void 0===n?void 0:n.replace("%",""),y:null===(t=P.image)||void 0===t||null===(i=t.imagePositionY)||void 0===i?void 0:i.replace("%","")})}),[P]),(0,d.jsxs)(A,{title:"Text + Image",open:w,rtl:O,setRtl:B,edit:V,setEdit:M,loading:I,hiddenTabs:["Colors","Button style","Divider style"],onClose:Y,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Content"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===P||void 0===P?void 0:P.content),prompt:(null===P||void 0===P?void 0:P.prompt)?{label:P.prompt}:"Create a short rich text with h3 and p html tags",includeName:!0,includeVertical:!0,onSuggestion:function(e){return T((function(n){return(0,o.Z)((0,s.Z)({},n),{content:"object"===typeof e?e.content:e})}))}})]}),(0,d.jsx)(we,{website:F,value:null===P||void 0===P?void 0:P.content,onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{content:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(pe.Z,{className:"!text-sm",regenerate:!!(null===P||void 0===P||null===(a=P.image)||void 0===a?void 0:a.media),onChange:function(e){T((function(n){return(0,o.Z)((0,s.Z)({},n),{image:(0,o.Z)((0,s.Z)({},n.image),{media:e})})})),z(!0),setTimeout((function(){z(!1)}),1e3)}})]}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",limit:1,location:"blocks",pictures:null!==(b=null===P||void 0===P||null===(r=P.image)||void 0===r?void 0:r.media)&&void 0!==b?b:null,onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{media:e&&e.length>0&&e[0]})}))},reload:D,shutterstock:!0,unsplash:!0,upload:!0,library:!0}),(0,d.jsxs)("div",{className:"pt-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image position"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Horizontal"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:$.x,onChange:function(e){U((0,o.Z)((0,s.Z)({},$),{x:e})),clearTimeout(Ze),Ze=setTimeout((function(){T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{imagePositionX:"".concat(e,"%")})})),U((0,o.Z)((0,s.Z)({},$),{x:e}))}),500,e)}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Vertical"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:$.y,onChange:function(e){U((0,o.Z)((0,s.Z)({},$),{y:e})),clearTimeout(Ze),Ze=setTimeout((function(){T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{imagePositionY:"".concat(e,"%")})})),U((0,o.Z)((0,s.Z)({},$),{y:e}))}),500,e)}})]})]})]}),(0,d.jsx)(me,{className:"pt-6",block:P,setBlock:T,onValid:_}),(0,d.jsx)(he,{block:P,setBlock:T,purpose:!0})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:F,block:P,onEdit:function(){return M("Colors")}}),(null===P||void 0===P?void 0:P.button)&&(0,d.jsx)(ue,{className:"py-6",website:F,block:P,setBlock:T,onEdit:function(){return M("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:P,setBlock:T}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Text alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:null===P||void 0===P?void 0:P.align,onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"top",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignTopSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"middle",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignVCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"bottom",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignBottomSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===P||void 0===P||null===(c=P.image)||void 0===c?void 0:c.align)||"right",onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{align:e})}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-l cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-r cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(null===P||void 0===P?void 0:P.image)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(te.Z,{label:"Image fit",placeholder:"Select",values:G,value:G.find((function(e){var n;return e.id===(null!==(j=null===P||void 0===P||null===(n=P.image)||void 0===n?void 0:n.imageFit)&&void 0!==j?j:"cover")})),onChange:function(e){var n,t;return T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{imageFit:e.id,cornerRadius:"contain"===e.id?"no-rounded":null===P||void 0===P||null===(n=P.image)||void 0===n?void 0:n.cornerRadius,aspectRatio:"contain"===e.id?"16:9":null===P||void 0===P||null===(t=P.image)||void 0===t?void 0:t.aspectRatio})}))}}),"contain"!==(null===P||void 0===P||null===(m=P.image)||void 0===m?void 0:m.imageFit)&&(0,d.jsx)(te.Z,{label:"Aspect ratio",placeholder:"Select",values:X,value:X.find((function(e){var n;return e.id===(null!==(y=null===P||void 0===P||null===(n=P.image)||void 0===n?void 0:n.aspectRatio)&&void 0!==y?y:"16:9")})),onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{aspectRatio:e.id})}))}})]}),"contain"!==(null===P||void 0===P||null===(x=P.image)||void 0===x?void 0:x.imageFit)&&(0,d.jsx)(Ne.nR,{className:"py-6",value:null===P||void 0===P||null===(h=P.image)||void 0===h?void 0:h.cornerRadius,defaultValue:null===F||void 0===F?void 0:F.cornerRadius,onChange:function(e){return T((0,o.Z)((0,s.Z)({},P),{image:(0,o.Z)((0,s.Z)({},P.image),{cornerRadius:e})}))}})]}),(0,d.jsx)(W.iy,{className:"py-6",block:P,setBlock:T,website:F}),(0,d.jsx)(S.Z,{className:"py-6",block:P,setBlock:T}),(0,d.jsx)(q,{className:"py-6",block:P,setBlock:T,onEdit:function(){return M("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:P,setBlock:T})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:F,block:P,setBlock:T,onTryPalette:Y})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:F,block:P,setBlock:T})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:P,setBlock:T,isEditing:!0})})]})}function Ce(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=e.loading,m=(e.onSave,e.website),x=(e.changeHistory,(0,u.useState)(null)),h=x[0],b=x[1],j=function(){t(!1)};return(0,d.jsxs)(A,{title:"Text",open:n,rtl:a,setRtl:r,edit:h,setEdit:b,loading:c,hiddenTabs:["Colors","Divider style"],onClose:j,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"flex justify-end items-center mb-2",children:(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===i||void 0===i?void 0:i.content),prompt:i.prompt?{label:i.prompt}:"Create a short rich text content with h3 and p html tags",includeName:!0,includeVertical:!0,includeLocation:!0,onSuggestion:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})}),(0,d.jsx)(we,{website:m,value:null===i||void 0===i?void 0:i.content,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{content:e}))}})]}),(0,d.jsx)(he,{block:i,setBlock:l,purpose:!0})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:m,block:i,onEdit:function(){return b("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:i,setBlock:l}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===i||void 0===i?void 0:i.align)||"left",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsx)(W.iy,{className:"py-6",block:i,setBlock:l,website:m}),(0,d.jsx)(S.Z,{className:"py-6",block:i,setBlock:l}),(0,d.jsx)(q,{className:"py-6",block:i,setBlock:l,onEdit:function(){return b("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:i,setBlock:l})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:m,block:i,setBlock:l,onTryPalette:j})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:i,setBlock:l,isEditing:!0})})]})}var Se=t(78548);function Ee(e){var n,t,i,l=e.open,a=e.setOpen,c=e.block,m=e.setBlock,x=e.rtl,h=e.setRtl,b=e.loading,j=(e.onSave,e.changeHistory,e.website),y=(0,u.useState)(!1),w=y[0],k=y[1],C=(0,u.useState)(null),P=C[0],T=C[1],O=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],B=[{id:"grid",name:"Grid"},{id:"carousel",name:"Carousel"}],I=function(){a(!1)};return(0,u.useEffect)((function(){l&&((null===c||void 0===c?void 0:c.style)||(c.style="grid"),(null===c||void 0===c?void 0:c.cornerRadius)||(c.cornerRadius="no-rounded"))}),[l]),(0,u.useEffect)((function(){"carousel"===(null===c||void 0===c?void 0:c.style)&&(c.noGutters=!1,c.fullWidth=!1,c.fullHeight=void 0)}),[c]),(0,d.jsxs)(A,{title:"Gallery",open:l,rtl:x,setRtl:h,edit:P,setEdit:T,loading:b,hiddenTabs:["Colors","Divider style"],onClose:I,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,d.jsx)(N.Z,{value:null===c||void 0===c?void 0:c.headline,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Images"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Select up to 12 images"})]}),(!(null===c||void 0===c?void 0:c.pictures)||(null===c||void 0===c||null===(n=c.pictures)||void 0===n?void 0:n.length)<13)&&(0,d.jsx)(pe.Z,{className:"!text-sm",onChange:function(e){m((function(n){return(0,o.Z)((0,s.Z)({},n),{pictures:n.pictures?(0,r.Z)(n.pictures).concat([e]):[e]})})),k(!0),setTimeout((function(){k(!1)}),1e3)}})]}),(0,d.jsx)(Z.Z,{wrapClassName:"!grid !grid-cols-3 !gap-2",itemClassName:"w-full h-[100px] !min-w-20",limit:12,location:"blocks",pictures:null===c||void 0===c?void 0:c.pictures,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{pictures:e}))},reload:w,shutterstock:!0,unsplash:!0,upload:!0,library:!0})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[!((null===c||void 0===c?void 0:c.fullWidth)&&(null===c||void 0===c?void 0:c.fullHeight)&&(null===c||void 0===c?void 0:c.noGutters))&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L._u,{className:"pb-6",website:j,block:c,onEdit:function(){return T("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:c,setBlock:m})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Heading alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===c||void 0===c?void 0:c.align)||"left",onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Type"}),(0,d.jsx)(te.Z,{placeholder:"Select",values:B,value:(null===c||void 0===c?void 0:c.style)&&B.find((function(e){return e.id===(null===c||void 0===c?void 0:c.style)})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{style:e.id}))}})]}),"grid"===(null===c||void 0===c?void 0:c.style)&&(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Click for fullscreen"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Click on an image to open a fullscreen carousel"})]}),(0,d.jsx)(z.Z,{enabled:null===c||void 0===c?void 0:c.allowFullscreen,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{allowFullscreen:e}))}})]}),(0,d.jsx)("div",{className:"my-4",children:(0,d.jsx)(Se.U,{variant:"info",text:"The fullscreen option will only be available on larger screens"})}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6 my-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Remove gaps"}),(0,d.jsx)(z.Z,{enabled:null===c||void 0===c?void 0:c.noGutters,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{noGutters:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Full width"}),(0,d.jsx)(z.Z,{enabled:null===c||void 0===c?void 0:c.fullWidth,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{fullWidth:e}))}})]})]}),(null===c||void 0===c||null===(t=c.pictures)||void 0===t?void 0:t.length)>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(te.Z,{label:"Aspect ratio",placeholder:"Select",values:O,value:O.find((function(e){return e.id===(null!==(i=null===c||void 0===c?void 0:c.aspectRatio)&&void 0!==i?i:"16:9")})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{aspectRatio:e.id}))}})]}),(0,d.jsx)(Ne.nR,{className:"py-6",value:null===c||void 0===c?void 0:c.cornerRadius,defaultValue:null===j||void 0===j?void 0:j.cornerRadius,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{cornerRadius:e}))}})]}),(0,d.jsx)(W.iy,{className:"py-6",block:c,setBlock:m,website:j}),(0,d.jsx)(S.Z,{className:"py-6",block:c,setBlock:function(e){return m((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))}}),(0,d.jsx)(q,{className:"py-6",block:c,setBlock:m,onEdit:function(){return T("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:c,setBlock:m})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:j,block:c,setBlock:m,onTryPalette:I})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:c,setBlock:m,isEditing:!0})})]})}function Pe(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=e.loading,m=(e.onSave,e.changeHistory,e.website),x=e.onValid,h=(0,u.useState)(!1),b=h[0],j=h[1],y=(0,u.useState)(null),w=y[0],Z=y[1],k=function(e){var n,t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(live\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==(null===(n=t[9])||void 0===n?void 0:n.length))&&"https://www.youtube.com/embed/"+t[9]},C=function(e){var n=/vimeo.*\/(\d+)/i.exec(e);return!(!n||!n[1])&&"https://player.vimeo.com/video/"+n[1]},P=function(){t(!1)};return(0,u.useEffect)((function(){if(null===i||void 0===i?void 0:i.url){var e=k(i.url)||C(i.url);j(!e),"function"===typeof x&&x(e)}}),[i]),(0,d.jsxs)(A,{title:"Video",open:n,rtl:a,setRtl:r,edit:w,setEdit:Z,loading:c,hiddenTabs:["Colors","Divider style"],onClose:P,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,d.jsx)(N.Z,{value:null===i||void 0===i?void 0:i.headline,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Video link"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Add a YouTube or Vimeo link"}),(0,d.jsx)(N.Z,{label:"Link address",placeholder:"E.g. https://youtu.be/4H13-uKsxoQ",value:null===i||void 0===i?void 0:i.url,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{url:e}))},error:(null===i||void 0===i?void 0:i.url)&&b?"This url isn't a valid Youtube or Vimeo video!":""}),(null===i||void 0===i?void 0:i.url)&&!b&&(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)("iframe",{className:"rounded-md",width:"100%",height:"184",src:k(i.url)||C(i.url),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:""})})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:m,block:i,onEdit:function(){return Z("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:i,setBlock:l}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Heading alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===i||void 0===i?void 0:i.align)||"left",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold text-h6 text-gray-900",children:"Fullscreen"}),(0,d.jsx)(z.Z,{enabled:null===i||void 0===i?void 0:i.fullScreen,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{fullScreen:e}))}})]}),(0,d.jsx)(W.iy,{className:"py-6",block:i,setBlock:l,website:m}),(0,d.jsx)(S.Z,{className:"py-6",block:i,setBlock:l,spacing:!(null===i||void 0===i?void 0:i.fullScreen),verticalAlign:!1}),(0,d.jsx)(q,{className:"py-6",block:i,setBlock:l,onEdit:function(){return Z("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:i,setBlock:l})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:m,block:i,setBlock:l,onTryPalette:P})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:i,setBlock:l,isEditing:!0})})]})}var Te=t(93860),Oe=t(86067),Be=t(41664),Ie=t.n(Be);function Fe(e){var n,t,i,l,a,r,c,m=e.open,v=e.setOpen,x=e.block,h=e.setBlock,g=e.updateSocial,b=e.website,y=e.rtl,w=e.setRtl,k=e.loading,C=(e.onSave,e.changeHistory,e.onValid),E=e.scrollToLocation,P=void 0===E?null:E,T=e.setScrollToLocation,O=void 0===T?null:T,B=(0,u.useState)((0,f.tl)("business.config")),I=B[0],F=(B[1],(0,u.useState)(null)),_=F[0],R=F[1],D=[{id:"branding",name:"Branding"},{id:"upload",name:"Upload file"}],W=[{id:"left",name:"Logo left + menu right"},{id:"center",name:"Logo center + menu left"},{id:"full-center",name:"Logo center + menu center"}],H=(0,f.tl)("pages"),V=(0,u.useRef)(null),M=(0,u.useRef)(null),K=function(e){"function"===typeof g&&g(e)},$=function(){v(!1)};return(0,u.useEffect)((function(){if(m){var e,n=x;if(null===(null===x||void 0===x?void 0:x.siteName)||void 0===(null===x||void 0===x?void 0:x.siteName))n.siteName=null===I||void 0===I||null===(e=I.business)||void 0===e?void 0:e.name;(null===x||void 0===x?void 0:x.style)||(n.style="left"),h((function(e){return(0,s.Z)({},e,n)}))}}),[m]),(0,u.useEffect)((function(){if(P&&O){switch(P){case"social":V.current.scrollIntoView({behavior:"smooth",block:"center"});break;case"logo":M.current.scrollIntoView({behavior:"smooth",block:"center"})}O(null)}})),(0,d.jsxs)(A,{title:"Header",open:m,rtl:y,setRtl:w,edit:_,setEdit:R,loading:k,hiddenTabs:["Colors","Button style"],onClose:$,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)("div",{className:"pb-6",children:(0,d.jsx)(Se.U,{variant:"info",text:"Changes made here will update all pages using the header"})}),(0,d.jsxs)("div",{ref:M,className:"py-6 space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Site name"}),(0,d.jsx)(N.Z,{size:30,value:null===x||void 0===x?void 0:x.siteName,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{siteName:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Logo"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Replace company name with a logo"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.showLogo,onChange:function(e){return h(e?(0,o.Z)((0,s.Z)({},x),{showLogo:e,source:"upload",logoDesktop:{height:80},logoMobile:{height:40}}):(0,o.Z)((0,s.Z)({},x),{showLogo:e,source:void 0,logoDesktop:{height:80},logoMobile:{height:40}}))}})]}),(null===x||void 0===x?void 0:x.showLogo)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te.Z,{className:"my-6",label:"Source",placeholder:"Select",values:D,value:(null===x||void 0===x?void 0:x.source)&&D.find((function(e){return e.id===(null===x||void 0===x?void 0:x.source)})),onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{source:e.id}))}}),"upload"===x.source&&(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none bg-gray-50",limit:1,location:"blocks",pictures:x.customLogo||null,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{customLogo:e&&e.length>0?e[0]:null}))},unsplash:!0,upload:!0,library:!0}),"branding"===x.source&&((null===b||void 0===b?void 0:b.logo)?(0,d.jsx)("div",{className:"border p-4 bg-gray-50 rounded-md mb-6",children:(0,d.jsx)("div",{className:"relative w-full h-24",children:(0,d.jsx)(j(),{unoptimized:!0,src:b.logo.url,objectFit:"contain",layout:"fill",alt:b.logo.alt})})}):(0,d.jsxs)("p",{children:["You don't have a brand logo, ",(0,d.jsx)(Ie(),{href:"/marketing/branding",children:(0,d.jsx)("a",{className:"link",children:"customize it."})})]})),("upload"===x.source&&(null===(n=x.customLogo)||void 0===n?void 0:n._id)||"branding"===x.source&&(null===b||void 0===b||null===(t=b.logo)||void 0===t?void 0:t.url))&&(0,d.jsxs)("div",{className:"flex flex-col gap-4 text-sm text-gray-900",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("span",{className:"w-24 whitespace-nowrap",children:"Desktop size"}),(0,d.jsx)(N.Z,{min:"40",max:"200",type:"range",step:1,value:null===x||void 0===x||null===(i=x.logoDesktop)||void 0===i?void 0:i.height,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{logoDesktop:(0,o.Z)((0,s.Z)({},n.logo),{height:e})})}))}}),(0,d.jsxs)("span",{className:"w-12",children:[null===x||void 0===x||null===(l=x.logoDesktop)||void 0===l?void 0:l.height,"px"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("span",{className:"w-24 whitespace-nowrap",children:"Mobile size"}),(0,d.jsx)(N.Z,{min:"24",max:"100",type:"range",value:null===x||void 0===x||null===(a=x.logoMobile)||void 0===a?void 0:a.height,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{logoMobile:(0,o.Z)((0,s.Z)({},x.logo),{height:e})}))}}),(0,d.jsxs)("span",{className:"w-12",children:[null===x||void 0===x||null===(r=x.logoMobile)||void 0===r?void 0:r.height,"px"]})]})]})]})]})]}),(0,d.jsx)(me,{className:"py-6",block:x,setBlock:h,onValid:C}),(0,d.jsxs)("div",{className:"pt-6",ref:V,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Social links"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Display links to your social profiles"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.showSocial,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{showSocial:e}))}})]}),(null===x||void 0===x?void 0:x.showSocial)&&(0,d.jsx)(Te.ZP,{className:"mt-6",updateSocial:K})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:b,block:x,onEdit:function(){return R("Colors")}}),(null===x||void 0===x?void 0:x.button)&&(0,d.jsx)(ue,{className:"py-6",website:b,block:x,setBlock:h,onEdit:function(){return R("Button style")}}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Positioning"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"The position of the elements within the header"})]}),(0,d.jsx)(te.Z,{placeholder:"Select",values:W,value:(null===x||void 0===x?void 0:x.style)&&W.find((function(e){return e.id===(null===x||void 0===x?void 0:x.style)})),onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{style:e.id,menu:(0,o.Z)((0,s.Z)({},n.menu),{placement:"left"===e.id?"right":"left"})})}))}}),H.length>1&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Menu button"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Collapsed menu on larger screens"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x||null===(c=x.menu)||void 0===c?void 0:c.collapse,onChange:function(e){h((0,o.Z)((0,s.Z)({},x),{menu:(0,o.Z)((0,s.Z)({},null===x||void 0===x?void 0:x.menu),{collapse:e,placement:"left"===x.style?"right":"left"})}))}})]})})]}),(null===x||void 0===x?void 0:x.showSocial)&&(0,d.jsx)(Te.eG,{updateSocial:K}),(0,d.jsx)("div",{className:"py-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Full width"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Use the full width when viewing on desktop"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.fullWidth,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{fullWidth:e}))}})]})}),(0,d.jsx)("div",{className:"py-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Sticky"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Keep the header at the top on scroll"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.sticky,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{sticky:e}))}})]})}),(0,d.jsx)(S.Z,{className:"pt-6",block:x,setBlock:h,minHeight:!1})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:b,block:x,setBlock:h,noSelectType:!0,onTryPalette:$})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:b,block:x,setBlock:h})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:x,setBlock:h,isEditing:!0})})]})}function _e(e){var n,t,i,l,a,r,c,m=e.open,v=e.setOpen,x=e.block,h=e.setBlock,g=e.updateSocial,b=e.rtl,y=e.setRtl,w=e.loading,k=(e.onSave,e.changeHistory),C=e.website,P=e.onValid,T=(0,u.useState)((0,f.tl)("business.config")),O=T[0],B=(T[1],(0,u.useState)(null)),I=B[0],F=B[1],_=[{id:"branding",name:"Branding"},{id:"upload",name:"Upload file"}],R=[{id:"split-right",name:"Split details right"},{id:"split-left",name:"Split details left"},{id:"stacked-right",name:"Stacked details right"},{id:"stacked-center",name:"Stacked details center"},{id:"stacked-left",name:"Stacked details left"},{id:"simple-right",name:"Simple details right"},{id:"simple-center",name:"Simple details center"}],D=function(e){"function"===typeof g&&(g(e),k())},W=function(){v(!1)};return(0,u.useEffect)((function(){if(m){var e,n=x;if(null===x.businessName||void 0===x.businessName)x.businessName=null===O||void 0===O||null===(e=O.business)||void 0===e?void 0:e.name;null!==x.additionalDetails&&void 0!==x.additionalDetails||(x.additionalDetails=""),h((0,s.Z)({},x,n))}}),[m]),(0,d.jsxs)(A,{title:"Footer",open:m,rtl:b,setRtl:y,edit:I,setEdit:F,loading:w,hiddenTabs:["Colors","Button style"],onClose:W,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)("div",{className:"pb-6",children:(0,d.jsx)(Se.U,{variant:"info",text:"Changes will affect any page using the website footer"})}),(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold mb-2",children:"Business name"}),(0,d.jsx)(N.Z,{value:null===x||void 0===x?void 0:x.businessName,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{businessName:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Logo"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Replace company name with a logo"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.showLogo,onChange:function(e){return h(e?(0,o.Z)((0,s.Z)({},x),{showLogo:e,source:"upload",logoDesktop:{height:80},logoMobile:{height:40}}):(0,o.Z)((0,s.Z)({},x),{showLogo:e,source:void 0,logoDesktop:{height:80},logoMobile:{height:40}}))}})]}),(null===x||void 0===x?void 0:x.showLogo)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te.Z,{className:"my-6",label:"Source",placeholder:"Select",values:_,value:(null===x||void 0===x?void 0:x.source)&&_.find((function(e){return e.id===(null===x||void 0===x?void 0:x.source)})),onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{source:e.id}))}}),"upload"===x.source&&(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none bg-gray-50",limit:1,location:"blocks",pictures:x.customLogo||null,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{customLogo:e&&e.length>0?e[0]:null}))},unsplash:!0,upload:!0,library:!0}),"branding"===x.source&&((null===C||void 0===C?void 0:C.logo)?(0,d.jsx)("div",{className:"border p-4 bg-gray-50 rounded-md mb-6",children:(0,d.jsx)("div",{className:"relative w-full h-24",children:(0,d.jsx)(j(),{unoptimized:!0,src:C.logo.url,objectFit:"contain",layout:"fill",alt:C.logo.alt})})}):(0,d.jsxs)("p",{children:["You don't have a brand logo, ",(0,d.jsx)(Ie(),{href:"/marketing/branding",children:(0,d.jsx)("a",{className:"link",children:"customize it."})})]})),("upload"===x.source&&(null===(n=x.customLogo)||void 0===n?void 0:n._id)||"branding"===x.source&&(null===C||void 0===C||null===(t=C.logo)||void 0===t?void 0:t.url))&&(0,d.jsxs)("div",{className:"flex flex-col gap-4 text-sm text-gray-900",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("span",{className:"w-24 whitespace-nowrap",children:"Desktop size"}),(0,d.jsx)(N.Z,{min:"40",max:"200",type:"range",step:1,value:null===x||void 0===x||null===(i=x.logoDesktop)||void 0===i?void 0:i.height,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{logoDesktop:(0,o.Z)((0,s.Z)({},n.logo),{height:e})})}))}}),(0,d.jsxs)("span",{className:"w-12",children:[null===x||void 0===x||null===(l=x.logoDesktop)||void 0===l?void 0:l.height,"px"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("span",{className:"w-24 whitespace-nowrap",children:"Mobile size"}),(0,d.jsx)(N.Z,{min:"24",max:"100",type:"range",value:null===x||void 0===x||null===(a=x.logoMobile)||void 0===a?void 0:a.height,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{logoMobile:(0,o.Z)((0,s.Z)({},x.logo),{height:e})}))}}),(0,d.jsxs)("span",{className:"w-12",children:[null===x||void 0===x||null===(r=x.logoMobile)||void 0===r?void 0:r.height,"px"]})]})]})]})]})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Additional details"}),(0,d.jsx)("textarea",{rows:4,placeholder:"You can add your business address or any other relevant details.",value:null!==(c=null===x||void 0===x?void 0:x.additionalDetails)&&void 0!==c?c:"",onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{additionalDetails:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]}),(0,d.jsx)(me,{className:"py-6",block:x,setBlock:h,isFooter:!0,onValid:P}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Social links"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Display links to your social profiles"})]}),(0,d.jsx)(z.Z,{enabled:null===x||void 0===x?void 0:x.showSocial,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{showSocial:e}))}})]}),(null===x||void 0===x?void 0:x.showSocial)&&(0,d.jsx)(Te.ZP,{className:"mt-4",updateSocial:D})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Made with Durable"}),(0,d.jsx)(z.Z,{enabled:void 0===x.madeWithDurable||!0===x.madeWithDurable||null===x.madeWithDurable,onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{madeWithDurable:e}))}})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:C,block:x,onEdit:function(){return F("Colors")}}),(null===x||void 0===x?void 0:x.button)&&(0,d.jsx)(ue,{className:"py-6",website:C,block:x,setBlock:h,onEdit:function(){return F("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:x,setBlock:h}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Type"}),(0,d.jsx)(te.Z,{placeholder:"Select",values:R,value:(null===x||void 0===x?void 0:x.style)&&R.find((function(e){return e.id===(null===x||void 0===x?void 0:x.style)}))||R.find((function(e){return"split-right"===e.id})),onChange:function(e){return h((0,o.Z)((0,s.Z)({},x),{style:e.id}))}})]}),(null===x||void 0===x?void 0:x.showSocial)&&(0,d.jsx)(Te.eG,{updateSocial:D}),(0,d.jsx)(S.Z,{className:"pt-6",block:x,setBlock:h,minHeight:!1})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:C,block:x,setBlock:h,onTryPalette:W})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:C,block:x,setBlock:h})})]})}function Ae(e){var n=e.item,t=e.open,i=e.setOpen,l=e.onSave,a=(0,u.useState)({type:null,link:""}),r=a[0],c=a[1],m=(0,u.useState)(!1),x=m[0],h=m[1],p=(0,u.useState)(null),g=p[0],b=p[1],j=function(){b((0,f.p$)(r))};return(0,u.useEffect)((function(){t?n&&(c((0,f.p$)(n)),b(n)):j()}),[t,n]),(0,u.useEffect)((function(){g&&r&&(JSON.stringify(r)===JSON.stringify(g)?h(!1):h(!0))}),[g,r]),(0,d.jsx)(y.u.Root,{show:t,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return i(!1)},children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Additional text field"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return i(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[(0,d.jsx)(N.Z,{label:"Title",value:null===g||void 0===g?void 0:g.title,onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{title:e}))}}),(0,d.jsx)(N.Z,{label:"Content",value:null===g||void 0===g?void 0:g.content,onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{content:e}))}})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return j()},children:"Discard"}),(0,d.jsx)("button",{className:"primary",onClick:function(){return"function"===typeof l&&l(g),void i(!1)},disabled:!x,children:"Save"})]})]})})]})})})}var Re=t(68039);function De(e){var n,t,l,a=e.open,r=e.setOpen,m=e.block,x=e.setBlock,h=e.rtl,b=e.setRtl,j=e.loading,y=(e.onSave,e.changeHistory,e.website),w=(0,u.useState)((0,f.tl)("business.config")),Z=w[0],k=(w[1],(0,u.useState)(null)),C=(k[0],k[1],(0,u.useState)(!1)),P=(C[0],C[1],(0,u.useState)(!1)),T=P[0],O=P[1],B=(0,u.useState)(null),I=B[0],F=B[1],R=(0,u.useState)(""),D=R[0],z=R[1],H=(0,u.useState)(null),V=H[0],M=H[1],K=(0,u.useState)(null),$=K[0],U=K[1],X=(0,_.Z)(),G=X.confirm,Y=X.ConfirmDialog,J=[{id:"background",name:"Background map"},{id:"inline",name:"Inline map"}],ee=[{id:"streets",name:"Streets"},{id:"outdoors",name:"Outdoors"},{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"satellite",name:"Satellite"}],ne=function(){var e,n,t,i="";(null===Z||void 0===Z||null===(e=Z.office)||void 0===e?void 0:e.address)&&(i+=Z.office.address.line1?Z.office.address.line1+", ":"",i+=Z.office.address.line2?Z.office.address.line2+", ":"",i+=Z.office.address.city?Z.office.address.city+", ":"",i+=Z.office.address.state?Z.office.address.state+", ":"",i+=Z.office.address.country?null!==(t=null===(n=f.hW.find((function(e){return e.code===Z.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:Z.office.address.country+" ":"",i+=Z.office.address.postalCode?Z.office.address.postalCode:"");return i.trim()},ie=function(){r(!1)};return(0,u.useEffect)((function(){V&&x((0,o.Z)((0,s.Z)({},m),{address:V.address,latLng:V.latLng}))}),[V]),(0,u.useEffect)((function(){function e(){return(e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return a&&z((null===m||void 0===m?void 0:m.address)||ne()),[2]}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"Location",open:a,rtl:h,setRtl:b,edit:$,setEdit:U,loading:j,hiddenTabs:["Colors","Divider style"],onClose:ie,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,d.jsx)(N.Z,{value:(null===m||void 0===m?void 0:m.headline)||"Location",onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Address"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Business address"}),Re.Z&&(0,d.jsx)(Re.Z,{inlineAddress:D,onChange:z,onSelect:M})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Additional text fields"}),(0,d.jsx)("ul",{className:"divide-y mt-4",children:null===m||void 0===m||null===(n=m.additional)||void 0===n?void 0:n.map((function(e,n){return(0,d.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.title}),(0,d.jsx)("p",{className:"truncate max-w-[230px] text-xs text-gray-500",children:e.content})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){F((0,o.Z)((0,s.Z)({},e),{idx:n})),O(!0)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return function(e){G("Delete additional text?","Are you sure you want to delete this additional text?",(function(){var n=(0,f.p$)(m);n.additional.splice(e,1),x(n)}))}(n)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]},n)}))}),(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){F(null),O(!0)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add text field"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:y,block:m,onEdit:function(){return U("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:m,setBlock:x}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Type"}),(0,d.jsx)(te.Z,{placeholder:"Select",values:J,value:J.find((function(e){return e.id===(null!==(t=null===m||void 0===m?void 0:m.style)&&void 0!==t?t:"inline")})),onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{style:e.id}))}})]}),(0,d.jsxs)("div",{className:"my-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Theme"}),(0,d.jsx)(te.Z,{placeholder:"Select",values:ee,value:ee.find((function(e){return e.id===(null!==(l=null===m||void 0===m?void 0:m.theme)&&void 0!==l?l:"light")})),onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{theme:e.id}))}})]}),(0,d.jsx)(Ne.nR,{value:null===m||void 0===m?void 0:m.cornerRadius,defaultValue:null===y||void 0===y?void 0:y.cornerRadius,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{cornerRadius:e}))}})]}),(0,d.jsxs)("div",{className:"py-6 flex flex-col gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Align map"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===m||void 0===m?void 0:m.align)||"left",onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-l cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-r cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsx)(Se.U,{variant:"info",text:"Alignment only affects larger screens"})]}),(0,d.jsx)(W.iy,{className:"py-6",block:m,setBlock:x,website:y}),(0,d.jsx)(S.Z,{className:"py-6",block:m,setBlock:x,spacing:"background"!==(null===m||void 0===m?void 0:m.style)}),(0,d.jsx)(q,{className:"py-6",block:m,setBlock:x,onEdit:function(){return U("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:m,setBlock:x})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:y,block:m,setBlock:x,onTryPalette:ie})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:m,setBlock:x,isEditing:!0})})]}),(0,d.jsx)(Ae,{item:I,open:T,setOpen:O,onSave:function(e){var n=(0,f.p$)(m);n.additional||(n.additional=[]),void 0!==e.idx?n.additional[e.idx]=e:n.additional.push(e),x(n),O(!1)}}),(0,d.jsx)(Y,{attention:!0})]})}var Le=null;function We(e){var n,t,i,l,a,r,c,m,x=e.website,h=e.item,p=e.showImage,g=e.showIcon,b=e.showHeading,j=e.showContent,C=e.showButton,S=e.fullContentLink,E=e.open,P=e.setOpen,T=e.onSave,O=e.block,B=(0,u.useState)(!1),I=B[0],F=B[1],A=(0,u.useState)(!1),R=A[0],D=A[1],L=(0,u.useState)(null),W=L[0],z=L[1],H=(0,u.useState)(null),V=H[0],M=H[1],K=(0,u.useState)({x:50,y:50}),$=K[0],q=K[1],U=(0,u.useState)(!1),G=U[0],Y=U[1],J=(0,_.Z)(),Q=J.confirm,ee=J.ConfirmDialog,ne=function(){R?Q("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(function(){te()})):P(!1)},te=function(){M((0,f.p$)(W)),Y(!0),F(!1)};return(0,u.useEffect)((function(){V&&W&&(JSON.stringify(W)===JSON.stringify(V)?D(!1):D(!0))}),[V,W]),(0,u.useEffect)((function(){if(E){var e,n,t=h?(0,f.p$)(h):{button:{label:"More info",type:"url",link:"#"}};z((0,f.p$)(t)),M(t),q({x:null===t||void 0===t||null===(e=t.imagePositionX)||void 0===e?void 0:e.replace("%",""),y:null===t||void 0===t||null===(n=t.imagePositionY)||void 0===n?void 0:n.replace("%","")})}}),[E,h]),(0,d.jsx)(y.u.Root,{show:E,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:ne,children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all select-none",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"List item"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:ne,children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[p&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Image"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Select the image you would like to display"})]}),(0,d.jsx)(pe.Z,{className:"!text-sm",regenerate:!!(null===V||void 0===V?void 0:V.image),onChange:function(e){M((0,o.Z)((0,s.Z)({},V),{image:e})),Y(!0),setTimeout((function(){Y(!1)}),1e3)}})]}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",limit:1,location:"blocks",pictures:null!==(m=null===V||void 0===V?void 0:V.image)&&void 0!==m?m:[],onChange:function(e){return M((0,o.Z)((0,s.Z)({},V),{image:e&&e.length>0&&e[0]}))},reload:G,shutterstock:!0,unsplash:!0,upload:!0,library:!0}),(0,d.jsxs)("div",{className:"my-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image position"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Horizontal"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:$.x,onChange:function(e){q((0,o.Z)((0,s.Z)({},$),{x:e})),clearTimeout(Le),Le=setTimeout((function(){M((0,o.Z)((0,s.Z)({},V),{imagePositionX:"".concat(e,"%")})),q((0,o.Z)((0,s.Z)({},$),{x:e}))}),500,e)}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Vertical"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:$.y,onChange:function(e){q((0,o.Z)((0,s.Z)({},$),{y:e})),clearTimeout(Le),Le=setTimeout((function(){M((0,o.Z)((0,s.Z)({},V),{imagePositionY:"".concat(e,"%")})),q((0,o.Z)((0,s.Z)({},$),{y:e}))}),500,e)}})]})]})]}),g&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Icon"}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none",limit:1,location:"blocks",pictures:(null===V||void 0===V||null===(n=V.icon)||void 0===n?void 0:n.media)||null,onChange:function(e){return M((function(n){return(0,o.Z)((0,s.Z)({},n),{icon:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.icon),{media:e&&e.length>0&&e[0]})})}))},icons:!0,iconColor:(null===V||void 0===V||null===(t=V.icon)||void 0===t?void 0:t.color)||"#1F2937"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Icon color"}),(0,d.jsx)(X.Z,{inline:!0,color:(null===V||void 0===V||null===(i=V.icon)||void 0===i?void 0:i.color)||"#1F2937",onChange:function(e){return M((function(n){return(0,o.Z)((0,s.Z)({},n),{icon:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.icon),{color:e.hex})})}))}})]})]}),b&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Title"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===V||void 0===V?void 0:V.title),prompt:(null===O||void 0===O?void 0:O.prompt)?{label:O.prompt,subPrompt:"title"}:"Give a title with up to 4 words for a service",includeVertical:!0,onSuggestion:function(e){return M((function(n){return(0,o.Z)((0,s.Z)({},n),{title:e})}))}})]}),(0,d.jsx)(N.Z,{value:null===V||void 0===V?void 0:V.title,onChange:function(e){return M((0,o.Z)((0,s.Z)({},V),{title:e}))}})]}),j&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Content"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===V||void 0===V?void 0:V.content),prompt:(null===O||void 0===O?void 0:O.prompt)?{label:O.prompt,subPrompt:"content"}:"Give a short description for a service",includeVertical:!0,onSuggestion:function(e){return M((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,d.jsx)(we,{website:x,value:null===V||void 0===V?void 0:V.content,onChange:function(e){return M((0,o.Z)((0,s.Z)({},V),{content:e}))}})]}),C&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Button"}),(0,d.jsx)(me,{block:V,setBlock:M,switchable:!1,onValid:function(e){return F(!e)}})]}),S&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Link"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"The entire list item will be clickable"}),(0,d.jsx)(ie,{linkSettings:{type:null===V||void 0===V||null===(l=V.button)||void 0===l?void 0:l.type,page:null===V||void 0===V||null===(a=V.button)||void 0===a?void 0:a.page,link:null===V||void 0===V||null===(r=V.button)||void 0===r?void 0:r.link,newPage:null===V||void 0===V||null===(c=V.button)||void 0===c?void 0:c.newPage},onChangeNewPage:function(e){return M((0,o.Z)((0,s.Z)({},V),{button:(0,o.Z)((0,s.Z)({},null===V||void 0===V?void 0:V.button),{newPage:e})}))},onChangePage:function(e){F(!(null===e||void 0===e?void 0:e.link)),M((0,o.Z)((0,s.Z)({},V),{button:(0,o.Z)((0,s.Z)({},null===V||void 0===V?void 0:V.button),{page:null===e||void 0===e?void 0:e.page,link:null===e||void 0===e?void 0:e.link})}))},onChangeLink:function(e){F(!e),M((0,o.Z)((0,s.Z)({},V),{button:(0,o.Z)((0,s.Z)({},null===V||void 0===V?void 0:V.button),{link:e})}))},onChangeType:function(e){return M((0,o.Z)((0,s.Z)({},V),{button:(0,o.Z)((0,s.Z)({},null===V||void 0===V?void 0:V.button),{type:e})}))}})]})]}),R&&(0,d.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return te()},children:"Discard"}),(0,d.jsx)("button",{className:"primary",onClick:function(){return"function"===typeof T&&T(V),void P(!1)},disabled:I,children:"Save"})]})]})}),(0,d.jsx)(ee,{attention:!0,confirmText:"Discard"})]})})})}var ze=t(27116),He=t(62748),Ve=t(47904),Me=t(70149);function Ke(e){var n,t,l=e.open,a=e.setOpen,r=e.block,m=e.setBlock,x=e.rtl,h=e.setRtl,b=e.loading,j=(e.onSave,e.changeHistory,e.website),y=(0,u.useState)(!1),w=y[0],Z=y[1],k=(0,u.useState)(null),C=k[0],P=k[1],T=(0,u.useState)(null),O=T[0],B=T[1],I=(0,_.Z)(),F=I.confirm,R=I.ConfirmDialog,D=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],H=[{id:"w-12 h-12",name:"Small"},{id:"w-24 h-24",name:"Medium"},{id:"w-36 h-36",name:"Large"},{id:"w-48 h-48",name:"X-Large"}],V=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],M=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,f.p$)(r)).items=(0,He.q)(i.items,n,t),m(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),K=function(){a(!1)};return(0,u.useEffect)((function(){l&&(r.button||(r.button={}))}),[l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"List",open:l,rtl:x,setRtl:h,edit:O,setEdit:B,loading:b,hiddenTabs:["Colors","Button style","Divider style"],onClose:K,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,d.jsx)(N.Z,{value:null===r||void 0===r?void 0:r.headline,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Display"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Choose what will be displayed for each list item"}),(0,d.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Image"}),(0,d.jsx)(z.Z,{enabled:null===r||void 0===r?void 0:r.showImage,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{showImage:e,showIcon:!e&&(null===r||void 0===r?void 0:r.showIcon)}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Icon"}),(0,d.jsx)(z.Z,{enabled:null===r||void 0===r?void 0:r.showIcon,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{showIcon:e,showImage:!e&&(null===r||void 0===r?void 0:r.showImage)}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Heading"}),(0,d.jsx)(z.Z,{enabled:null===r||void 0===r?void 0:r.showHeading,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{showHeading:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Content"}),(0,d.jsx)(z.Z,{enabled:null===r||void 0===r?void 0:r.showContent,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{showContent:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Link"}),(0,d.jsx)(z.Z,{enabled:(null===r||void 0===r?void 0:r.showButton)||(null===r||void 0===r?void 0:r.fullContentLink),onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{showButton:e,fullContentLink:!1}))}})]})]})]}),((null===r||void 0===r?void 0:r.showButton)||(null===r||void 0===r?void 0:r.fullContentLink))&&(0,d.jsx)("div",{className:"py-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Link type"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===r||void 0===r?void 0:r.fullContentLink)?"full-content-link":"button",onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{fullContentLink:"full-content-link"===e,showButton:"button"===e}))},children:[(0,d.jsx)(g.E.Option,{value:"button",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-l-lg transition-all text-label font-medium"),children:"Button"})}}),(0,d.jsx)(g.E.Option,{value:"full-content-link",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-r-lg transition-all text-label font-medium"),children:"List Item"})}})]})]})}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsx)("p",{className:"mb-4 font-semibold",children:"List items"}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)($e,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===r||void 0===r?void 0:r.items,block:r,onSortEnd:M,onSelect:function(e,n){P((0,o.Z)((0,s.Z)({},n),{idx:e})),Z(!0)},onRemove:function(e){F("Delete item?","Are you sure you want to delete this item?",(function(){var n=(0,f.p$)(r);n.items.splice(e,1),m(n)}))}})}),(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){P(null),Z(!0)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add list item"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]}),(0,d.jsx)(he,{block:r,setBlock:m,purpose:!0})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:j,block:r,onEdit:function(){return B("Colors")}}),(null===r||void 0===r?void 0:r.showButton)&&(0,d.jsx)(ue,{className:"py-6",website:j,block:r,setBlock:m,onEdit:function(){return B("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:r,setBlock:m}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===r||void 0===r?void 0:r.align)||"left",onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(null===r||void 0===r?void 0:r.showImage)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(te.Z,{label:"Image fit",placeholder:"Select",values:V,value:V.find((function(e){return e.id===(null!==(n=null===r||void 0===r?void 0:r.imageFit)&&void 0!==n?n:"cover")})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===r||void 0===r?void 0:r.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===r||void 0===r?void 0:r.cornerRadius}))}}),"contain"!==(null===r||void 0===r?void 0:r.imageFit)&&(0,d.jsx)(te.Z,{label:"Aspect ratio",placeholder:"Select",values:D,value:D.find((function(e){return e.id===(null!==(t=null===r||void 0===r?void 0:r.aspectRatio)&&void 0!==t?t:"16:9")})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{aspectRatio:e.id}))}})]}),"contain"!==(null===r||void 0===r?void 0:r.imageFit)&&(0,d.jsx)(Ne.nR,{className:"py-6",value:null===r||void 0===r?void 0:r.cornerRadius,defaultValue:null===j||void 0===j?void 0:j.cornerRadius,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{cornerRadius:e}))}})]}),(null===r||void 0===r?void 0:r.showIcon)&&(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Icon size"}),(0,d.jsx)(te.Z,{className:"mt-4",placeholder:"Select",values:H,value:H.find((function(e){return e.id===(null===r||void 0===r?void 0:r.iconSize)}))||H[0],onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{iconSize:e.id}))}})]}),(0,d.jsx)(Me.lX,{className:"py-6",block:r,setBlock:m}),!(!(null===r||void 0===r?void 0:r.showImage)||(null===r||void 0===r?void 0:r.imageFit)&&"cover"!==(null===r||void 0===r?void 0:r.imageFit)||!(null===r||void 0===r?void 0:r.showButton)&&!(null===r||void 0===r?void 0:r.showHeading)&&!(null===r||void 0===r?void 0:r.showContent))&&(0,d.jsx)(Ve.f3,{className:"py-6 space-y-6",textSettings:null===r||void 0===r?void 0:r.textSettings,onChange:function(e){return m((0,o.Z)((0,s.Z)({},r),{textSettings:e}))}}),(0,d.jsx)(W.iy,{className:"py-6",block:r,setBlock:m,website:j}),(0,d.jsx)(S.Z,{className:"py-6",block:r,setBlock:m}),(0,d.jsx)(q,{className:"py-6",block:r,setBlock:m,onEdit:function(){return B("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:r,setBlock:m})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:j,block:r,setBlock:m,onTryPalette:K})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:j,block:r,setBlock:m})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:r,setBlock:m,isEditing:!0})})]}),(0,d.jsx)(We,{block:r,website:j,item:C,showImage:null===r||void 0===r?void 0:r.showImage,showIcon:null===r||void 0===r?void 0:r.showIcon,showHeading:null===r||void 0===r?void 0:r.showHeading,showContent:null===r||void 0===r?void 0:r.showContent,showButton:null===r||void 0===r?void 0:r.showButton,fullContentLink:null===r||void 0===r?void 0:r.fullContentLink,open:w,setOpen:Z,onSave:function(e){var n=(0,f.p$)(r);n.items||(n.items=[]),void 0!==e.idx?n.items[e.idx]=e:n.items.push(e),m(n),Z(!1)}}),(0,d.jsx)(R,{attention:!0})]})}var $e=(0,ze.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,d.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,d.jsx)(qe,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"list-item-".concat(s))}))})})),qe=(0,ze.W8)((function(e){var n,t,i,l,s,o,a,r,c,u,m,x=e.idx,h=e.item,p=e.block,g=e.last,b=e.onSelect,y=e.onRemove;return(0,d.jsx)("li",{className:(0,f.AK)("relative z-100 bg-white",!g&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,d.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,d.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,d.jsx)(Ue,{})}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(null===p||void 0===p?void 0:p.showImage)&&(h.image?(0,d.jsx)("div",{className:"relative overflow-hidden w-9 h-9 rounded",children:(0,d.jsx)(j(),{unoptimized:!0,src:(null===(n=h.image)||void 0===n?void 0:n.preview)||(null===(t=h.image)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:null===(i=h.image)||void 0===i?void 0:i.alt,className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(null===p||void 0===p?void 0:p.showIcon)&&((null===(l=h.icon)||void 0===l||null===(s=l.media)||void 0===s?void 0:s.url)?(0,d.jsx)("div",{className:"relative rounded w-9 h-9",style:{backgroundColor:(null===(o=h.icon)||void 0===o?void 0:o.color)||"#1F2937",WebkitMaskImage:'url("'.concat(null===h||void 0===h||null===(a=h.icon)||void 0===a||null===(r=a.media)||void 0===r?void 0:r.url,'")'),maskImage:'url("'.concat(null===h||void 0===h||null===(c=h.icon)||void 0===c||null===(u=c.media)||void 0===u?void 0:u.url,'")'),WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"contain",maskSize:"contain"}}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(0,d.jsxs)("div",{children:[(null===p||void 0===p?void 0:p.showHeading)&&(0,d.jsx)("p",{className:"truncate max-w-[180px] text-sm font-medium",children:h.title}),(null===p||void 0===p?void 0:p.showContent)&&(0,d.jsx)("p",{className:"truncate max-w-[180px] text-xs text-gray-500",children:null===(m=h.content)||void 0===m?void 0:m.replace(/<[^>]*>/g,"")})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){return b(x,h)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return y(x)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Ue=(0,ze.JV)((function(){return(0,d.jsx)(v.Z,{icon:"DragIcon",className:"w-5 h-5"})})),Xe=t(66605),Ge=t(43291);function Ye(e){var n=e.prompt,t=e.includeVertical,l=e.includeLocation,o=e.includeName,a=e.includeTitle,r=e.label,m=e.regenerate,h=e.disabled,p=e.onLoading,g=e.onSuggestion,b=e.v2,j=(0,u.useState)(!1),y=j[0],w=j[1],N=(0,u.useState)((0,f.tl)("business.config")),Z=N[0],k=N[1],C=(0,x.Z)(),S=C.get,E=C.post,P=(0,Ge.Z)().suggestInputContent,T=function(){var e=(0,i.Z)((function(e,n){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,E("/ai/generate",{prompt:e,stream:!1,variant:"better",data:n})];case 1:return[2,t.sent().content]}}))}));return function(n,t){return e.apply(this,arguments)}}(),O=function(){var e,n,t,i="United States";(null===Z||void 0===Z||null===(e=Z.office)||void 0===e?void 0:e.address)&&(i=Z.office.address.line1?Z.office.address.line1+", ":"",i+=Z.office.address.line2?Z.office.address.line2+", ":"",i+=Z.office.address.city?Z.office.address.city+", ":"",i+=Z.office.address.state?Z.office.address.state+", ":"",i+=Z.office.address.country?null!==(t=null===(n=f.hW.find((function(e){return e.code===Z.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:Z.office.address.country+" ":"",i+=Z.office.address.postalCode?Z.office.address.postalCode:"");return i.trim()},B=function(){var e=(0,i.Z)((function(e){var n,t,i,l,o,a,r,d,u,m,v,x,h,f,p,b,j,y,N,k;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:w(!0),c.label=1;case 1:return c.trys.push([1,3,4,5]),console.log("Generating Prompt: ",e),[4,T(null===e||void 0===e?void 0:e.label,(0,s.Z)({business:{name:null===Z||void 0===Z||null===(n=Z.business)||void 0===n?void 0:n.name,vertical:"Other"===(null===Z||void 0===Z||null===(t=Z.business)||void 0===t||null===(i=t.type)||void 0===i||null===(l=i.Type)||void 0===l?void 0:l.name)?null===Z||void 0===Z||null===(o=Z.business)||void 0===o||null===(a=o.type)||void 0===a?void 0:a.name:null===Z||void 0===Z||null===(r=Z.business)||void 0===r||null===(d=r.type)||void 0===d||null===(u=d.Type)||void 0===u?void 0:u.name},vertical:"Other"===(null===Z||void 0===Z||null===(m=Z.business)||void 0===m||null===(v=m.type)||void 0===v||null===(x=v.Type)||void 0===x?void 0:x.name)?null===Z||void 0===Z||null===(h=Z.business)||void 0===h||null===(f=h.type)||void 0===f?void 0:f.name:null===Z||void 0===Z||null===(p=Z.business)||void 0===p||null===(b=p.type)||void 0===b||null===(j=b.Type)||void 0===j?void 0:j.name,tone:"professional",location:O()},null!==(y=null===e||void 0===e?void 0:e.extraProps)&&void 0!==y?y:{}))];case 2:return N=c.sent(),g(N),[3,5];case 3:return k=c.sent(),console.error(k.message),[2,null];case 4:return w(!1),[7];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();function I(){return(I=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return w(!0),[4,P(Z.business||Z,n,o,t,l,a,b)];case 1:if((e=i.sent())&&!0===e.status&&e.content){if("function"!==typeof g)throw w(!1),"You must inform a valid onSuggestion function";g(e.content)}else f.Z9.error(e.message);return w(!1),[2]}}))}))).apply(this,arguments)}var F=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,S("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,f.Fs)("business.config",e.content),k(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){"function"===typeof p&&p(y)}),[y]),(0,u.useEffect)((function(){F()}),[]),(0,d.jsx)(d.Fragment,{children:Z&&(0,d.jsx)(Xe.Z,{alt:"Generate content using AI.",children:(0,d.jsx)("button",{disabled:h||y,onClick:function(){(null===n||void 0===n?void 0:n.label)?B(n):function(){I.apply(this,arguments)}()},className:"link inline-flex items-center gap-1",children:y?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-sm",children:m?"Regenerating":"Generating"}),(0,d.jsx)(be.Z,{variant:"icon"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-sm",children:r||(m?"Regenerate":"Generate")}),(0,d.jsx)(v.Z,{icon:"BoltIcon",className:"w-4 h-4"})]})})})})}function Je(e){var n,t=e.item,i=e.tier,l=e.open,a=e.setOpen,r=e.onSave,c=(0,u.useState)(t),m=c[0],x=c[1],h=(0,u.useState)(!1),p=h[0],g=h[1],b=(0,u.useState)(t),j=b[0],N=b[1],Z=function(){N((0,f.p$)(m))};return(0,u.useEffect)((function(){if(l){var e=(0,f.p$)(t);x(e),N(e)}else Z()}),[l,t]),(0,u.useEffect)((function(){j&&(JSON.stringify(m)===JSON.stringify(j)?g(!1):g(!0))}),[j,m]),(0,d.jsx)(y.u.Root,{show:l,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return a(!1)},children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Tier item"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return a(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-label text-gray-700",children:"Content"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:!!(null===j||void 0===j?void 0:j.content),prompt:{label:"mars-generate-tier-subitems",extraProps:{quantity:1,tier:(null===i||void 0===i?void 0:i.title)||"premium",context:(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.join(", "))||""}},includeVertical:!0,onSuggestion:function(e){return N((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,d.jsx)("textarea",{rows:4,value:(null===j||void 0===j?void 0:j.content)||"",onChange:function(e){return N((0,o.Z)((0,s.Z)({},j),{content:e.target.value}))},className:"input"})]}),p&&(0,d.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,d.jsx)("button",{className:"secondary",onClick:Z,children:"Discard"}),(0,d.jsx)("button",{className:"primary",onClick:function(){"function"===typeof r&&r(j),a(!1)},disabled:!p,children:"Save"})]})]})})]})})})}var Qe=null;function en(e){var n,t=e.block,l=e.item,a=e.rtl,r=e.open,m=e.setOpen,x=e.onValid,h=e.onChange,p=(0,u.useState)(null),g=p[0],b=p[1],j=(0,u.useState)({x:50,y:50}),w=j[0],k=j[1],C=(0,u.useState)(!1),S=C[0],E=C[1],P=(0,u.useState)(null),T=P[0],O=P[1],B=(0,u.useState)(!1),F=B[0],A=B[1],R=(0,u.useRef)(null),D=(0,_.Z)(),L=D.confirm,W=D.ConfirmDialog;I(R);var H,V=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,f.p$)(g)).items=(0,He.q)(i.items,n,t),b(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),M=function(){E(!0),setTimeout((function(){E(!1)}),1e3)};return(0,u.useEffect)((function(){g&&h(g)}),[g]),(0,u.useEffect)((function(){if(r){var e,n,i,s=(0,f.p$)(l);if(s)b(s);else b({idx:(null===t||void 0===t||null===(i=t.items)||void 0===i?void 0:i.length)||0});k({x:(null===s||void 0===s||null===(e=s.imagePositionX)||void 0===e?void 0:e.replace("%",""))||50,y:(null===s||void 0===s||null===(n=s.imagePositionY)||void 0===n?void 0:n.replace("%",""))||50}),M()}}),[r,l]),(0,d.jsxs)(y.u,{show:r,appear:!0,children:[(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",a?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:a?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:a?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"py-2.5 font-bold text-gray-900",children:"Tier"}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:function(){m(!1)},children:"Done"})]}),(0,d.jsx)("div",{ref:R,className:"tab-panels",style:{maxHeight:"calc(100vh - 142px)"},children:(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-6 pb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-label text-gray-700",children:"Title"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.content),prompt:{label:"mars-generate-tier-title"},includeVertical:!0,onSuggestion:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{title:(null===e||void 0===e?void 0:e.title)||"New tier"})}))}})]}),(0,d.jsx)(N.Z,{value:null===g||void 0===g?void 0:g.title,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{title:e})}))}})]}),(null===t||void 0===t?void 0:t.showContent)&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-label text-gray-700",children:"Description"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.content),prompt:{label:"mars-generate-tier-description",extraProps:{quantity:3,tier:(null===g||void 0===g?void 0:g.title)||"premium"}},includeVertical:!0,onSuggestion:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{content:(null===e||void 0===e?void 0:e.description)||""})}))}})]}),(0,d.jsx)("textarea",{rows:4,value:null===g||void 0===g?void 0:g.content,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e.target.value})}))},className:"input"})]}),(0,d.jsx)(N.Z,{label:"Price",value:null===g||void 0===g?void 0:g.price,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{price:e})}))}}),(0,d.jsx)(N.Z,{label:"Per",value:null===g||void 0===g?void 0:g.unit,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{unit:e})}))}})]}),(null===t||void 0===t?void 0:t.showImage)&&(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Image"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Select the image you would like to display"})]}),(0,d.jsx)(pe.Z,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.image),onChange:function(e){b((function(n){return(0,o.Z)((0,s.Z)({},n),{image:e})})),M()}})]}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",limit:1,location:"blocks",pictures:null!==(H=null===g||void 0===g?void 0:g.image)&&void 0!==H?H:[],onChange:function(e){return b((0,o.Z)((0,s.Z)({},g),{image:e&&e.length>0&&e[0]}))},reload:S,shutterstock:!0,unsplash:!0,upload:!0,library:!0}),(0,d.jsxs)("div",{className:"my-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image position"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Horizontal"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:w.x,onChange:function(e){k((function(n){return(0,o.Z)((0,s.Z)({},n),{x:e})})),clearTimeout(Qe),Qe=setTimeout((function(){b((function(n){return(0,o.Z)((0,s.Z)({},n),{imagePositionX:"".concat(e,"%")})})),k((function(n){return(0,o.Z)((0,s.Z)({},n),{x:e})}))}),500,e)}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Vertical"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:w.y,onChange:function(e){k((function(n){return(0,o.Z)((0,s.Z)({},n),{y:e})})),clearTimeout(Qe),Qe=setTimeout((function(){b((function(n){return(0,o.Z)((0,s.Z)({},n),{imagePositionY:"".concat(e,"%")})})),k((function(n){return(0,o.Z)((0,s.Z)({},n),{y:e})}))}),500,e)}})]})]})]}),(null===t||void 0===t?void 0:t.showButton)&&(0,d.jsx)(me,{className:"py-6",block:g,setBlock:b,onValid:x}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Highlight"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Make this tier stand out to encourage customers to select it."})]}),(0,d.jsx)(z.Z,{enabled:null===g||void 0===g?void 0:g.highlighted,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{highlighted:e,highlightLabel:e?"Popular":""})}))}})]}),(null===g||void 0===g?void 0:g.highlighted)&&(0,d.jsx)(N.Z,{className:"mt-6",label:"Label",value:null===g||void 0===g?void 0:g.highlightLabel,onChange:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{highlightLabel:e})}))}})]}),(null===t||void 0===t?void 0:t.showSubItems)&&(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"What's included"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:(null===g||void 0===g||null===(n=g.items)||void 0===n?void 0:n.length)>0,prompt:{label:"mars-generate-tier-subitems",extraProps:{quantity:3,tier:(null===g||void 0===g?void 0:g.title)||"premium"}},includeVertical:!0,onSuggestion:function(e){return b((function(n){return(0,o.Z)((0,s.Z)({},n),{items:e})}))}})]}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(nn,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===g||void 0===g?void 0:g.items,onSortEnd:V,onSelect:function(e,n){O({idx:e,content:n,items:null===g||void 0===g?void 0:g.items}),A(!0)},onRemove:function(e){L("Delete item?","Are you sure you want to delete this item?",(function(){var n=(0,f.p$)(g);n.items.splice(e,1),b(n)}))}})}),(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){O(""),A(!0)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add item"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]})})]})})})}),(0,d.jsx)(W,{attention:!0}),(0,d.jsx)(Je,{item:T,tier:g,open:F,setOpen:A,onSave:function(e){var n=(0,f.p$)(g);n.items||(n.items=[]),void 0!==e.idx?n.items[e.idx]=e.content:n.items.push(e.content),b(n),A(!1)}})]})}var nn=(0,ze.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,d.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,l){return(0,d.jsx)(tn,{index:l,idx:l,item:e,last:l===n.length-1,onSelect:t,onRemove:i},"pricing-table-subitem-".concat(l))}))})})),tn=(0,ze.W8)((function(e){var n=e.idx,t=e.item,i=e.last,l=e.onSelect,s=e.onRemove;return(0,d.jsx)("li",{className:(0,f.AK)("relative z-100 bg-white",!i&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,d.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,d.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,d.jsx)(ln,{})}),(0,d.jsx)("div",{className:"flex-1 flex items-center gap-2",children:(0,d.jsx)("p",{className:"truncate max-w-[180px] text-sm font-semibold text-gray-700",children:t})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){return l(n,t)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return s(n,t)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),ln=(0,ze.JV)((function(){return(0,d.jsx)(v.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function sn(e){var n,t,l,a=e.open,r=e.setOpen,m=e.block,x=e.setBlock,h=e.rtl,b=e.setRtl,j=e.loading,y=(e.onSave,e.changeHistory,e.website),w=e.onValid,Z=(e.onChange,(0,u.useState)(!1)),k=Z[0],C=Z[1],P=(0,u.useState)(null),T=P[0],O=P[1],B=(0,u.useState)(null),I=B[0],F=B[1],R=(0,_.Z)(),D=R.confirm,H=R.ConfirmDialog,V=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],M=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],K=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,f.p$)(m)).items=(0,He.q)(i.items,n,t),x(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),$=function(){r(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"Pricing table",open:a,rtl:h,setRtl:b,edit:I,setEdit:F,loading:j,hiddenTabs:["Colors","Button style","Divider style"],onClose:$,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,d.jsx)(N.Z,{value:null===m||void 0===m?void 0:m.headline,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Display"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Choose what will be displayed for each tier"}),(0,d.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Image"}),(0,d.jsx)(z.Z,{enabled:null===m||void 0===m?void 0:m.showImage,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{showImage:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Description"}),(0,d.jsx)(z.Z,{enabled:null===m||void 0===m?void 0:m.showContent,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{showContent:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Button"}),(0,d.jsx)(z.Z,{enabled:null===m||void 0===m?void 0:m.showButton,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{showButton:e}))}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"text-gray-700",children:"Included items"}),(0,d.jsx)(z.Z,{enabled:null===m||void 0===m?void 0:m.showSubItems,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{showSubItems:e}))}})]})]})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Tiers"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Add up to 4 tiers"})]}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(on,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===m||void 0===m?void 0:m.items,block:m,onSortEnd:K,onSelect:function(e,n){O((0,o.Z)((0,s.Z)({},n),{idx:e})),C(!0)},onRemove:function(e,n){D("Delete tier?",(0,d.jsxs)("p",{children:["Are you sure you want to delete the tier ",(0,d.jsxs)("span",{className:"font-semibold",children:['"',n.title,'"']}),"?"]}),(function(){var n=(0,f.p$)(m);n.items.splice(e,1),x(n)}))}})}),(null===m||void 0===m||null===(n=m.items)||void 0===n?void 0:n.length)<4&&(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){O(null),C(!0)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add tier"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:y,block:m,onEdit:function(){return F("Colors")}}),(null===m||void 0===m?void 0:m.showButton)&&(0,d.jsx)(ue,{className:"py-6",website:y,block:m,setBlock:x,onEdit:function(){return F("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:m,setBlock:x}),(0,d.jsx)(S.Z,{className:"py-6",block:m,setBlock:x}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===m||void 0===m?void 0:m.align)||"left",onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(null===m||void 0===m?void 0:m.showImage)&&(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(te.Z,{label:"Image fit",placeholder:"Select",values:M,value:M.find((function(e){return e.id===(null!==(t=null===m||void 0===m?void 0:m.imageFit)&&void 0!==t?t:"cover")})),onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===m||void 0===m?void 0:m.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===m||void 0===m?void 0:m.cornerRadius}))}}),"contain"!==(null===m||void 0===m?void 0:m.imageFit)&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(te.Z,{label:"Aspect ratio",placeholder:"Select",values:V,value:V.find((function(e){return e.id===(null!==(l=null===m||void 0===m?void 0:m.aspectRatio)&&void 0!==l?l:"16:9")})),onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{aspectRatio:e.id}))}})})]}),(0,d.jsx)(Ne.nR,{className:"py-6",value:null===m||void 0===m?void 0:m.cornerRadius,defaultValue:null===y||void 0===y?void 0:y.cornerRadius,onChange:function(e){return x((0,o.Z)((0,s.Z)({},m),{cornerRadius:e}))}}),(0,d.jsx)(W.iy,{className:"py-6",block:m,setBlock:x,website:y}),(0,d.jsx)(q,{className:"py-6",block:m,setBlock:x,onEdit:function(){return F("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:m,setBlock:x})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:y,block:m,setBlock:x,onTryPalette:$})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:y,block:m,setBlock:x})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:m,setBlock:x,isEditing:!0})})]}),k&&(0,d.jsx)(en,{block:m,website:y,item:T,rtl:h,open:k,setOpen:C,onValid:w,onChange:function(e){var n=(0,f.p$)(m);n.items||(n.items=[]),void 0!==e.idx?n.items[e.idx]=e:n.items.push(e),x(n)}}),(0,d.jsx)(H,{attention:!0})]})}var on=(0,ze.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,d.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,d.jsx)(an,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"pricing-table-item-".concat(s))}))})})),an=(0,ze.W8)((function(e){var n,t,i,l,s=e.idx,o=e.item,a=e.block,r=e.last,c=e.onSelect,u=e.onRemove;return(0,d.jsx)("li",{className:(0,f.AK)("relative z-100 bg-white",!r&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,d.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,d.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,d.jsx)(rn,{})}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(null===a||void 0===a?void 0:a.showImage)&&(o.image?(0,d.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,d.jsx)(j(),{unoptimized:!0,src:(null===(n=o.image)||void 0===n?void 0:n.preview)||(null===(t=o.image)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:null===(i=o.image)||void 0===i?void 0:i.alt,className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"truncate max-w-[180px] text-sm font-semibold mb-1",children:o.title}),(null===a||void 0===a?void 0:a.showContent)&&(0,d.jsx)("p",{className:"truncate max-w-[180px] text-xs text-gray-500 mb-1",children:null===(l=o.content)||void 0===l?void 0:l.replace(/<[^>]*>/g,"")}),(!!o.price||!!o.unit)&&(0,d.jsxs)("p",{className:"truncate max-w-[180px] text-xs font-semibold text-gray-500",children:[o.price," ",o.unit?o.unit:""]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){return c(s,o)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return u(s,o)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),rn=(0,ze.JV)((function(){return(0,d.jsx)(v.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function cn(e){var n,t,i,l,a=e.block,c=e.setBlock,m=e.itemIdx,v=e.website,x=function(e){var n,t=g?(0,r.Z)(null===a||void 0===a?void 0:a.items).concat([e]):null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.map((function(n,t){return t===m?e:n}));c((function(e){return(0,o.Z)((0,s.Z)({},e),{items:t})}))},h=(0,u.useState)(!1),f=h[0],p=h[1],g=m===(null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.length),b=g?{}:null===a||void 0===a||null===(t=a.items)||void 0===t?void 0:t[m];return b?(0,d.jsx)("div",{className:"divide-y",children:(0,d.jsxs)("div",{className:"flex flex-col gap-6 pb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-label text-gray-700",children:"Question"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:!!(null===b||void 0===b?void 0:b.question),prompt:{label:"mars-generate-faq",extraProps:{variant:"question",questions:null!==(l=null===a||void 0===a||null===(i=a.items)||void 0===i?void 0:i.map((function(e){return e.question})))&&void 0!==l?l:[]}},includeVertical:!0,disabled:f,onLoading:p,onSuggestion:function(e){return x((0,o.Z)((0,s.Z)({},b),{question:(null===e||void 0===e?void 0:e.question)||"Your question here"}))}})]}),(0,d.jsx)(N.Z,{type:"textarea",value:null===b||void 0===b?void 0:b.question,onChange:function(e){return x((0,o.Z)((0,s.Z)({},b),{question:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"text-label text-gray-700",children:"Answer"}),(0,d.jsx)(Ye,{className:"!text-sm",regenerate:!!(null===b||void 0===b?void 0:b.answer),prompt:{label:"mars-generate-faq",extraProps:{variant:"answer",question:null===b||void 0===b?void 0:b.question}},includeVertical:!0,disabled:f,onLoading:p,onSuggestion:function(e){return x((0,o.Z)((0,s.Z)({},b),{answer:(null===e||void 0===e?void 0:e.answer)||"Your answer here"}))}})]}),(0,d.jsx)(we,{website:v,value:null===b||void 0===b?void 0:b.answer,onChange:function(e){return x((0,o.Z)((0,s.Z)({},b),{answer:e}))}})]})]})}):null}function dn(e){var n=e.open,t=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,m=e.setRtl,x=e.loading,h=(e.onSave,e.changeHistory,e.website),b=(e.onChange,(0,u.useState)(null)),j=b[0],y=b[1],w=(0,u.useState)(null),Z=w[0],k=w[1],C=(0,_.Z)(),P=C.confirm,T=C.ConfirmDialog,O=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(s){return n=e.oldIndex,t=e.newIndex,(i=(0,f.p$)(l)).items=(0,He.q)(i.items,n,t),a(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),B=function(){t(!1)};return(0,u.useEffect)((function(){Z||y(null)}),[Z]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"FAQ",open:n,rtl:r,setRtl:m,edit:Z,setEdit:k,loading:x,hiddenTabs:["Colors","Button style","Divider style","Question"],onClose:B,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Header"}),(0,d.jsx)(N.Z,{value:null===l||void 0===l?void 0:l.headline,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Questions"}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(un,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===l||void 0===l?void 0:l.items,onSortEnd:O,onSelect:function(e){y(e),k("Question")},onRemove:function(e,n){P("Delete question?",(0,d.jsxs)("p",{children:["Are you sure you want to delete the tier ",(0,d.jsxs)("span",{className:"font-semibold",children:['"',null===n||void 0===n?void 0:n.question,'"']}),"?"]}),(function(){var n=(0,f.p$)(l);n.items.splice(e,1),a(n)}))}})}),(0,d.jsx)("div",{className:"pt-4 text-right",children:(0,d.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;y((null===l||void 0===l||null===(e=l.items)||void 0===e?void 0:e.length)||0),k("Question")},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add item"}),(0,d.jsx)(v.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:h,block:l,onEdit:function(){return k("Colors")}}),(null===l||void 0===l?void 0:l.showButton)&&(0,d.jsx)(ue,{className:"py-6",website:h,block:l,setBlock:a,onEdit:function(){return k("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:l,setBlock:a}),(0,d.jsx)(S.Z,{className:"py-6",block:l,setBlock:a}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===l||void 0===l?void 0:l.align)||"left",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsx)(W.iy,{className:"py-6",block:l,setBlock:a,website:h}),(0,d.jsx)(q,{className:"py-6",block:l,setBlock:a,onEdit:function(){return k("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:l,setBlock:a})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:h,block:l,setBlock:a,onTryPalette:B})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:h,block:l,setBlock:a})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:l,setBlock:a,isEditing:!0})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(cn,{block:l,setBlock:a,website:h,itemIdx:j})})]}),(0,d.jsx)(T,{attention:!0})]})}var un=(0,ze.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,d.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,d.jsx)(mn,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"faq-manage-item-".concat(s))}))})})),mn=(0,ze.W8)((function(e){var n,t=e.idx,i=e.item,l=(e.block,e.last),s=e.onSelect,o=e.onRemove;return(0,d.jsx)("li",{className:(0,f.AK)("relative z-100 bg-white",!l&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,d.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,d.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,d.jsx)(vn,{})}),(0,d.jsx)("div",{className:"flex-1 flex items-center gap-2",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-semibold mb-1",children:i.question}),(0,d.jsx)("p",{className:"text-xs mb-1",children:null===(n=i.answer)||void 0===n?void 0:n.replace(/<[^>]*>/g,"")})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){return s(t,i)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return o(t,i)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),vn=(0,ze.JV)((function(){return(0,d.jsx)(v.Z,{icon:"DragIcon",className:"w-5 h-5"})})),xn=t(57554),hn=t(40269);function fn(e){var n,t,i,l,a,r,c,m,x=e.open,h=e.setOpen,b=e.block,j=e.setBlock,y=e.rtl,w=e.setRtl,Z=e.loading,C=(e.onSave,e.website),P=(e.changeHistory,(0,u.useState)(null)),T=P[0],O=P[1],B=(0,u.useState)(!1),I=B[0],F=B[1],R=(0,u.useState)(null),D=R[0],H=R[1],V=(0,u.useState)(null),M=V[0],K=V[1],$=(0,_.Z)(),U=$.confirm,X=$.ConfirmDialog,G=function(){h(!1)};return(0,u.useEffect)((function(){x&&(b.headline&&(b.content="<h3>".concat(b.headline,"</h3><p>").concat(b.content,"</p>"),delete b.headline),b.button||(b.button={}))}),[x]),(0,u.useEffect)((function(){I||(O(null),H(null))}),[I]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A,{title:"Contact form",open:x,rtl:y,setRtl:w,edit:M,setEdit:K,loading:Z,hiddenTabs:["Colors","Button style","Divider style"],onClose:G,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("div",{className:"flex justify-end items-center mb-2",children:(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===b||void 0===b?void 0:b.content),prompt:"Create a short rich text with h3 and p html tags for a contact form",includeName:!0,includeVertical:!0,onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})}),(0,d.jsx)(we,{website:C,value:null===b||void 0===b?void 0:b.content,onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{content:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Custom fields"}),(0,d.jsx)("button",{className:"link sm !text-sm",onClick:function(){O(null),F(!0)},children:"Manage fields"})]}),(null===b||void 0===b||null===(n=b.customFields)||void 0===n?void 0:n.length)>0&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("ul",{className:"divide-y mt-4",children:null===b||void 0===b||null===(t=b.customFields)||void 0===t?void 0:t.map((function(e,n){return(0,d.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3 px-1",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.Field.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:(0,f.kC)(e.Field.type)}),e.Field.required&&(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Required"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"link sm",onClick:function(){O(e.Field),H("edit"),F(!0)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,d.jsx)("button",{className:"link sm",onClick:function(){return function(e){U("Delete custom field?","Are you sure you want to delete this ".concat(e.Field.type," custom field?"),(function(){var n=(0,f.p$)(b);n.customFields.splice(e.idx,1),j(n)}))}((0,o.Z)((0,s.Z)({},e),{idx:n}))},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]},n)}))})})]}),(0,d.jsxs)("div",{className:"py-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Custom input labels"}),(0,d.jsx)(z.Z,{enabled:b.customizeFieldsLabel,onChange:function(e){j(e?(0,o.Z)((0,s.Z)({},b),{customizeFieldsLabel:e}):(0,o.Z)((0,s.Z)({},b),{customizeFieldsLabel:e,nameFieldLabel:void 0,emailFieldLabel:void 0,messageFieldLabel:void 0,sendButtonLabel:void 0}))}})]}),b.customizeFieldsLabel&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.Z,{label:"Name",value:null!==(a=null===b||void 0===b?void 0:b.nameFieldLabel)&&void 0!==a?a:"Name",onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{nameFieldLabel:null!==e&&void 0!==e?e:"Name"}))}}),(0,d.jsx)(N.Z,{label:"E-mail",value:null!==(r=null===b||void 0===b?void 0:b.emailFieldLabel)&&void 0!==r?r:"E-mail",onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{emailFieldLabel:null!==e&&void 0!==e?e:"E-mail"}))}}),(0,d.jsx)(N.Z,{label:"Message",value:null!==(c=null===b||void 0===b?void 0:b.messageFieldLabel)&&void 0!==c?c:"Message",onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{messageFieldLabel:null!==e&&void 0!==e?e:"Message"}))}}),(0,d.jsx)(N.Z,{label:"Send button",value:null!==(m=null===b||void 0===b?void 0:b.sendButtonLabel)&&void 0!==m?m:"Send",onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{sendButtonLabel:null!==e&&void 0!==e?e:"Send"}))}})]})]}),(null===b||void 0===b||null===(i=b.fields)||void 0===i?void 0:i.length)>0&&(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Unsynced fields"}),(0,d.jsxs)("div",{className:"flex items-start gap-2.5 p-4 bg-yellow-50 rounded-md mt-4",children:[(0,d.jsx)(v.Z,{icon:"ExclamationIcon",className:"w-4 h-4 mt-1 text-yellow-800 flex-shrink-0"}),(0,d.jsxs)("p",{className:"text-yellow-800 text-sm",children:["We upgraded fields to sync with your CRM. Please use ",(0,d.jsx)("b",{children:"Custom fields"})," instead."]})]}),(0,d.jsx)("ul",{className:"divide-y mt-4",children:null===b||void 0===b||null===(l=b.fields)||void 0===l?void 0:l.map((function(e,n){return(0,d.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.label}),e.required&&(0,d.jsx)("p",{className:"truncate max-w-[230px] text-xs text-gray-500",children:"Required"})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)("button",{className:"link sm",onClick:function(){return function(e){var n=(0,f.p$)(b);n.fields.splice(e,1),j(n)}(n)},children:(0,d.jsx)(v.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})})]},n)}))})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Form success message"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===b||void 0===b?void 0:b.successMessage),prompt:"Your main function is to generate a short success message to appear after users submit a contact form on a business website.\\nYou generate HTML code.\\nYour response contains a heading surrounded by <h3> and a message surrounded by <p>.\\nThe business information is surrounded by triple backticks below.\\n```\\nBusiness Name: {{businessName}}\\nVertical: {{vertical}}\\n```\\nMake your response as short as possible.",includeName:!0,includeVertical:!0,v2:!0,onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{successMessage:e})}))}})]}),(0,d.jsx)(we,{website:C,value:null===b||void 0===b?void 0:b.successMessage,onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{successMessage:e}))}})]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:C,block:b,onEdit:function(){return K("Colors")}}),(0,d.jsx)(ue,{className:"py-6",website:C,block:b,setBlock:j,onEdit:function(){return K("Button style")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:b,setBlock:j}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Form alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===b||void 0===b?void 0:b.align)||"right",onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-l cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-r cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(Se.U,{variant:"info",text:"Alignment only affects larger screens"})})]}),(0,d.jsx)(hn.I,{className:"py-6",block:b,setBlock:j}),(0,d.jsx)(W.iy,{className:"py-6",block:b,setBlock:j,website:C}),(0,d.jsx)(S.Z,{className:"py-6",block:b,setBlock:j}),(0,d.jsx)(q,{className:"py-6",block:b,setBlock:j,onEdit:function(){return K("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:b,setBlock:j})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:C,block:b,setBlock:j,onTryPalette:G})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(de,{website:C,block:b,setBlock:j})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:b,setBlock:j,isEditing:!0})})]}),(0,d.jsx)(xn.M,{open:I,setOpen:F,field:T,action:D,category:"customer",canSelect:!0,onUpdate:function(e){var n,t=(0,f.p$)(null!==(n=null===b||void 0===b?void 0:b.customFields)&&void 0!==n?n:[]),i=t.findIndex((function(n){return n.Field._id===e.field._id}));"select"===e.action&&(i>-1?t[i]={Field:e.field}:t.push({Field:e.field})),"create"===e.action&&t.push({Field:e.field}),"update"===e.action&&(t[i]={Field:e.field}),"delete"===e.action&&t.splice(i,1),j((0,o.Z)((0,s.Z)({},b),{customFields:t})),F(!1)},info:(0,d.jsx)(Se.U,{variant:"info",text:"Changes made here will be reflected in CRM fields"})}),(0,d.jsx)(X,{attention:!0})]})}function pn(e){var n,t=e.open,i=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,c=e.setRtl,m=e.loading,v=(e.onSave,e.changeHistory,e.website),x=(0,u.useState)(null),h=x[0],b=x[1],j=function(){i(!1)};return(0,d.jsxs)(A,{title:"Embed",open:t,rtl:r,setRtl:c,edit:h,setEdit:b,loading:m,hiddenTabs:["Colors","Divider style"],onClose:j,children:[(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Code"}),(0,d.jsx)(N.Z,{type:"textarea",inputClassName:"min-h-80",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{content:e}))},value:l.content}),(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)(Se.U,{variant:"info",text:"The embedded object will only appear on the live website."})})]})}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:v,block:l,onEdit:function(){return b("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:l,setBlock:a}),(0,d.jsx)(W.iy,{className:"py-6",block:l,setBlock:a,website:v}),(0,d.jsx)(S.Z,{className:"py-6",block:l,setBlock:function(e){return a((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))},verticalAlign:!1}),(0,d.jsx)(q,{className:"py-6",block:l,setBlock:a,onEdit:function(){return b("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:l,setBlock:a}),(0,d.jsx)("div",{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Width"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===l||void 0===l||null===(n=l.fullWidth)||void 0===n?void 0:n.toString())||"false",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{fullWidth:"true"===e.toLowerCase()}))},children:[(0,d.jsx)(g.E.Option,{value:"false",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-l-lg transition-all text-label font-medium"),children:"Inset"})}}),(0,d.jsx)(g.E.Option,{value:"true",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-r-lg transition-all text-label font-medium"),children:"Full width"})}})]})]})})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:v,block:l,setBlock:a,onTryPalette:j})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:l,setBlock:a,isEditing:!0})})]})}var gn=null;function bn(e){var n,t,i,l,a=e.open,r=e.setOpen,c=e.block,m=e.setBlock,v=e.rtl,x=e.setRtl,h=e.loading,g=(e.onSave,e.website),b=(e.changeHistory,(0,u.useState)(!1)),j=b[0],y=b[1],w=(0,u.useState)({x:(null===c||void 0===c||null===(n=c.imagePositionX)||void 0===n?void 0:n.replace("%",""))||50,y:(null===c||void 0===c||null===(t=c.imagePositionY)||void 0===t?void 0:t.replace("%",""))||50}),k=w[0],C=w[1],P=(0,u.useState)(null),T=P[0],O=P[1],B=[{id:"1:1",name:"1:1 \xb7 square"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],I=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],F=function(){r(!1)};return(0,u.useEffect)((function(){var e,n;c&&C({x:null===(e=c.imagePositionX)||void 0===e?void 0:e.replace("%",""),y:null===(n=c.imagePositionY)||void 0===n?void 0:n.replace("%","")})}),[c]),(0,d.jsxs)(A,{title:"Image",open:a,rtl:v,setRtl:x,edit:T,setEdit:O,loading:h,hiddenTabs:["Colors","Divider style"],onClose:F,children:[(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(pe.Z,{className:"!text-sm",regenerate:!!(null===c||void 0===c?void 0:c.media),onChange:function(e){m((0,o.Z)((0,s.Z)({},c),{media:e})),y(!0),setTimeout((function(){y(!1)}),1e3)}})]}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",limit:1,location:"blocks",allowDeletion:!1,pictures:null===c||void 0===c?void 0:c.media,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{media:e[0]}))},reload:j,shutterstock:!0,unsplash:!0,upload:!0,library:!0}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image position"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Horizontal"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:k.x,onChange:function(e){C((0,o.Z)((0,s.Z)({},k),{x:e})),clearTimeout(gn),gn=setTimeout((function(){m((0,o.Z)((0,s.Z)({},c),{imagePositionX:"".concat(e,"%")})),C((0,o.Z)((0,s.Z)({},k),{x:e}))}),500,e)}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Vertical"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:k.y,onChange:function(e){C((0,o.Z)((0,s.Z)({},k),{y:e})),clearTimeout(gn),gn=setTimeout((function(){m((0,o.Z)((0,s.Z)({},c),{imagePositionY:"".concat(e,"%")})),C((0,o.Z)((0,s.Z)({},k),{y:e}))}),500,e)}})]})]})]})}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[!(null===c||void 0===c?void 0:c.fullWidth)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L._u,{className:"pb-6",website:g,block:c,onEdit:function(){return O("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:c,setBlock:m})]}),(0,d.jsx)("div",{className:(0,f.AK)((null===c||void 0===c?void 0:c.fullWidth)?"pb-6":"py-6"),children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:" font-semibold text-h6 text-gray-900",children:"Full width"}),(0,d.jsx)(z.Z,{enabled:null===c||void 0===c?void 0:c.fullWidth,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{fullWidth:e,imageFit:"cover"}))}})]})}),!(null===c||void 0===c?void 0:c.fullWidth)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"py-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image"}),(0,d.jsx)(te.Z,{label:"Image fit",placeholder:"Select",values:I,value:I.find((function(e){return e.id===(null!==(i=null===c||void 0===c?void 0:c.imageFit)&&void 0!==i?i:"cover")})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===c||void 0===c?void 0:c.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===c||void 0===c?void 0:c.cornerRadius}))}}),"contain"!==(null===c||void 0===c?void 0:c.imageFit)&&(0,d.jsx)(te.Z,{label:"Aspect ratio",placeholder:"Select",values:B,value:B.find((function(e){return e.id===(null!==(l=null===c||void 0===c?void 0:c.aspectRatio)&&void 0!==l?l:"16:9")})),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{aspectRatio:e.id}))}})]}),"contain"!==(null===c||void 0===c?void 0:c.imageFit)&&(0,d.jsx)(Ne.nR,{className:"py-6",value:null===c||void 0===c?void 0:c.cornerRadius,defaultValue:null===g||void 0===g?void 0:g.cornerRadius,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{cornerRadius:e}))}})]}),(0,d.jsx)(W.iy,{className:"py-6",block:c,setBlock:m,website:g}),(0,d.jsx)(S.Z,{className:"py-6",block:c,setBlock:m,minHeight:!0,spacing:!(null===c||void 0===c?void 0:c.fullWidth),verticalAlign:!(null===c||void 0===c?void 0:c.fullWidth)}),(0,d.jsx)(q,{className:"py-6",block:c,setBlock:m,onEdit:function(){return O("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:c,setBlock:m})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:g,block:c,setBlock:m,onTryPalette:F})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:c,setBlock:m,isEditing:!0})})]})}function jn(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=e.loading,m=(e.onSave,e.changeHistory,e.website),x=e.onValid;i=(0,f.p$)(i);var h=(0,u.useState)(!1),b=h[0],j=h[1],y=(0,u.useState)(null),w=y[0],Z=y[1],C=function(){t(!1)},S=function(e){"function"===typeof x&&x(e)};return(0,u.useEffect)((function(){var e=function(e){j(!1),S(!0)};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e,!1)}}),[]),(0,d.jsxs)(A,{title:"Calendly scheduling",open:n,rtl:a,setRtl:r,edit:w,setEdit:Z,loading:c,disabled:b,hiddenTabs:["Colors","Divider style"],onClose:C,children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,d.jsx)(k.Z,{className:"!text-sm",regenerate:!!(null===i||void 0===i?void 0:i.headline),prompt:"Create a short heading for scheduling",includeName:!1,includeVertical:!0,onSuggestion:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{headline:e})}))}})]}),(0,d.jsx)(N.Z,{value:null===i||void 0===i?void 0:i.headline,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{headline:e}))}})]}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Calendly link"}),(0,d.jsx)(N.Z,{value:null===i||void 0===i?void 0:i.accountApp,prefix:"https://calendly.com/",placeholder:"username/30min",onChange:function(e){return function(e){var n=e.replace(/(^\w+:|^)\/\//,"").split("?")[0].replace("calendly.com",""),t=n.startsWith("/")?n.substring(1):n;t!==i.accountApp&&(j(!0),S(!1)),l((0,o.Z)((0,s.Z)({},i),{accountApp:t}))}(e)},helperText:(0,d.jsxs)(d.Fragment,{children:["Add your landing page or event scheduling page. ",(0,d.jsx)(Ie(),{href:"https://help.calendly.com/hc/en-us/articles/223193448-Sharing-your-scheduling-link#sharing-your-scheduling-link-0-0",children:(0,d.jsx)("a",{target:"_blank",className:"link underline",children:"Learn more"})})]}),error:b&&"This URL is invalid"}),(null===i||void 0===i?void 0:i.accountApp)?(0,d.jsx)("iframe",{className:"w-0 h-0 hidden",src:"https://calendly.com/".concat(null===i||void 0===i?void 0:i.accountApp,"?embed_domain=").concat(location.host,"&embed_type=Inline&hide_landing_page_details=1&hide_gdpr_banner=1&background_color=").concat(null===i||void 0===i?void 0:i.backgroundApp,"&text_color=").concat(null===i||void 0===i?void 0:i.textColorApp,"&primary_color=").concat(null===i||void 0===i?void 0:i.primaryColorApp)}):""]})]}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:m,block:i,onEdit:function(){return Z("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:i,setBlock:l}),(0,d.jsx)(W.iy,{className:"py-6",block:i,setBlock:l,website:m}),(0,d.jsx)(q,{className:"py-6",block:i,setBlock:l,onEdit:function(){return Z("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:i,setBlock:l}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Heading alignment"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===i||void 0===i?void 0:i.align)||"left",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{align:e}))},children:[(0,d.jsx)(g.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignCenterSolidIcon",className:"w-5 h-5"})})}}),(0,d.jsx)(g.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,d.jsx)(v.Z,{icon:"TextAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,d.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Calendar background"}),(0,d.jsx)(X.Z,{inline:!0,color:(null===i||void 0===i?void 0:i.backgroundApp)||"#FFFFFF",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{backgroundApp:e.hex}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Color of days"}),(0,d.jsx)(X.Z,{inline:!0,color:(null===i||void 0===i?void 0:i.primaryColorApp)||"#FFFFFF",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{primaryColorApp:e.hex}))}})]})]})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:m,block:i,setBlock:l,onTryPalette:C})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:i,setBlock:l,isEditing:!0})})]})}function yn(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=e.loading,m=(e.onSave,e.changeHistory,e.website),v=(0,u.useState)(null),x=v[0],h=v[1],f=function(){t(!1)};return(0,d.jsxs)(A,{title:"Instagram",open:n,rtl:a,setRtl:r,edit:x,setEdit:h,loading:c,hiddenTabs:["Colors","Divider style"],onClose:f,children:[(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Instagram profile"}),(0,d.jsx)(N.Z,{type:"text",placeholder:"durable.ai",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{profile:e}))},value:i.profile}),(0,d.jsx)("p",{className:"mt-1 text-body-sm text-gray-600",children:"The profile must be public"})]})}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:m,block:i,onEdit:function(){return h("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:i,setBlock:l}),(0,d.jsx)(Ne.nR,{className:"py-6",value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===m||void 0===m?void 0:m.cornerRadius,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{cornerRadius:e}))}}),(0,d.jsx)(W.iy,{className:"py-6",block:i,setBlock:l,website:m}),(0,d.jsx)(q,{className:"py-6",block:i,setBlock:l,onEdit:function(){return h("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:i,setBlock:l})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:m,block:i,setBlock:l,onTryPalette:f})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:i,setBlock:l,isEditing:!0})})]})}function wn(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,c=(e.loading,e.onSave,e.website),m=(0,u.useRef)(null);I(m);return(0,d.jsx)(y.u,{show:n,appear:!0,children:(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",a?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:a?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:a?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900",children:"Blog settings"}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(a?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return r((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:a?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:function(){t(!1)},children:"Done"})]})]}),(0,d.jsx)("div",{ref:m,className:"tab-panels",style:{maxHeight:"calc(100vh - 142px)"},children:(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsx)(Ne.nR,{subtitle:"The default setting for rounding the corner of images within the blog",className:"pb-6",value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===c||void 0===c?void 0:c.cornerRadius,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{cornerRadius:e}))}}),(0,d.jsx)(E.qk,{className:"py-6",background:"object"===typeof(null===i||void 0===i?void 0:i.background)?null===i||void 0===i?void 0:i.background:{type:"color",color:(null===i||void 0===i?void 0:i.background)||"#FFFFFF"},setBackground:function(e){return l((0,o.Z)((0,s.Z)({},i),{background:e}))},defaults:{primaryColor:null===c||void 0===c?void 0:c.primaryColor,secondaryColor:null===c||void 0===c?void 0:c.secondaryColor,default:"#FFFFFF"},disabledOptions:["image","gradient"]})]})})]})})})})})}var Nn,Zn=t(99534),kn=t(9198),Cn=t.n(kn),Sn=t(14441),En=t(30120),Pn=t(3434);function Tn(e){var n=e.open,t=e.setOpen,l=e.post,a=e.setPost,r=e.rtl,m=e.setRtl,h=e.loading,p=e.onSave,g=e.website,b=(0,u.useState)((0,f.tl)("blog.authors")),j=b[0],w=b[1],Z=(0,u.useState)(null),k=Z[0],C=Z[1],S=(0,u.useState)(!1),T=S[0],O=S[1],B=(0,u.useState)(!0),A=B[0],R=B[1],D=(0,u.useRef)(null),L=(0,x.Z)().get,W=(0,_.Z)(),H=W.confirm,V=W.ConfirmDialog,M=(0,Pn.c)(l);I(D);var K=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,L("/website/get-authors")];case 1:return!0===(null===(e=t.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&(n=e.content.map((function(e){return{id:e._id,name:e.firstName+(e.lastName?" "+e.lastName:""),picture:e.picture}})),(0,f.Fs)("blog.authors",n),w(n),l.Author||1!==n.length||a((0,o.Z)((0,s.Z)({},l),{Author:n[0].id}))),[2]}}))}));return function(){return e.apply(this,arguments)}}(),$=function(){T?H("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(function(){q()})):t(!1)},q=function(){a((0,o.Z)((0,s.Z)({},k),{publishedAt:k.publishedAt?En.ou.fromISO(k.publishedAt).toJSDate():null,createdAt:En.ou.fromISO(k.createdAt).toJSDate()})),O(!1),setTimeout((function(){t(!1)}),300)};return(0,u.useEffect)((function(){if(n){var e;if(!l.slug)l.slug=null===(e=l.title)||void 0===e?void 0:e.replace(/[^0-9a-z]/gi,"-").replace(/-+$/g,"").toLowerCase();C((0,f.p$)(l))}else C(null)}),[n]),(0,u.useEffect)((function(){l&&k&&(JSON.stringify(k)===JSON.stringify(l)?O(!1):O(!0))}),[l,k]),(0,u.useEffect)((function(){K()}),[]),(0,d.jsxs)(y.u,{show:n,appear:!0,children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"z-50 fixed inset-0",onClick:$})}),(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",r?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:r?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:r?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900 py-2.5",children:"Post settings"}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(r?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return m((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:r?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:$,children:(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]})]}),(0,d.jsx)("div",{ref:D,className:"tab-panels",style:{maxHeight:"calc(100vh - 100px - ".concat(T?72:0,"px)")},children:(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4 pb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Title"}),(0,d.jsx)(N.Z,{className:"w-full",helperText:"60 characters recommended",error:A||(null===l||void 0===l?void 0:l.title)?"":"You must provide a valid title",name:"title",value:null===l||void 0===l?void 0:l.title,onChange:function(e){a((0,o.Z)((0,s.Z)({},l),{title:e,slug:e.replace(/[^0-9a-z]/gi,"-").replace(/-+$/g,"").toLowerCase()}))},type:"text"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"font-semibold mb-2",children:"Date"}),(0,d.jsx)(Cn(),{selected:(null===l||void 0===l?void 0:l.publishedAt)||(null===l||void 0===l?void 0:l.createdAt),onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{publishedAt:e}))},dateFormat:"LLL dd, yyyy",calendarClassName:"tailwind-calendar",customInput:(0,d.jsx)(Sn.Z,{className:"!py-3"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"font-semibold mb-2",children:"Slug"}),(0,d.jsx)(N.Z,{className:"w-full",helperText:"A unique URL identifier for this blog post.",error:A||(null===l||void 0===l?void 0:l.slug)?"":"You must provide a valid slug",name:"slug",value:null===l||void 0===l?void 0:l.slug,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{slug:e.replace(/[^0-9a-z]/gi,"-").toLowerCase()}))}})]})]}),(0,d.jsx)(E.qk,{className:"py-6",title:"Banner",background:M,setBackground:function(e){var n=e.type,t=e.color,i=e.color2,r=e.image,c=e.overlay,d=(0,Zn.Z)(e,["type","color","color2","image","overlay"]);a((0,o.Z)((0,s.Z)({},l,r&&{Image:r}),{banner:(0,s.Z)((0,o.Z)((0,s.Z)((0,o.Z)((0,s.Z)({},l.banner),{type:n}),(null===c||void 0===c?void 0:c.amount)&&{opacity:c.amount}),{color:"image"===n?c.color:t}),i&&{color2:i},d)}))},defaults:{primaryColor:null===g||void 0===g?void 0:g.primaryColor,secondaryColor:null===g||void 0===g?void 0:g.secondaryColor,default:"#F3F4F6"}}),(null===j||void 0===j?void 0:j.length)>1&&(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Author"}),(0,d.jsx)(te.Z,{placeholder:"Select",values:j,value:(null===l||void 0===l?void 0:l.Author)&&(null===j||void 0===j?void 0:j.find((function(e){var n;return e.id===((null===l||void 0===l||null===(n=l.Author)||void 0===n?void 0:n._id)||(null===l||void 0===l?void 0:l.Author))}))),onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{Author:e.id}))}})]}),(0,d.jsx)("div",{className:"py-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Published"}),(0,d.jsx)(z.Z,{enabled:null===l||void 0===l?void 0:l.published,onChange:function(e){e&&!(null===l||void 0===l?void 0:l.publishedAt)?a((0,o.Z)((0,s.Z)({},l),{published:!0,publishedAt:new Date})):a((0,o.Z)((0,s.Z)({},l),{published:e}))}})]})})]})}),(0,d.jsxs)(P.S,{dirty:T,children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return q()},children:"Discard"}),(0,d.jsx)(F.Z,{className:"primary",onClick:function(){l.title&&l.slug?(R(!0),l.slug=l.slug.replace(/-+$/g,""),p()):R(!1)},loading:h,children:"Save"})]})]})})})}),(0,d.jsx)(V,{attention:!0,confirmText:"Discard"})]})}function On(e){var n=e.open,t=e.setOpen,i=e.rtl,l=e.setRtl,a=e.website,r=(0,u.useState)(null),c=r[0],m=r[1],x=(0,u.useState)({x:50,y:50}),h=x[0],p=x[1],g=(0,u.useState)(null),b=g[0],j=g[1],w=(0,u.useState)(!1),k=w[0],C=w[1],S=(0,u.useState)(!1),E=S[0],T=S[1],O=(0,u.useRef)(null);I(O);var B=(0,_.Z)(),A=B.confirm,R=B.ConfirmDialog,D=[{id:"1:1",name:"1:1 \xb7 square"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],L=function(){k?A("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(function(){H()})):z()},W=function(){T(!0),setTimeout((function(){T(!1)}),1e3)},z=function(){m((0,f.p$)(b)),C(!1),t(!1)},H=function(){m((0,f.p$)(b)),W(),C(!1),t(!1),V((0,o.Z)((0,s.Z)({},b),{dirty:!1}))},V=function(e){window.selectedPostImage=e,window.dispatchEvent(new CustomEvent("website-builder-post-image-changed",{detail:e}))};return(0,u.useEffect)((function(){if(n){var e,t,i=window.selectedPostImage||{};j((0,f.p$)(i)),m(i),p({x:(null===(e=i.positionX)||void 0===e?void 0:e.replace("%",""))||50,y:(null===(t=i.positionY)||void 0===t?void 0:t.replace("%",""))||50})}else j(null)}),[n]),(0,u.useEffect)((function(){c&&b&&(JSON.stringify(b)===JSON.stringify(c)?(W(),C(!1),V((0,o.Z)((0,s.Z)({},c),{dirty:!1}))):(C(!0),V((0,o.Z)((0,s.Z)({},c),{dirty:!0}))))}),[c,b]),(0,d.jsxs)(y.u,{show:n,appear:!0,children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"z-50 fixed inset-0",onClick:L})}),(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",i?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:i?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:i?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900 py-2.5",children:"Image"}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(i?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return l((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:i?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:L,children:(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]})]}),(0,d.jsx)("div",{ref:O,className:"tab-panels",style:{maxHeight:"calc(100vh - 100px - ".concat(k?72:0,"px)")},children:(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,d.jsx)("p",{className:"font-semibold"}),(0,d.jsx)(pe.Z,{queryText:null===c||void 0===c?void 0:c.alt,regenerate:!!(null===c||void 0===c?void 0:c.media),onChange:function(e){m((0,o.Z)((0,s.Z)({},c),{media:e,src:(null===e||void 0===e?void 0:e.preview)||(null===e||void 0===e?void 0:e.url)||(null===c||void 0===c?void 0:c.src)})),W()}})]}),(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none !h-54 !rounded-none",limit:1,location:"blocks",pictures:(null===c||void 0===c?void 0:c.media)||[],onChange:function(e){var n,t;return m((0,o.Z)((0,s.Z)({},c),{media:e[0],src:(null===(n=e[0])||void 0===n?void 0:n.preview)||(null===(t=e[0])||void 0===t?void 0:t.url)||(null===c||void 0===c?void 0:c.src)}))},reload:E,onRemove:function(e){return function(e){window.dispatchEvent(new CustomEvent("website-builder-post-image-remove",{detail:e})),L()}(e)},shutterstock:!0,unsplash:!0,upload:!0,library:!0}),(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Image position"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Horizontal"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:h.x,onChange:function(e){p((function(n){return(0,o.Z)((0,s.Z)({},n),{x:e})})),clearTimeout(Nn),Nn=setTimeout((function(){m((function(n){return(0,o.Z)((0,s.Z)({},n),{positionX:"".concat(e,"%")})})),p((function(n){return(0,o.Z)((0,s.Z)({},n),{x:e})}))}),500,e)}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm w-1/5",children:"Vertical"}),(0,d.jsx)(N.Z,{className:"flex-1",type:"range",min:0,max:100,step:5,value:h.y,onChange:function(e){p((function(n){return(0,o.Z)((0,s.Z)({},n),{y:e})})),clearTimeout(Nn),Nn=setTimeout((function(){m((function(n){return(0,o.Z)((0,s.Z)({},n),{positionY:"".concat(e,"%")})})),p((function(n){return(0,o.Z)((0,s.Z)({},n),{y:e})}))}),500,e)}})]})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Aspect ratio"}),(0,d.jsx)(te.Z,{className:"mt-2",placeholder:"Select",values:D,value:(null===c||void 0===c?void 0:c.aspectRatio)&&D.find((function(e){return e.id===(null===c||void 0===c?void 0:c.aspectRatio)})),disabled:!(null===c||void 0===c?void 0:c.media),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{aspectRatio:e.id}))}})]}),(0,d.jsx)(Ne.nR,{value:null===c||void 0===c?void 0:c.cornerRadius,defaultValue:null===a||void 0===a?void 0:a.cornerRadius,disabled:!(null===c||void 0===c?void 0:c.media),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{cornerRadius:e}))}})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Caption"}),(0,d.jsx)(N.Z,{helperText:"Provide details about this image",value:null===c||void 0===c?void 0:c.caption,disabled:!(null===c||void 0===c?void 0:c.media),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{caption:e}))}})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-semibold",children:"Alt text"}),(0,d.jsx)(N.Z,{helperText:"Describe the image to improve SEO and accessibility",value:null===c||void 0===c?void 0:c.alt,disabled:!(null===c||void 0===c?void 0:c.media),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{alt:e}))}})]})]})]})}),(0,d.jsxs)(P.S,{text:"",dirty:k,children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return H()},children:"Discard"}),(0,d.jsx)(F.Z,{className:"primary",onClick:function(){return V((0,o.Z)((0,s.Z)({},c),{dirty:!0})),j((0,f.p$)(c)),void t(!1)},children:"Apply"})]})]})})})}),(0,d.jsx)(R,{attention:!0,confirmText:"Discard"})]})}function Bn(e){var n=e.open,t=e.setOpen,i=e.rtl,l=e.setRtl,a=e.website,r=(0,u.useState)(null),c=r[0],m=r[1],x=(0,u.useState)(null),h=x[0],p=x[1],g=(0,u.useState)(!1),b=g[0],j=g[1],w=(0,u.useState)(!1),Z=w[0],k=w[1],C=(0,_.Z)(),S=C.confirm,E=C.ConfirmDialog,T=(0,u.useRef)(null);I(T);var O=function(){b?S("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(function(){A()})):B()},B=function(){m((0,f.p$)(h)),j(!1),t(!1)},A=function(){m((0,f.p$)(h)),j(!1),t(!1),L((0,o.Z)((0,s.Z)({},h),{dirty:!1}))},R=function(e){var n,t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(live\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==(null===(n=t[9])||void 0===n?void 0:n.length))&&"https://www.youtube.com/embed/"+t[9]},D=function(e){var n=/vimeo.*\/(\d+)/i.exec(e);return!(!n||!n[1])&&"https://player.vimeo.com/video/"+n[1]},L=function(e){window.selectedPostVideo=e,window.dispatchEvent(new CustomEvent("website-builder-post-video-changed",{detail:e}))};return(0,u.useEffect)((function(){if(n){var e=window.selectedPostVideo||{};p((0,f.p$)(e)),m(e)}else p(null)}),[n]),(0,u.useEffect)((function(){c&&h&&(JSON.stringify(h)===JSON.stringify(c)?(j(!1),L((0,o.Z)((0,s.Z)({},c),{dirty:!1}))):(j(!0),L((0,o.Z)((0,s.Z)({},c),{dirty:!0}))))}),[c,h]),(0,u.useEffect)((function(){(null===c||void 0===c?void 0:c.url)&&k(!R(c.url)&&!D(c.url))}),[c]),(0,d.jsxs)(y.u,{show:n,appear:!0,children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"z-50 fixed inset-0",onClick:O})}),(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",i?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:i?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:i?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900 py-2.5",children:"Video"}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(i?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return l((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:i?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:O,children:(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]})]}),(0,d.jsx)("div",{ref:T,className:"tab-panels",style:{maxHeight:"calc(100vh - 100px - ".concat(b?72:0,"px)")},children:(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"pb-6",children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Video link"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Add a YouTube or Vimeo link"}),(0,d.jsx)(N.Z,{label:"Link address",placeholder:"E.g. https://youtu.be/4H13-uKsxoQ",value:null===c||void 0===c?void 0:c.url,onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{url:e,src:R(e)||D(e)||""}))},error:(null===c||void 0===c?void 0:c.src)&&Z?"This url isn't a valid Youtube or Vimeo video!":""}),(null===c||void 0===c?void 0:c.src)&&!Z&&(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)("iframe",{className:"rounded-md",width:"100%",height:"184",src:R(c.src)||D(c.src),allow:"autoplay; encrypted-media",allowFullScreen:""})})]}),(0,d.jsx)(Ne.nR,{className:"pt-6",value:null===c||void 0===c?void 0:c.cornerRadius,defaultValue:null===a||void 0===a?void 0:a.cornerRadius,disabled:!(null===c||void 0===c?void 0:c.src),onChange:function(e){return m((0,o.Z)((0,s.Z)({},c),{cornerRadius:e}))}})]})}),(0,d.jsxs)(P.S,{text:"",dirty:b,children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return A()},children:"Discard"}),(0,d.jsx)(F.Z,{className:"primary",onClick:function(){return p((0,f.p$)(c)),void t(!1)},children:"Apply"})]})]})})})}),(0,d.jsx)(E,{attention:!0,confirmText:"Discard"})]})}var In,Fn=t(9008),_n=t.n(Fn),An=t(95350);function Rn(e){var n=e.open,t=e.setOpen,l=e.onPublish,s=(0,u.useState)(!0),o=s[0],a=s[1],r=(0,u.useState)(null),m=r[0],h=r[1],p=(0,u.useState)(!1),g=p[0],b=p[1],j=(0,x.Z)(),Z=j.get,k=j.post,C=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Z("/website/get-subdomain-details")];case 1:return(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&h(e.content.subdomain),[2]}}))}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return b(!0),[4,Z("/website/verify-subdomain",{subdomain:m})];case 1:return(e=n.sent())&&!0===e.status&&!0===e.content?a(!0):a(!1),b(!1),[2,e.content]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return b(!0),[4,k("/website/save-subdomain",{subdomain:m})];case 1:return(null===(e=t.sent())||void 0===e?void 0:e.status)?[4,k("/website/toggle-status",{status:"public"})]:[3,3];case 2:return(n=t.sent())&&n.status&&(l(),An.Z.success("Website is live!")),b(!1),[3,4];case 3:An.Z.error(e.message),b(!1),t.label=4;case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return clearTimeout(In),In=setTimeout((0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return[2,S()]}))})),500),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){C()}),[]),(0,d.jsx)(y.u.Root,{show:n,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return t(!1)},children:(0,d.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-lg md:rounded-lg text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle md:max-w-md",children:[(0,d.jsxs)("div",{className:"flex items-center p-4 lg:p-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Durable domain name"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return t(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"p-4 md:p-6",children:[(0,d.jsx)("label",{className:"mb-4",children:"Enter a preferred Durable domain name."}),(0,d.jsxs)("div",{className:"flex items-start w-full flex-col md:flex-row",children:[(0,d.jsx)(N.Z,{className:"w-full hidden md:block",onKeyUp:function(){return P()},error:m?o?"":"This domain is being used, please choose another domain.":"You must provide a domain name",name:"subdomain",helperText:"You can always change this later",prefix:"https://",suffix:(0,f.lz)(),value:m,onChange:function(e){return h((0,f.nv)(e))}}),(0,d.jsx)(N.Z,{className:"w-full block md:hidden",onKeyUp:function(){return P()},error:m?o?"":"This domain is being used, please choose another domain.":"You must provide a domain name",name:"subdomain",helperText:"You can always change this later",suffix:(0,f.lz)(),value:m,onChange:function(e){return h((0,f.nv)(e))}})]})]}),(0,d.jsx)("div",{className:"flex justify-end gap-3 p-4 lg:px-6 border-t border-gray-200",children:(0,d.jsx)(F.Z,{className:"primary",onClick:(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,E()];case 1:return e.sent(),l(),t(!1),[2]}}))})),disabled:g||!m||!o,loading:g,loadingText:"Publishing...",children:"Publish your website"})})]})})]})})})}var Dn=t(74007),Ln=[{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"retro",name:"Retro"},{id:"pastel",name:"Pastel"},{id:"cool",name:"Cool"},{id:"warm",name:"Warm"},{id:"nature",name:"Nature"},{id:"energetic",name:"Energetic"},{id:"happy",name:"Happy"}],Wn=["Aa","Bb","Cc","Dd"],zn=function(e){var n,t=e.className,i=e.palette;return(0,d.jsx)("div",{className:(0,f.AK)("grid grid-cols-4 h-24 w-full mt-6 mb-2 overflow-hidden rounded-lg",t),children:null===i||void 0===i||null===(n=i.colors)||void 0===n?void 0:n.map((function(e,n){return(0,d.jsxs)("div",{className:"relative flex items-end p-3 transition-all",style:{background:e.color},children:[(0,d.jsx)("div",{className:(0,f.AK)("absolute inset-0 border-t border-b border-r border-black border-opacity-10",0===n&&"border-l rounded-l-lg",3===n&&"rounded-r-lg")}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full transition-all",style:{background:e.accent}}),(0,d.jsx)("p",{className:"font-medium transition-all",style:{color:(0,f.$O)(e.color||"#FFFFFF")},children:Wn[n]})]})]},"palette-".concat(n))}))})};function Hn(e){var n=e.onMigrate;return(0,d.jsx)("div",{className:"pb-6",children:(0,d.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("p",{className:"font-semibold text-indigo-800",children:"Color palette"}),(0,d.jsx)("p",{className:"px-2.5 py-0.5 bg-indigo-500 text-xs font-medium text-white rounded-xl",children:"New"})]}),(0,d.jsx)("div",{className:"relative w-64 h-60 mx-auto",children:(0,d.jsx)(j(),{unoptimized:!0,src:(0,f.sd)("palette-illustration.svg"),alt:"Durable color palette",layout:"fill",objectFit:"cover"})}),(0,d.jsx)("div",{className:"relative flex items-center gap-1 flex-wrap -mt-12 mb-4",children:(0,d.jsx)("p",{className:"text-sm text-indigo-800",children:"Better colors, everywhere."})}),(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)("button",{className:"primary w-full text-sm",onClick:n,children:"Try color palettes"})})]})})}var Vn=function(e){var n=e.idx,t=e.website,i=e.setWebsite,l=(0,u.useState)(null),a=l[0],r=l[1],c=function(e){var l,s=(0,f.p$)(t);(null===s||void 0===s||null===(l=s.colorPalette)||void 0===l?void 0:l.colors)&&!isNaN(n)&&(s.colorPalette.colors[n]={color:e.color,accent:e.accent},i(s))};return(0,u.useEffect)((function(){var e,i;(null===t||void 0===t||null===(e=t.colorPalette)||void 0===e?void 0:e.colors)&&!isNaN(n)&&r(null===t||void 0===t||null===(i=t.colorPalette)||void 0===i?void 0:i.colors[n])}),[t,n]),(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"pb-6 space-y-6",children:[(0,d.jsx)(X.Z,{label:"Background",inline:!0,color:null===a||void 0===a?void 0:a.color,onChange:function(e){return c((0,o.Z)((0,s.Z)({},a),{color:e.hex}))}}),(0,d.jsx)(X.Z,{label:"Accent",inline:!0,color:null===a||void 0===a?void 0:a.accent,onChange:function(e){return c((0,o.Z)((0,s.Z)({},a),{accent:e.hex}))}})]}),(0,d.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Preview"}),(0,d.jsxs)("div",{className:"relative flex items-end p-3 h-24 rounded-md transition-all",style:{background:null===a||void 0===a?void 0:a.color},children:[(0,d.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-lg"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full transition-all",style:{background:null===a||void 0===a?void 0:a.accent}}),(0,d.jsx)("p",{className:"font-medium transition-all",style:{color:(0,f.$O)((null===a||void 0===a?void 0:a.color)||"#000000")},children:Wn[n]})]})]})]})]})},Mn=function(e){var n,t,l=e.settings,a=e.migrate,r=e.setMigrate,m=e.onEditColorSet,h=e.onChange,p=(0,u.useState)([]),b=p[0],j=p[1],y=(0,u.useState)(null),w=y[0],N=y[1],Z=(0,u.useState)("light"),k=Z[0],C=Z[1],S=(0,u.useState)(null),E=(S[0],S[1]),P=(0,x.Z)().get,T=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,P("/website/get-palettes")];case 1:return(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&j(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e,n;(null===w||void 0===w||null===(e=w.Palette)||void 0===e||null===(n=e.themes)||void 0===n?void 0:n.length)>0&&C(w.Palette.themes[0]),w&&"empty"!==w.Palette&&h(w)}),[w]),(0,u.useEffect)((function(){l&&N(l)}),[l]),(0,u.useEffect)((function(){T()}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(g.E,{className:"flex items-center w-full",value:(null===w||void 0===w?void 0:w.Palette)||a?"theme":"custom",onChange:function(e){E((function(n){var t,i=b.find((function(e){return e._id===n}));return i?N((function(n){var t;return(0,o.Z)((0,s.Z)({},n),{Palette:"theme"===e?i:null,colors:"theme"===e?null:(null===l||void 0===l||null===(t=l.Palette)||void 0===t?void 0:t.colors)||(null===l||void 0===l?void 0:l.colors)||i.colors})})):(a||r(!0),"theme"!==e&&N((function(e){var n;return(0,o.Z)((0,s.Z)({},e),{Palette:null,colors:(null===l||void 0===l||null===(n=l.Palette)||void 0===n?void 0:n.colors)||(null===l||void 0===l?void 0:l.colors)})})),"theme"!==e||a||N((function(e){var n;return(0,o.Z)((0,s.Z)({},e),{Palette:"empty",colors:(null===l||void 0===l||null===(n=l.Palette)||void 0===n?void 0:n.colors)||(null===l||void 0===l?void 0:l.colors)})}))),null===w||void 0===w||null===(t=w.Palette)||void 0===t?void 0:t._id}))},children:[(0,d.jsx)(g.E.Option,{className:"w-full",value:"theme",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)("py-2.5 px-4 border cursor-pointer rounded-l-lg text-sm font-medium text-center transition-all",n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"Mood"})}}),(0,d.jsx)(g.E.Option,{className:"w-full",value:"custom",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)("py-2.5 px-4 border cursor-pointer rounded-r-lg text-sm font-medium text-center transition-all",n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"Custom"})}})]}),((null===w||void 0===w?void 0:w.Palette)||a)&&(0,d.jsxs)("div",{children:[(0,d.jsx)(te.Z,{placeholder:"Select",values:Ln,value:Ln.find((function(e){return e.id===k})),onChange:function(e){return C(e.id)}}),(0,d.jsx)(g.E,{value:null===w||void 0===w||null===(n=w.Palette)||void 0===n?void 0:n._id,onChange:function(e){return N((function(n){return(0,o.Z)((0,s.Z)({},n),{Palette:b.find((function(n){return n._id===e}))})}))},children:null===b||void 0===b?void 0:b.filter((function(e){return e.themes.includes(k)})).map((function(e,n){return(0,d.jsx)(g.E.Option,{value:e._id,className:"cursor-pointer",children:function(n){var t=n.checked;return(0,d.jsx)(zn,{palette:e,className:t&&"ring-2 ring-offset-2 ring-indigo-600 shadow-md"})}},"palette-".concat(e._id,"-color-").concat(n))}))})]}),!(null===w||void 0===w?void 0:w.Palette)&&!a&&(0,d.jsx)("div",{className:"space-y-6",children:null===w||void 0===w||null===(t=w.colors)||void 0===t?void 0:t.map((function(e,n){return(0,d.jsxs)("div",{className:"relative flex items-center justify-between gap-3 p-3.5 rounded-md cursor-pointer",style:{background:e.color},onClick:function(){return m(n)},children:[(0,d.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-md"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full",style:{background:e.accent}}),(0,d.jsx)("p",{className:"font-medium",style:{color:(0,f.$O)(e.color)},children:Wn[n]})]}),(0,d.jsx)("button",{className:"relative z-5 flex-shrink-0",style:{color:(0,f.$O)(e.color)},children:(0,d.jsx)(v.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})})]},"palette-color-set-".concat(n))}))})]})})};function Kn(e){var n=e.className,t=e.value,i=e.onEdit;return(0,d.jsxs)("div",{className:n,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Color palette"}),(0,d.jsx)("button",{className:"link text-sm",onClick:i,children:"Edit"})]}),(0,d.jsx)("div",{className:"cursor-pointer",onClick:i,children:(0,d.jsx)(zn,{palette:(null===t||void 0===t?void 0:t.Palette)||t,className:"shadow-sm"})})]})}var $n=t(59435),qn=[{id:"solid",name:"Solid"},{id:"outline",name:"Outline"}],Un=[{id:"round",name:"Round",cornerRadius:8},{id:"square",name:"Square",cornerRadius:0}];function Xn(e){var n,t,l,a,r,m,h,g,b,w,N,k,C,S,E,P,T,O,B,F,A,R,D,L,z,H,V,M=e.website,K=e.open,$=e.setOpen,q=e.rtl,U=e.setRtl,G=e.tryPalette,Y=e.onChange,J=e.onSave,Q=e.onPreviewMigration,ee=e.scrollToLocation,ne=void 0===ee?null:ee,ie=e.setScrollToLocation,le=void 0===ie?null:ie,se=(0,u.useState)(!1),oe=(se[0],se[1]),ae=(0,u.useState)([]),de=ae[0],ue=ae[1],me=(0,u.useState)(null),ve=me[0],xe=me[1],he=(0,u.useState)(null),fe=he[0],pe=he[1],ge=(0,u.useState)(!1),be=(ge[0],ge[1]),je=(0,u.useState)(0),ye=je[0],we=je[1],Ze=(0,u.useState)(0),ke=Ze[0],Ce=Ze[1],Se=(0,u.useState)(null),Ee=Se[0],Pe=Se[1],Te=(0,u.useState)(null),Oe=Te[0],Be=Te[1],Ie=(0,u.useState)(null),Fe=Ie[0],_e=Ie[1],Ae=(0,u.useState)(null),Re=Ae[0],De=Ae[1],Le=(0,u.useState)(!1),We=Le[0],ze=Le[1],He=(0,x.Z)(),Ve=He.get,Me=He.post,Ke=(0,_.Z)(),$e=(Ke.confirm,Ke.ConfirmDialog),qe=(0,_.Z)(),Ue=(qe.confirm,qe.ConfirmDialog);I(Re);var Xe=[{id:0,key:"theme",title:"Theme"},{id:1,key:"palette",title:"Color palette"},{id:2,key:"color-set",title:"Color ".concat(["A","B","C","D"][ke||0])},{id:3,key:"buttons",title:"Button styles"}],Ge={button:{backgroundColor:"outline"===(null===fe||void 0===fe||null===(n=fe.button)||void 0===n?void 0:n.style)?"transparent":(null===fe||void 0===fe||null===(t=fe.button)||void 0===t?void 0:t.background)||(null===M||void 0===M?void 0:M.secondaryColor),color:"outline"===(null===fe||void 0===fe||null===(l=fe.button)||void 0===l?void 0:l.style)?(null===fe||void 0===fe||null===(a=fe.button)||void 0===a?void 0:a.background)||(null===M||void 0===M?void 0:M.secondaryColor):(0,f.$O)((null===fe||void 0===fe||null===(r=fe.button)||void 0===r?void 0:r.background)||(null===M||void 0===M?void 0:M.secondaryColor)),borderRadius:null===fe||void 0===fe||null===(m=fe.button)||void 0===m?void 0:m.cornerRadius,borderColor:(null===fe||void 0===fe||null===(h=fe.button)||void 0===h?void 0:h.background)||(null===M||void 0===M?void 0:M.secondaryColor)}},Ye=function(){var e=(0,i.Z)((function(){var e,n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return oe(!0),[4,Ve("/website/get-fonts")];case 1:return(e=i.sent())&&!0===e.status&&e.content&&(n=e.content,t=(0,$n.dW)(n),ue(t)),oe(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Je=(function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return oe(!0),e={favicon:fe.favicon,fonts:fe.fonts,button:fe.button,animation:fe.animation,cornerRadius:fe.cornerRadius},fe.noPaletteSupport||(e.buttons=fe.buttons,e.palette=fe.colorPalette),fe.migratePalette&&(e.migratePalette=!0),[4,Me("/website/save",e)];case 1:return(n=t.sent())&&!0===n.status&&(J(fe),$(!1),f.Z9.success("Website is live!")),oe(!1),[2]}}))}))}(),function(e){var n=Xe.find((function(n){return n.key===e}));we(n.id),"color-set"!==n.key&&Ce(0)});return(0,u.useEffect)((function(){K?(xe((0,f.p$)(M)),pe((0,f.p$)(M)),Ye(),G&&setTimeout((function(){ze(!0),Je("palette")}),500)):(xe(null),Je("theme"))}),[K]),(0,u.useEffect)((function(){fe&&ve&&(JSON.stringify(ve)===JSON.stringify(fe)?(be(!1),Y(ve)):(be(!0),Y(fe)))}),[fe,ve]),(0,u.useEffect)((function(){if(ne&&le){var e={fonts:Ee,button_style:Oe,favicon:Fe};ne in e&&e[ne]&&e[ne].scrollIntoView({behavior:"smooth",block:"center"}),le(null)}}),[Ee,Oe,Fe]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(_n(),{children:(null===fe||void 0===fe||null===(g=fe.fonts)||void 0===g||null===(b=g.head)||void 0===b?void 0:b.name)&&(null===fe||void 0===fe||null===(w=fe.fonts)||void 0===w||null===(N=w.body)||void 0===N?void 0:N.name)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:!0}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=".concat(null===fe||void 0===fe||null===(k=fe.fonts)||void 0===k||null===(C=k.head)||void 0===C||null===(S=C.name)||void 0===S?void 0:S.replace(/ /gi,"+"),":wght@").concat(null===fe||void 0===fe||null===(E=fe.fonts)||void 0===E||null===(P=E.head)||void 0===P?void 0:P.weight,"&family=").concat(null===fe||void 0===fe||null===(T=fe.fonts)||void 0===T||null===(O=T.body)||void 0===O||null===(B=O.name)||void 0===B?void 0:B.replace(/ /gi,"+"),":wght@").concat(null===fe||void 0===fe||null===(F=fe.fonts)||void 0===F||null===(A=F.body)||void 0===A?void 0:A.weight,"&display=swap"),rel:"stylesheet"})]})}),(0,d.jsxs)(y.u,{show:K,appear:!0,children:[(0,d.jsx)("div",{className:(0,f.AK)("builder-panel",q?"right-0":"left-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:q?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:q?"translate-x-full":"-translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:(0,f.AK)("max-w-full sticky top-0 flex items-center justify-between bg-white z-10 py-2 pr-1 md:pr-3 md:rounded-t-lg",ye>0?"pl-1 md:pl-3":"pl-4 md:pl-6"),children:[(0,d.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,d.jsx)(y.u,{as:u.Fragment,show:ye>0,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,d.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 light transparent icon",onClick:function(){"color-set"===Xe.find((function(e){return e.id===ye})).key?Je("palette"):Je("theme"),We&&ze(!1)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,d.jsx)(v.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,d.jsx)("p",{className:(0,f.AK)("font-bold text-gray-900 ml-0 py-2.5 transition-all duration-300",ye>0&&"ml-10"),children:Xe[ye].title})]}),(0,d.jsx)(y.u,{as:u.Fragment,show:0===ye,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(q?"left":"right"),children:(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return U((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(v.Z,{icon:q?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:function(){$(!1)},children:"Done"})]})})]}),(0,d.jsxs)(p.O.Group,{as:"div",className:"flex flex-col h-full md:h-auto border-t",selectedIndex:ye,children:[(0,d.jsx)(p.O.List,{className:"hidden",children:Xe.map((function(e,n){return(0,d.jsx)(p.O,{className:"hidden",children:e.name},"".concat(e.name,"-").concat(n))}))}),(0,d.jsxs)(p.O.Panels,{ref:function(e){return De(e?{current:e}:null)},className:"tab-panels",style:{maxHeight:"calc(100vh - 194px)"},children:[(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(null===fe||void 0===fe?void 0:fe.noPaletteSupport)&&!We?(0,d.jsx)(Hn,{onMigrate:function(){ze(!0),Je("palette")}}):(0,d.jsx)(Kn,{className:"pb-6",value:null===fe||void 0===fe?void 0:fe.colorPalette,onEdit:function(){return Je("palette")}}),(0,d.jsxs)("div",{className:"py-6",ref:Pe,children:[(0,d.jsx)("p",{className:"mb-6 font-semibold",children:"Fonts"}),(0,d.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("p",{className:"text-h3 font-medium mb-1",style:function(e){var n,t,i,l;return{fontFamily:(null===e||void 0===e||null===(n=e.fonts)||void 0===n||null===(t=n.head)||void 0===t?void 0:t.family)||'"Inter", sans-serif',fontWeight:(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.head)||void 0===l?void 0:l.weight)||500}}(fe),children:"Heading"}),(0,d.jsx)("p",{className:"text-body",style:function(e){var n,t,i,l;return{scrollBehavior:"smooth",fontFamily:(null===e||void 0===e||null===(n=e.fonts)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.family)||'"Inter", sans-serif',fontWeight:(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.body)||void 0===l?void 0:l.weight)||500}}(fe),children:"Body text will look like this."})]}),(0,d.jsx)(te.Z,{placeholder:"Select",values:de,value:de.find((function(e){var n,t;return e.id===(null===fe||void 0===fe||null===(n=fe.fonts)||void 0===n||null===(t=n.head)||void 0===t?void 0:t._id)})),onChange:function(e){return pe((function(n){return(0,o.Z)((0,s.Z)({},n),{fonts:(0,o.Z)((0,s.Z)({},n.fonts),{head:e.head,body:e.body})})}))}})]})]}),(0,d.jsx)("div",{className:"py-6",ref:Be,children:(null===fe||void 0===fe?void 0:fe.noPaletteSupport)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"mb-2 font-medium text-gray-900",children:"Button"}),(0,d.jsx)("p",{className:"mb-2 text-sm text-gray-500",children:"Choose a button style"}),(0,d.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md",children:[(0,d.jsx)("button",{style:Ge.button,className:"primary lg !border-2 pointer-events-none mb-6",children:"Contact us"}),(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsx)(te.Z,{label:"Style",placeholder:"Select",values:qn,value:qn.find((function(e){var n;return e.id===(null===fe||void 0===fe||null===(n=fe.button)||void 0===n?void 0:n.style)}))||qn[0],onChange:function(e){return pe((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:e.id})})}))}}),(0,d.jsx)(te.Z,{label:"Shape",placeholder:"Select",values:Un,value:Un.find((function(e){var n;return e.cornerRadius===(null===fe||void 0===fe||null===(n=fe.button)||void 0===n?void 0:n.cornerRadius)}))||Un[0],onChange:function(e){return pe((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{cornerRadius:e.cornerRadius})})}))}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Background"}),(0,d.jsx)(X.Z,{color:(null===fe||void 0===fe||null===(R=fe.button)||void 0===R?void 0:R.background)||(null===M||void 0===M?void 0:M.secondaryColor),onChange:function(e,n){return pe((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{background:e.hex})})}))}})]})]})]})]}):(0,d.jsx)(ce,{buttons:null===fe||void 0===fe?void 0:fe.buttons,onEdit:function(){return Je("buttons")}})}),(0,d.jsx)(Ne.li,{className:"py-6",website:fe,setWebsite:pe}),(0,d.jsx)(W.VV,{className:"py-6",website:fe,setWebsite:pe}),(0,d.jsxs)("div",{className:"pt-6",ref:_e,children:[(0,d.jsx)("p",{className:"mb-1 font-semibold",children:"Browser icon"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Add an icon to display on browser tabs"}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg my-4",children:[(0,d.jsx)("div",{className:(0,f.AK)("flex-shrink-0 relative flex items-center justify-center h-4 w-4 overflow-hidden rounded-sm",!(null===fe||void 0===fe||null===(D=fe.favicon)||void 0===D?void 0:D._id)&&"bg-gray-300"),children:(null===fe||void 0===fe||null===(L=fe.favicon)||void 0===L?void 0:L._id)&&(0,d.jsx)(j(),{unoptimized:!0,className:"",src:null===fe||void 0===fe||null===(z=fe.favicon)||void 0===z?void 0:z.url,objectFit:"cover",layout:"fill",alt:"favicon"})}),(0,d.jsx)(Z.Z,{location:"logos",limit:1,pictures:(null===fe||void 0===fe?void 0:fe.favicon)||null,onChange:function(e){return pe((function(n){return(0,o.Z)((0,s.Z)({},n),{favicon:e&&e.length>0&&e[0]})}))},unsplash:!0,upload:!0,library:!0,icons:!0,content:(0,d.jsxs)("button",{className:"inline-flex gap-2 items-center link text-sm",children:[(0,d.jsx)("span",{children:(null===fe||void 0===fe||null===(H=fe.favicon)||void 0===H?void 0:H._id)?"Change":"Add icon"}),!(null===fe||void 0===fe||null===(V=fe.favicon)||void 0===V?void 0:V._id)&&(0,d.jsx)(v.Z,{icon:"PlusSolidIcon",className:"w-4 h-4"})]})})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"PNG or JPG image up to 1MB. At least 32x32px."})]})]}),(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsx)(Mn,{settings:null===fe||void 0===fe?void 0:fe.colorPalette,migrate:We,setMigrate:function(){return M.noPaletteSupport&&ze(!0)},onEditColorSet:function(e){Je("color-set"),Ce(e)},onChange:function(e){We?(pe((function(n){return(0,o.Z)((0,s.Z)({},n),{colorPalette:e,noPaletteSupport:!1,migratePalette:!0})})),Q(!0),ze(!1)):pe((function(n){return(0,o.Z)((0,s.Z)({},n),{colorPalette:e})}))}})}),(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsx)(Vn,{idx:ke,website:fe,setWebsite:pe})}),(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsx)(re,{website:fe,setWebsite:pe})})]})]})]})})})}),(0,d.jsx)($e,{attention:!0,confirmText:"Discard"}),(0,d.jsx)(Ue,{confirmText:"Apply and save"})]})]})}t(39828);var Gn={seo:{title:"",description:"",headCode:"",footerCode:"",Image:null},slug:"",label:"",showOnHeader:!0,showOnFooter:!1};function Yn(e){var n,t,l,a,r,m,h,p,g,b,j,w,C,S=e.open,E=e.loading,P=e.save,T=e.setOpen,O=e.page,B=e.setPage,I=e.pages,_=(0,u.useState)(!0),A=_[0],R=_[1],D=(0,u.useState)(!1),L=D[0],W=D[1],H=(0,u.useState)((0,f.tl)("business.config"))[0],V=(0,u.useState)(!1),M=V[0],K=V[1],$=(0,u.useState)(null),q=$[0],U=$[1],X=(0,u.useState)(!1),G=X[0],Y=X[1],J=(0,u.useState)(!1),Q=J[0],ee=J[1],ne=(0,u.useState)(!1),ie=ne[0],le=ne[1],se=(0,u.useState)([]),oe=se[0],ae=se[1],re=(0,x.Z)().post,ce=(0,ve.useSession)().data;O||(O=Gn);var de=function(){var e=(0,i.Z)((function(){var e,n,t,i,l;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return(null===H||void 0===H?void 0:H.business)||f.Z9.error("Error while generating your suggestion! Try again later."),W(!0),[4,re("/website/generate-content-aware-seo",{businessID:null===H||void 0===H||null===(e=H.business)||void 0===e?void 0:e._id,pageBlocks:null===O||void 0===O?void 0:O.blocks})];case 1:return(n=a.sent())&&n.status&&n.content||f.Z9.error("Error while generating your suggestion! Try again later."),t=n.content,i=t.description,l=t.Image,B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{description:i,Image:l})})),W(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){O&&q&&(JSON.stringify(q)===JSON.stringify(O)?(Y(!1),K(!1)):K(!0),O&&"parent"!==O.type&&O.seo&&(""!==O.seo.description||null!=O.seo.Image)?(ee(""!==O.seo.description||null!=O.seo.Image),le(!0)):(ee(!1),le(!1)))}),[O,q]),(0,u.useEffect)((function(){S&&ae(null===I||void 0===I?void 0:I.filter((function(e){return"parent"===e.type})).map((function(e){return{id:e._id,name:e.label}})))}),[S,I]),(0,u.useEffect)((function(){U(S?(0,f.p$)(O):null)}),[S]),(0,d.jsxs)(y.u,{show:S,appear:!0,children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"z-50 fixed inset-0"})}),(0,d.jsx)("div",{className:"fixed inset-y-0 right-0 h-full z-50",children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-4",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col items-stretch h-full w-screen max-w-full bg-white shadow-xl overflow-y-auto overflow-x-hidden md:rounded-lg",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900",children:O&&O._id?O.label:"parent"===O.type?"Create folder":"Create page"}),(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return T(!1),void setTimeout((function(){return B(null)}),500)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})]}),(0,d.jsxs)("div",{className:"flex-1 p-4 lg:p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:["parent"!==(null===O||void 0===O?void 0:O.type)&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("label",{className:"mb-1",children:"Title"}),(0,d.jsx)(k.Z,{prompt:{label:"generate-content-aware-seo",extraProps:{page:{type:O.label,content:O.blocks}}},includeName:!0,regenerate:!!(null===O||void 0===O||null===(n=O.seo)||void 0===n?void 0:n.title),onSuggestion:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{title:e.title})})}))}})]}),(0,d.jsx)(N.Z,{className:"w-full col-span-full",helperText:"The title tag is displayed as the title in search results. Less than 60 characters are recommended.",error:A||O&&(null===O||void 0===O||null===(t=O.seo)||void 0===t?void 0:t.title)?"":"You must provide a valid title",name:"title",value:O?null===O||void 0===O||null===(l=O.seo)||void 0===l?void 0:l.title:"",onChange:function(e){B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{title:e}),slug:(null===O||void 0===O?void 0:O.default)?O.slug:e.replace(/[^0-9a-z]/gi,"-").replace(/-+$/g,"").toLowerCase(),label:e})}))},type:"text"})]}),(0,d.jsx)(N.Z,{className:"w-full",helperText:"This is the word shown in the navigation.",error:A||O&&O.label?"":"You must provide a valid label",name:"label",value:O?O.label:"",onChange:function(e){"parent"===(null===O||void 0===O?void 0:O.type)?B((0,o.Z)((0,s.Z)({},O),{label:e,slug:null===e||void 0===e?void 0:e.replace(/[^0-9a-z]/gi,"-").replace(/-+$/g,"").toLowerCase()})):B((0,o.Z)((0,s.Z)({},O),{label:e}))},type:"text",label:"Label"}),!(null===O||void 0===O?void 0:O.default)&&(0,d.jsx)(N.Z,{className:"w-full",helperText:"A unique URL identifier for this page.",error:A||O&&O.slug&&"blog"!==O.slug||(null===O||void 0===O?void 0:O.default)?"":"blog"===O.slug?"This slug is reserved to your blog":"You must provide a valid slug",name:"slug",value:O?O.slug:"",onChange:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{slug:e.replace(/[^0-9a-z]/gi,"-").toLowerCase()})}))},readOnly:null===O||void 0===O?void 0:O.default,type:"text",label:"Slug"}),"nested"!==(null===O||void 0===O?void 0:O.type)&&(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("label",{className:"mb-1",children:"Show link"}),(0,d.jsxs)("div",{className:"flex space-x-8 mt-2",children:[(!(null===O||void 0===O?void 0:O.default)||"blog"===O.type)&&(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)(z.Z,{enabled:null===O||void 0===O?void 0:O.showOnHeader,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{showOnHeader:e}))},className:"mr-1.5"}),"Header"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)(z.Z,{enabled:null===O||void 0===O?void 0:O.showOnFooter,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{showOnFooter:e}))},className:"mr-1.5"}),"Footer"]})]})]})]}),"parent"!==(null===O||void 0===O?void 0:O.type)&&(0,d.jsxs)(d.Fragment,{children:[!(null===O||void 0===O?void 0:O.default)&&(null===oe||void 0===oe?void 0:oe.length)>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{className:"!my-4"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"mb-2 font-medium",children:"Add to folder"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Add this page to an existing folder"})]}),(0,d.jsx)(z.Z,{enabled:null===O||void 0===O?void 0:O.type,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{type:e?"nested":null,Parent:e&&1===(null===oe||void 0===oe?void 0:oe.length)?oe[0].id:null}))}})]}),"nested"===(null===O||void 0===O?void 0:O.type)&&(0,d.jsx)(te.Z,{className:"my-4",placeholder:"Select",values:oe,value:(null===O||void 0===O?void 0:O.Parent)&&oe.find((function(e){return e.id===(null===O||void 0===O?void 0:O.Parent)})),onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{Parent:e.id}))}})]})]}),(0,d.jsx)("hr",{className:"!my-4"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 mb-3",children:"SEO"}),(0,d.jsxs)("p",{className:"font-normal text-gray-900 mb-4",children:["Improve your website","'","s rank on search engines like Google with SEO."]}),Q||ie?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("label",{className:"",children:"Image"}),(0,d.jsx)("div",{className:"relative -mt-3",children:(0,d.jsx)("div",{children:(0,d.jsx)(pe.Z,{regenerate:!!(null===O||void 0===O||null===(a=O.seo)||void 0===a?void 0:a.Image),onChange:function(e){B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{Image:e})})),Y(!0),setTimeout((function(){Y(!1)}),1e3)}})})})]}),(0,d.jsxs)("div",{className:"mb-4",children:[O&&(0,d.jsx)(Z.Z,{itemClassName:"!max-w-none",location:"services",pictures:[null===O||void 0===O||null===(r=O.seo)||void 0===r?void 0:r.Image],onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{Image:e[0]})}))},reload:G,unsplash:!0,upload:!0,library:!0}),(0,d.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"The image that is displayed when shared on social medias"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,d.jsx)("label",{children:"Description"}),(0,d.jsx)(k.Z,{regenerate:!!(null===O||void 0===O||null===(m=O.seo)||void 0===m?void 0:m.description),prompt:{label:"generate-content-aware-seo",extraProps:{page:{type:O.label,content:O.blocks}}},includeLocation:!0,includeName:!0,includeVertical:!0,onSuggestion:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{description:e.description})})}))}})]}),(0,d.jsx)("textarea",{rows:4,value:null===(h=O.seo)||void 0===h?void 0:h.description,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{description:e.target.value})}))},maxLength:"320"}),(0,d.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"A meta description is a short, relevant summary of this page. Search engines will sometimes use this in search results. Less than 155 characters are recommended."})]})]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"bg-gray-50 p-6",style:{minHeight:"128px"},children:[(0,d.jsx)("p",{className:"text-xs font-normal text-center text-gray-400 mb-6",children:(0,d.jsxs)(F.Z,{className:"light text-gray-700 w-full",onClick:function(){return de()},loading:L,children:["Generate SEO ",(0,d.jsx)(v.Z,{icon:"BoltIcon",className:"w-4 h-4 ml-1"})]})}),(0,d.jsx)("p",{className:"text-xs font-normal text-center text-gray-400",children:(0,d.jsx)(F.Z,{className:"text-sm text-indigo-700 font-medium link items-center w-full",onClick:function(){return le(!0)},loading:E,children:"Add SEO manually"})})]})})]}),(0,d.jsx)("hr",{className:"!my-4"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 mb-3",children:"Code"}),(0,d.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-md mb-4",children:[(0,d.jsx)(v.Z,{icon:"BellIcon",className:"w-4 h-4 text-yellow-500 mt-1 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-yellow-800 text-sm",children:"Durable doesn't validate custom code, be sure to check code before saving."})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"mb-2",children:"Head Code"}),(0,d.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:["Add code at the end of the ","<","head",">"," tag:"]}),(0,d.jsx)("textarea",{rows:6,value:null===O||void 0===O||null===(p=O.seo)||void 0===p?void 0:p.headCode,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{headCode:e.target.value})}))},placeholder:"active"!==(null===ce||void 0===ce||null===(g=ce.user)||void 0===g?void 0:g.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===ce||void 0===ce||null===(b=ce.user)||void 0===b?void 0:b.subscriptionStatus)})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"mb-2",children:"Footer Code"}),(0,d.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:["Add code before ","<","body",">"," tag:"]}),(0,d.jsx)("textarea",{rows:6,value:null===O||void 0===O||null===(j=O.seo)||void 0===j?void 0:j.footerCode,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{seo:(0,o.Z)((0,s.Z)({},O.seo),{footerCode:e.target.value})}))},placeholder:"active"!==(null===ce||void 0===ce||null===(w=ce.user)||void 0===w?void 0:w.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===ce||void 0===ce||null===(C=ce.user)||void 0===C?void 0:C.subscriptionStatus)})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)(z.Z,{enabled:null===O||void 0===O?void 0:O.forceRender,onChange:function(e){return B((0,o.Z)((0,s.Z)({},O),{forceRender:e}))},className:"mr-1.5"}),"Force custom code render"]}),(0,d.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Enable this option if your custom code or embed block is not being properly rendered."})]})]})]})]}),(0,d.jsxs)("div",{className:(0,f.AK)("sticky left-0 right-0 z-50 flex items-center justify-between gap-3 p-4 lg:px-6 bg-white border-t border-gray-100 rounded-b-md transition-all duration-300",M?"bottom-0 opacity-100":"-bottom-20 opacity-0"),children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"Unsaved"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{className:"secondary",disabled:E,onClick:function(){return B((0,f.p$)(q)),Y(!0),K(!1),le(!1),void ee(!1)},children:"Discard"}),(0,d.jsx)(F.Z,{className:"primary",onClick:function(){return function(){var e;O&&("parent"===(null===O||void 0===O?void 0:O.type)||(null===O||void 0===O||null===(e=O.seo)||void 0===e?void 0:e.title))&&((null===O||void 0===O?void 0:O.default)||/[0-9a-z]/gi.test(O.slug)&&O.slug&&"blog"!==O.slug)&&O.label?(R(!0),O.slug&&(O.slug=O.slug.replace(/-+$/g,"")),P()):R(!1)}()},loading:E,children:"Save"})]})]})]})})})})]})}var Jn=t(30481),Qn=t(1172),et=t(63944),nt={seo:{title:"",description:"",headCode:"",footerCode:"",Image:null},slug:"",label:"",showOnHeader:!0,showOnFooter:!1},tt=(0,ze.JV)((function(){return(0,d.jsx)(v.Z,{icon:"DragIcon",className:"w-5 h-5"})})),it=(0,ze.W8)((function(e){var n,t=e.page,i=e.last,l=e.deletePage,a=e.loading,r=e.currentPage,c=e.setCurrentPage,m=e.setOpenManagePage,x=e.onSelectPage,p=e.onDuplicate,g=e.onNestSortEnd,b=e.handleScheduleSMSModalOpen,j=e.scheduleData,y=(0,u.useState)([]),w=y[0],N=y[1];(0,u.useEffect)((function(){var e=[];["blog","parent"].includes(t.type)||e.push({attention:!1,child:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{icon:"DocumentDuplicateSolidIcon",className:"w-4 h-4 text-gray-700","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Duplicate"})]}),onClick:function(){return p(t._id)}}),t.default||e.push({attention:!0,child:(0,d.jsx)(d.Fragment,{children:a?(0,d.jsx)(be.Z,{text:"Delete"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{icon:"TrashSolidIcon",className:"w-4 h-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Delete"})]})}),onClick:function(){return l(t)}}),N(e)}),[a]);var Z=function(){var e;return j&&(null===j||void 0===j?void 0:j.existingScheduleData)&&(null===j||void 0===j||null===(e=j.existingScheduleData)||void 0===e?void 0:e.isEnabled)};return(0,d.jsxs)("li",{className:(0,f.AK)("relative z-100",(null===r||void 0===r?void 0:r.id)===t._id?"bg-indigo-50":"bg-white",!i&&"after:absolute after:left-6 after:right-6 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:[(0,d.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3 px-6",children:["nested"===t.type&&(0,d.jsx)("span",{className:"w-3 h-3 border-l border-b border-gray-300 ml-2"}),(0,d.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,d.jsx)(tt,{})}),(0,d.jsx)("div",{className:"flex-1",onClick:function(){return"parent"!==t.type&&x(t._id)},children:(0,d.jsx)("div",{className:(0,f.AK)("text-sm text-gray-700 font-medium","parent"!==t.type&&"cursor-pointer"),children:t.label})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[j&&"blog"===t.type&&(0,d.jsx)("button",{className:(0,f.AK)("flex justify-center items-center w-8 h-8 rounded",Z()&&"bg-blue-100"),onClick:b,children:(0,d.jsx)(Jn.Z,{className:(0,f.AK)("w-5 h-5",Z()?"text-blue-800":"text-gray-700"),"aria-hidden":"true"})}),(0,d.jsx)(v.Z,{icon:"CogSolidIcon",className:"w-5 h-5 text-gray-700 cursor-pointer","aria-hidden":"true",onClick:function(){c((0,f.p$)(t)),m(!0)}}),w.length>0&&(0,d.jsx)(Dn.Z,{className:"!inline-flex items-center",iconClassName:"text-gray-700",children:w.map((function(e,n){return(0,d.jsx)(h.v.Item,{as:"div",className:(0,f.AK)("flex items-center gap-2 py-2.5 px-4 cursor-pointer",e.attention?"hover:bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-700"),disabled:a,onClick:e.onClick,children:e.child},"manage-page-".concat(n))}))})]})]}),(null===(n=t.nests)||void 0===n?void 0:n.length)>0&&(0,d.jsx)("div",{className:"relative before:absolute before:left-6 before:right-6 before:top-0 before:border-b before:border-gray-200 before:z-100",children:(0,d.jsx)(lt,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",pages:t.nests,loading:a,onSortEnd:function(e){return g((0,o.Z)((0,s.Z)({},e),{idParent:t._id}))},deletePage:l,setOpenManagePage:m,currentPage:r,setCurrentPage:c,onSelectPage:x,onDuplicate:p})})]},t._id)})),lt=(0,ze.JN)((function(e){var n=e.pages,t=e.deletePage,i=e.loading,l=e.currentPage,s=e.setCurrentPage,o=e.setOpenManagePage,a=e.onSelectPage,r=e.onDuplicate,c=e.onNestSortEnd,u=e.handleScheduleSMSModalOpen,m=e.scheduleData;return(0,d.jsxs)("ul",{className:"bg-white relative z-5",children:[0===(null===n||void 0===n?void 0:n.length)&&(0,d.jsx)("li",{children:(0,d.jsx)("p",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"No page found"})}),null===n||void 0===n?void 0:n.map((function(e,v){return(0,d.jsx)(it,{last:v===n.length-1,loading:i,index:v,page:e,deletePage:t,currentPage:l,setCurrentPage:s,setOpenManagePage:o,onSelectPage:a,onDuplicate:r,onNestSortEnd:c,handleScheduleSMSModalOpen:u,scheduleData:m},"item-".concat(e._id))}))]})}));function st(e){var n=e.open,t=e.setOpen,l=e.currentPage,a=(e.isOpenCreatePage,e.setIsOpenCreatePage),m=e.isOpenManagePage,h=e.setIsOpenManagePage,p=e.onSelectPage,g=e.onCreatePage,b=e.onUpdatePage,j=e.onCreatePost,w=(0,u.useState)(!1),N=w[0],Z=w[1],k=(0,u.useState)(null),C=k[0],S=k[1],E=(0,u.useState)(l),P=E[0],T=E[1],O=(0,u.useState)(!1),B=O[0],I=O[1],F=(0,u.useState)(null),A=F[0],R=F[1],D=(0,x.Z)(),L=D.get,W=D.post,z=D.remove,H=(0,_.Z)(),V=H.confirm,M=H.ConfirmDialog,K=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return Z(!0),[4,L("/website/get-pages").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&(n=e.content.map((function(n){return"parent"===n.type&&(n.nests=e.content.filter((function(e){return e.Parent===n._id}))),n})),S(n)),Z(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,i.Z)((function(e){var n,t,i,l;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return n=e.oldIndex,t=e.newIndex,i=(0,He.q)(C.filter((function(e){return"nested"!==e.type})),n,t),l=(0,r.Z)(i).concat((0,r.Z)(C.filter((function(e){return"nested"===e.type})))),Z(!0),S(l),[4,W("/website/save-pages-order",{pages:i.map((function(e,n){return{index:n,page:e._id}}))}).catch(console.log)];case 1:return s.sent(),g({page:null,pageTemplate:null}),Z(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return n=e.idParent,t=e.oldIndex,i=e.newIndex,s=null===(l=C.find((function(e){return e._id===n})))||void 0===l?void 0:l.nests,o=(0,He.q)(s,t,i),Z(!0),a=C.map((function(e){return e._id===n&&(e.nests=o),e})),S(a),[4,W("/website/save-pages-order",{pages:o.map((function(e,n){return{index:n,page:e._id}}))}).catch(console.log)];case 1:return r.sent(),g({page:null,pageTemplate:null}),Z(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return Z(!0),[4,W("/website/duplicate-page",{idPage:e}).catch(console.log)];case 1:return(n=t.sent())&&!0===n.status&&n.content?(K(),g({page:{_id:n.content._id},pageTemplate:null})):(f.Z9.error(n.message),Z(!1)),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return Z(!0),[4,W(P._id?"/website/edit-page":"/website/create-page",P).catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content?(P._id||"parent"===P.type?b({page:{_id:P._id},pageTemplate:null}):g({page:{_id:e.content._id},pageTemplate:null}),h(!1),setTimeout((function(){return T(null)}),500),f.Z9.success("".concat("parent"!==P.type?"Page":"Folder"," saved!")),K()):(f.Z9.error("Error saving this page, please try again. "+e.message),Z(!1)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),G=function(){I(!B)};return(0,u.useEffect)((function(){n&&(C||K())}),[n,C]),(0,u.useEffect)((function(){T(l)}),[l]),(0,u.useEffect)((function(){return(0,et.Q5)(L).then((function(e){R(e)})),window.parent.addEventListener("website-builder-page-created",K),function(){window.parent.removeEventListener("website-builder-page-created",K)}}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y.u,{show:n,appear:!0,children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"z-50 fixed inset-0"})}),(0,d.jsx)("div",{className:"fixed inset-y-0 right-0 h-full z-50",children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-4",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col items-stretch h-full w-screen max-w-full bg-white shadow-xl overflow-hidden md:rounded-lg",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900",children:"Pages"}),(0,d.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return t(!1)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:C?(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(lt,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",pages:C.filter((function(e){return"nested"!==e.type})),loading:N,onSortEnd:$,onNestSortEnd:q,deletePage:function(e){V("Delete ".concat("parent"===(null===e||void 0===e?void 0:e.type)?"folder":"page"),(0,d.jsxs)("p",{children:['Are you sure you want to delete "',(0,d.jsx)("b",{children:null===e||void 0===e?void 0:e.label}),'"?']}),(0,i.Z)((function(){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return Z(!0),[4,z("/website/delete-page",{idPage:null===e||void 0===e?void 0:e._id}).catch(console.log)];case 1:return(n=t.sent())&&!0===n.status?(K(),p(null),g({page:null,pageTemplate:null})):(f.Z9.error(n.message),Z(!1)),[2]}}))})))},setOpenManagePage:h,currentPage:l,setCurrentPage:T,onSelectPage:p,onDuplicate:U,handleScheduleSMSModalOpen:G,scheduleData:A}),N&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-50",children:(0,d.jsx)(be.Z,{text:""})})]}):(0,d.jsx)("div",{className:"px-6",children:(0,d.jsx)(be.Z,{variant:"table",cols:1,rows:6})})}),(0,d.jsxs)("div",{className:"max-w-full sticky top-0 flex flex-col justify-between bg-white border-t z-10 py-1",children:[(0,d.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",onClick:function(){T(nt),a(!0)},children:[(0,d.jsx)(v.Z,{icon:"DocumentPlusIcon",className:"w-4 h-4 text-gray-700"}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:"Create page"})]}),(0,d.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",onClick:function(){T((0,o.Z)((0,s.Z)({},nt),{type:"parent"})),h(!0)},children:[(0,d.jsx)(v.Z,{icon:"FolderPlusIcon",className:"w-4 h-4 text-gray-700"}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:"Create folder"})]}),(0,d.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",onClick:function(){j(),h(!1),t(!1)},children:[(0,d.jsx)(v.Z,{icon:"DocumentTextSolidIcon",className:"w-4 h-4 text-gray-700"}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:"Create blog post"})]})]})]})})})}),(0,d.jsx)(Yn,{page:P,pages:C,save:X,loading:N,setPage:T,open:m,setOpen:h}),(0,d.jsx)(M,{attention:!0})]}),A&&(0,d.jsx)(Qn.Z,{showModal:B,showModalHandler:G,scheduleData:A,setScheduleData:R})]})}function ot(e){var n=e.open,t=e.scrolled,i=e.onPublish,l=(0,u.useState)(!1),s=l[0],o=l[1],a=(0,u.useState)(!1),r=a[0],c=a[1],m=function(e){var n=e.detail;c(null===n||void 0===n?void 0:n.active)};return(0,u.useEffect)((function(){var e=setInterval((function(){var e=document.getElementsByClassName("Toastify__toast-container");o((null===e||void 0===e?void 0:e.length)>0)}),500);return window.addEventListener("website-builder-active-block-changed",m),function(){clearInterval(e),window.removeEventListener("website-builder-active-block-changed",m)}}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(y.u.Root,{show:n&&!r,as:u.Fragment,children:(0,d.jsx)("div",{className:"fixed bottom-16 md:bottom-6 right-0 md:right-auto md:left-1/2 md:-translate-x-1/2 z-40 md:max-w-90 mb-2 mx-2 md:mb-0 md:mx-auto",children:(0,d.jsx)(y.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsxs)("div",{className:(0,f.AK)("flex items-center gap-3 py-2 px-3 border border-transparent opacity-100 transition-all duration-300",!t&&"bg-white border-gray-300 rounded-lg shadow-md",s&&"!opacity-0"),children:[(0,d.jsx)(y.u,{show:!t,as:u.Fragment,enter:"transition-opacity",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("p",{className:"text-xs md:text-sm",children:"Publish your website and get a free custom domain name"})}),(0,d.jsx)("button",{className:"primary !text-sm !rounded-3xl",onClick:i,children:"Publish"})]})})})})})}var at=t(53371),rt=t(52189),ct=t(15302),dt=t(4298),ut=t.n(dt);function mt(e){var n=e.open,t=e.setOpen,l=e.website,s=e.onSuccess,o=e.onSkip,a=(0,u.useState)(!1),r=a[0],m=a[1],h=(0,u.useState)(null),p=h[0],g=h[1],b=(0,u.useState)(null),j=b[0],Z=b[1],k=(0,u.useState)(!1),C=k[0],S=k[1],E=(0,u.useState)(null),P=E[0],T=E[1],O=(0,u.useState)(!1),B=O[0],I=O[1],_=(0,u.useState)(null),A=_[0],R=_[1],D=(0,u.useState)(!1),L=D[0],W=D[1],z=(0,u.useState)(null),H=z[0],V=z[1],M=(0,u.useState)(null),K=M[0],$=M[1],q=(0,u.useState)(!1),U=q[0],X=q[1],G=(0,x.Z)(),Y=G.get,J=G.post,Q=(0,ve.useSession)().data,ee=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Y("/custom-domain/suggestion",{websiteId:l._id})];case 1:return(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&g(e.content.map((function(e){return{domain:e}}))),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){return Z(e),S(!0),[2]}))}));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=new RegExp(/^[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm),n=new RegExp(/^[A-Za-z]/gm);return e.test(P)&&n.test(P)},ie=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return te()?(m(!0),I(!0),[4,Y("/custom-domain/check-domain",{domain:P})]):[3,3];case 1:return(null===(e=t.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&R(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.available),I(!1),[4,(0,f._v)(5e3)];case 2:t.sent(),m(!1),t.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)((function(e){var n,i;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return m(!0),[4,J("/website/toggle-status",{status:"public"})];case 1:return(n=l.sent())&&n.status?"external"!==e?[3,3]:[4,J("/website/set-primary-domain",{domainType:"external-domain"})]:[3,4];case 2:return(i=l.sent())&&!0===i.status&&i.content?(s(e),t(!1)):f.Z9.error(i.message),m(!1),[3,4];case 3:s(e),t(!1),l.label=4;case 4:return m(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Y("/entri/entri-settings")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&V({applicationId:e.content.applicationId,secret:e.content.secret,serverIp:e.content.serverIp}),[2]}}))}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,i.Z)((function(){var e,n,t,i;return(0,c.__generator)(this,(function(l){return(null===Q||void 0===Q||null===(e=Q.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.priceId)&&"free"!==(null===Q||void 0===Q||null===(t=Q.user)||void 0===t||null===(i=t.plan)||void 0===i?void 0:i.priceId)?(m(!0),fetch("https://api.goentri.com/token",{method:"POST",body:JSON.stringify({applicationId:H.applicationId,secret:H.secret})}).then((function(e){return e.json()})).then((function(e){$({applicationId:H.applicationId,token:e.auth_token,supportForSubdomains:!1,dnsRecords:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:"websites.mydurable.com",host:"www",ttl:3600,type:"CNAME",fallbackValue:"",priority:null},{value:"172.66.0.42",host:"@",ttl:3600,type:"A",fallbackValue:"",priority:null}]})})).catch((function(e){console.error("Error:",e)})),[2]):(X(!0),[2])}))}));return function(){return e.apply(this,arguments)}}();function ae(e){return re.apply(this,arguments)}function re(){return(re=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(i){return m(!0),e.detail.success?(n=e.detail.domain.replace("www.","").toLowerCase(),J("/website/set-primary-domain",{domainType:"external-domain",domain:n}).then((function(e){(null===e||void 0===e?void 0:e.status)?(f.Z9.success("Domain has been set successfully"),s("external"),t(!1)):f.Z9.error(e.message)})).catch((function(e){f.Z9.error(e.message)})).finally((function(){m(!1)}))):m(!1),[2]}))}))).apply(this,arguments)}return(0,u.useEffect)((function(){K&&(m(!0),window.entri.showEntri(K))}),[K]),(0,u.useEffect)((function(){return n&&l&&(ee(),m(!1),I(!1),se(),window.addEventListener("onEntriClose",ae,{once:!0})),function(){window.removeEventListener("onEntriClose",ae,{once:!0})}}),[n,l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ut(),{src:"https://cdn.goentri.com/entri.js"}),(0,d.jsx)(at.Z,{context:"external_domain",open:U,setOpen:X}),(0,d.jsx)(y.u.Root,{show:n,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return t(!1)},children:(0,d.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-lg md:rounded-lg text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle md:max-w-lg",children:[(0,d.jsxs)("div",{className:"flex items-center p-4 lg:p-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Domain"}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return t(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"p-4 md:p-6",children:[l&&!(null===l||void 0===l?void 0:l.customDomain)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsx)("p",{className:"font-gray-900 font-semibold ",children:"Get your custom domain name"}),(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[!p&&(0,d.jsx)("div",{className:"flex bg-gray-50 p-4 rounded-lg justify-center",children:(0,d.jsx)(be.Z,{text:"We're getting some suggestions for you, please wait!",className:"mt-0"})}),p&&(null===p||void 0===p?void 0:p.map((function(e){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"bg-green-50 p-2 px-4 flex justify-between items-center rounded-lg",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-start gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(v.Z,{className:"w-6 h-6 z-20 relative text-green-600",icon:"CheckCircleIcon"}),(0,d.jsxs)("p",{className:"text-sm text-gray-900 font-semibold break-word",children:[" ",e.domain]})]}),(0,d.jsxs)("p",{className:"flex md:hidden items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 h-fit rounded-3xl bg-green-100",children:[(0,d.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Available"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"md:flex hidden items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 h-fit rounded-3xl bg-green-100",children:[(0,d.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Available"]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)("button",{className:"primary sm whitespace-nowrap",onClick:function(){return ne(e.domain)},disabled:r,children:"Get it"})})]})]},e.domain)})})))]}),(0,d.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,d.jsxs)("div",{className:"flex-1 relative",children:[(0,d.jsx)("span",{className:"absolute top-0 z-10 pl-2.5 py-2",children:(0,d.jsx)(v.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,d.jsx)(N.Z,{onChange:function(e){T(e),R(null)},error:!te()&&P&&""!==P?"Invalid domain format. Follow this format (test-domain.com or testdomain.com)":"",className:"flex-1 w-full md:w-auto",inputClassName:"!pl-9 !py-2 md:!py-2.5",placeholder:"Looking for a domain? check availability here."})]}),(0,d.jsx)(F.Z,{className:"secondary",onClick:function(){return ie()},disabled:r||!te(),loading:r,loadingText:"Wait",children:"Search"})]}),!1===A&&(0,d.jsxs)("div",{className:"bg-red-50 p-2 px-4 flex flex-col md:flex-row justify-between md:items-center rounded-lg",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"w-4 h-4"}),(0,d.jsxs)("p",{className:"text-sm text-gray-900 font-semibold",children:[" ",P]})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)("p",{className:"flex items-center gap-2 text-xs text-red-800 px-2.5 py-0.5 h-fit rounded-3xl bg-red-100",children:[(0,d.jsx)("span",{className:"w-1 h-1 rounded-full bg-red-400"})," Unavailable"]})})]}),B&&(0,d.jsx)("div",{className:"flex bg-gray-50 p-4 rounded-lg justify-center",children:(0,d.jsx)(be.Z,{className:"mt-0"})}),!0===A&&(0,d.jsxs)("div",{className:"bg-green-50 p-2 px-4 flex justify-between items-center rounded-lg",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-start gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(v.Z,{className:"w-6 h-6 z-20 relative text-green-600",icon:"CheckCircleIcon"}),(0,d.jsxs)("p",{className:"text-sm text-gray-900 font-semibold",children:[" ",P]})]}),(0,d.jsxs)("p",{className:"flex md:hidden items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 h-fit rounded-3xl bg-green-100",children:[(0,d.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Available"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"md:flex hidden items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 h-fit rounded-3xl bg-green-100",children:[(0,d.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Available"]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)("button",{className:"primary sm",onClick:function(){return ne(P)},disabled:r,children:"Get it"})})]})]})]}),(0,d.jsx)("hr",{className:"!my-4 md:!my-6"})]}),l&&!(null===l||void 0===l?void 0:l.externalDomain)&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsx)("p",{className:"font-gray-900 font-semibold",children:"Use an existing domain name"}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center bg-gray-50 rounded-lg p-4 gap-4 justify-between",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["If you already own your domain, you can link it to Durable. ",(0,d.jsx)(Ie(),{href:"https://durable.gorgias.help/en-US/how-to-add-or-link-a-custom-domain-name-190485",children:(0,d.jsx)("a",{className:"link",target:"_blank",children:"Learn more"})})]}),(0,d.jsx)("div",{children:(0,d.jsx)(F.Z,{loading:r,className:"primary sm whitespace-nowrap",onClick:function(){return oe()},disabled:r,children:"Link domain"})})]})]})})]}),(0,d.jsx)("div",{className:"flex justify-end gap-3 p-4 lg:px-6 border-t border-gray-200",children:(0,d.jsx)(F.Z,{className:"secondary",onClick:function(){o(),t(!1)},loading:r,children:"Skip for now"})})]})}),(0,d.jsx)(rt.Z,{setOpen:S,open:C,domain:j,onSuccess:function(){return le("custom")}}),(0,d.jsx)(ct.Z,{setOpen:W,open:L,domain:j,redirect:!1,onSuccess:function(){return le("external")}})]})})})]})}var vt,xt=t(11215),ht=t(84526),ft=t(19435),pt=function(e){var n=e.open,t=e.setOpen,i=e.onUpgrade,l=e.onGoToWebsite;return(0,d.jsx)(ft.u,{title:"Website link generated",Button:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(F.Z,{className:"secondary",onClick:i,children:"Upgrade plan"}),(0,d.jsx)(F.Z,{className:"primary",onClick:l,children:"Go to website"})]}),open:n,setOpen:t,children:(0,d.jsxs)("p",{className:"md:max-w-[480px]",children:["This is a temporary link to view your website. It will expire after 24 hours. Upgrade to a ",(0,d.jsx)("a",{className:"link",onClick:i,children:"Durable plan"})," in order to permanently publish your website."]})})},gt=t(72665),bt=t(87423);function jt(e){var n=e.open,t=e.setOpen,i=e.onCreatePage,l=e.onCreatePost,s=e.closeManagePagesModal,o=(0,f.ac)("(min-width: 1024px)"),a=(0,bt.Z)({url:"/website/get-page-templates"}),r=a.data,c=a.request,m=(0,bt.Z)({url:"/website/create-page-template",method:"post",onSuccess:function(e){i(e,o)},onError:function(e){f.Z9.error("Error saving this page, please try again. "+e,{autoClose:!0})}}),x=m.request,h=m.isLoading;return(0,u.useEffect)((function(){c()}),[]),(0,d.jsx)(ft.u,{open:n,setOpen:t,title:"Add page",isLoading:h,loaderText:"Generating page...",contentClassName:"md:!pr-3",children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5",children:r?r.map((function(e,n){var i=e.name,o=e.description,a=e.type;return(0,d.jsxs)("div",{className:"h-full p-5 bg-white border border-gray-200 rounded-lg shadow ring-0 ring-indigo-200 cursor-pointer transition-all hover:border-indigo-600 active:ring-4",onClick:function(){return function(e){"website-post"===e?(l(),t(!1)):(s(),x({template:e}))}(a)},children:[(0,d.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold mb-2",children:i}),(0,d.jsx)("p",{className:"text-gray-500",children:o})]}),(0,d.jsxs)("button",{className:"link inline-flex items-center gap-0.5",children:[(0,d.jsx)(v.Z,{icon:"PlusSolidIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Add"})]})]}),(0,d.jsx)("div",{className:"relative w-full h-[200px] pointer-events-none",children:(0,d.jsx)(j(),{unoptimized:!0,className:"rounded-lg",src:(0,f.sd)("new-templates/".concat(a,".svg")),alt:i,layout:"fill",objectFit:"cover"})})]},"page-template-".concat(a,"-").concat(n))})):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,d.jsx)(be.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"})]})})})}function yt(e){var n=e.open,t=e.setOpen,l=e.onSelect,s=(0,u.useState)((0,f.tl)("business.config")),o=s[0],a=s[1],r=(0,u.useState)(!1),m=r[0],h=r[1],p=(0,u.useState)(""),g=p[0],b=p[1],j=(0,u.useState)(null),Z=j[0],k=j[1],C=(0,u.useState)(null),S=C[0],E=C[1],P=(0,u.useState)(!1),T=P[0],O=P[1],B=(0,u.useState)(0),I=B[0],_=B[1],A=(0,x.Z)(),R=A.get,D=A.post,L=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,R("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,f.Fs)("business.config",e.content),a(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,s,a,r,d,u,m,v,x,f;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return o?(h(!0),O(!1),v=(null===o||void 0===o||null===(e=o.business)||void 0===e||null===(n=e.type)||void 0===n?void 0:n.Type)&&"other"!==(null===o||void 0===o||null===(t=o.business)||void 0===t||null===(i=t.type)||void 0===i||null===(l=i.Type)||void 0===l||null===(s=l.name)||void 0===s?void 0:s.toLowerCase())?null===o||void 0===o||null===(d=o.business)||void 0===d||null===(u=d.type)||void 0===u||null===(m=u.Type)||void 0===m?void 0:m.queryTerm:null===o||void 0===o||null===(a=o.business)||void 0===a||null===(r=a.type)||void 0===r?void 0:r.name,[4,D("/ai/generate",{prompt:"website-post-subjects",data:{vertical:v,quantity:8},stream:!1})]):[3,2];case 1:(x=c.sent())&&!0===x.status&&x.content?((f=x.content.map((function(e){return{subject:e}}))).unshift({subject:"Create from scratch",blank:!0}),k(f),E(f)):O(!0),h(!1),c.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),z=function(e){if(null!==e){var n=window.document.getElementById("suggested-post-".concat(e));n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}},H=function(e){h(!0),e.blank?l():l(e.subject)};return(0,u.useEffect)((function(){return O(!1),clearTimeout(vt),vt=setTimeout((function(){""!==g?(_(0),E([{subject:g},{subject:"Create from scratch",blank:!0}])):E(Z)}),750),function(){clearTimeout(vt)}}),[g]),(0,u.useEffect)((function(){n?W():(b(""),_(0),O(!1),h(!1),E(null))}),[n,o]),(0,u.useEffect)((function(){o||L()}),[]),(0,d.jsx)(y.u,{show:n,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return!m&&t(!1)},static:!1,children:(0,d.jsxs)("div",{className:"flex items-start justify-center h-full lg:p-4",style:{maxHeight:"-webkit-fill-available"},children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 ",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-white bg-opacity-40 backdrop-blur-sm transition-opacity"})}),(0,d.jsx)("span",{className:"hidden lg:inline-block lg:align-middle lg:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300 delay-100",enterFrom:"opacity-0 scale-90 translate-y-10",enterTo:"opacity-100 scale-100 traslate-y-0",leave:"ease-in duration-300",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-90 translate-y-10",children:(0,d.jsxs)("div",{className:"w-full h-full lg:h-auto lg:max-w-xl px-4 lg:px-0 bg-white lg:bg-transparent lg:mt-[10vh] transform transition-all overflow-hidden lg:overflow-visible",children:[(0,d.jsx)("div",{className:"flex lg:hidden justify-end py-4",children:(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400",onClick:function(){return!m&&t(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})}),(0,d.jsxs)("div",{className:"flex-1 relative mb-8 lg:mb-3",children:[(0,d.jsx)("span",{className:"absolute top-1/2 z-10 left-5 -translate-y-1/2",children:(0,d.jsx)(v.Z,{icon:"BoltIcon",className:"w-6 h-6"})}),(0,d.jsx)(N.Z,{className:"w-full",inputClassName:"!px-14 !py-5.5 !text-body !font-semibold !border-1.5 !border-transparent !rounded-xl !shadow-xl focus:!border-indigo-500 focus:ring-4 focus:!ring-opacity-40",placeholder:"Write a blog post about",size:120,value:g,disabled:m,onChange:function(e){return b(e)},onKeyUp:function(e){if(!(S&&S.length>0))return e;40===e.keyCode?_((function(e){var n=e>=S.length-1?0:e+1;return z(n),n})):38===e.keyCode?_((function(e){var n=e<=0?S.length-1:e-1;return z(n),n})):13===e.keyCode&&null!==I&&H(S[I])}}),g&&!m&&(0,d.jsx)("button",{type:"button",className:"absolute top-1/2 right-5 z-10 -translate-y-1/2",onClick:function(){return b("")},children:(0,d.jsx)(v.Z,{icon:"XCircleSolidIcon",className:"w-6 h-6 text-gray-400"})}),m&&(0,d.jsx)(be.Z,{className:"absolute top-1/2 right-5 z-10 -translate-y-1/2",text:""})]}),(0,d.jsxs)(y.u.Child,{as:"div",enter:"ease-out duration-300 delay-500",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",className:"relative z-10 lg:rounded-2xl lg:bg-white lg:shadow-xl",children:[(null===S||void 0===S?void 0:S.length)>0&&!T&&(0,d.jsx)("div",{className:"flex flex-col gap-2 lg:max-h-63 lg:p-4 overflow-auto no-scrollbar",children:null===S||void 0===S?void 0:S.map((function(e,n){return(0,d.jsxs)(F.Z,{id:"suggested-post-".concat(n),className:(0,f.AK)("flex items-center justify-between gap-3 px-6 py-5 rounded-xl bg-gray-50 text-indigo-600 transition-all",I===n&&"lg:!bg-indigo-50"),onClick:function(){return H(e)},onMouseMove:function(){return _(n)},children:[(0,d.jsx)("span",{className:"text-left text-sm font-medium",children:e.subject}),(0,d.jsx)(v.Z,{icon:"ArrowSmallRightIcon",className:"w-4 h-4 flex-shrink-0"})]},"suggested-post-".concat(n))}))}),T&&!m&&(0,d.jsx)("div",{className:"lg:p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-2.5 p-4 bg-red-50 rounded-md",children:[(0,d.jsx)(v.Z,{icon:"ExclamationIcon",className:"w-4 h-4 mt-1 text-red-800 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-red-800 text-sm",children:!0!==T?T:"Error: Unable to process your request. Please check your input and try again. If the problem persists, please contact support for further assistance."})]})})]})]})})]})})})}var wt=t(83098),Nt=t(79454),Zt=t(9459),kt=t(43714);function Ct(e){var n,t=e.open,l=e.setOpen,s=e.block,o=e.refreshWidget,a=(0,_.Z)(),r=a.confirm,m=a.ConfirmDialog,x=(0,u.useState)(!1),h=x[0],f=x[1],p=function(e){var n,t,i;"COMMONNINJA_EDITOR_STATE_CHANGED"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.type)&&!(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.saved)&&(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.widgetId)?f(!0):f(!1)};return(0,u.useEffect)((function(){return s&&window.addEventListener("message",p),function(){s&&window.removeEventListener("message",p)}}),[s]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{confirmText:"Discard",attention:!0}),(0,d.jsx)(y.u.Root,{show:t,as:u.Fragment,children:(0,d.jsx)("div",{className:"fixed z-100 inset-0 overflow-y-auto",children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg md:my-8 w-full md:w-5/6 text-left overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center py-6 px-6 border-b border-gray-200",children:[(0,d.jsxs)("h3",{className:"text-lg text-center leading-6 font-medium text-gray-900",children:["Configure ",(null===s||void 0===s||null===(n=s.WebsiteBlock)||void 0===n?void 0:n.name)||""]}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return function(){var e;h?r("Discard changes?","Are you sure you want to close without saving the ".concat(null===s||void 0===s||null===(e=s.WebsiteBlock)||void 0===e?void 0:e.name,"? Any unsaved changes will be discarded."),(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return o(null===s||void 0===s?void 0:s.externalId),l(!1),[2]}))}))):(o(null===s||void 0===s?void 0:s.externalId),l(!1))}()},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsx)("div",{className:"flex flex-col gap-4 ",children:(0,d.jsx)("iframe",{className:"w-full min-h-180",src:null===s||void 0===s?void 0:s.editorUrl})})]})})]})})})]})}var St={horizontalAlign:["logo-slider"],fullWidth:["business-hours"]};function Et(e){var n,t,i,l,a,r,c=e.open,m=e.setOpen,v=e.block,x=e.setBlock,h=e.rtl,b=e.setRtl,y=e.loading,w=(e.onSave,e.changeHistory,e.website),N=e.editWidget,Z=(0,u.useState)(null),k=Z[0],C=Z[1],P=function(){m(!1)};return(0,d.jsxs)(A,{title:(null===v||void 0===v||null===(n=v.WebsiteBlock)||void 0===n?void 0:n.name)||"Edit section",open:c,rtl:h,setRtl:b,edit:k,setEdit:C,loading:y,hiddenTabs:["Colors","Divider style"],onClose:P,children:[(0,d.jsx)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"w-full h-80 relative mb-4 rounded-md overflow-hidden",children:(0,d.jsx)(j(),{layout:"fill",alt:"Widget preview",unoptimized:!0,src:null===v||void 0===v||null===(t=v.WebsiteBlock)||void 0===t?void 0:t.previewUrl})}),(0,d.jsxs)(F.Z,{onClick:function(){return N(v)},className:"primary w-full",children:["Configure ",null===v||void 0===v||null===(i=v.WebsiteBlock)||void 0===i?void 0:i.name]})]})}),(0,d.jsxs)(p.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(L._u,{className:"pb-6",website:w,block:v,onEdit:function(){return C("Colors")}}),(0,d.jsx)(E.Xd,{className:"py-6",block:v,setBlock:x}),(0,d.jsx)(W.iy,{className:"py-6",block:v,setBlock:x,website:w}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)(S.Z,{className:"pb-6",block:v,setBlock:function(e){return x((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))},horizontalAlign:!(null===St||void 0===St?void 0:St.horizontalAlign.includes(null===v||void 0===v||null===(l=v.WebsiteBlock)||void 0===l?void 0:l.type)),verticalAlign:!0}),!(null===St||void 0===St?void 0:St.fullWidth.includes(null===v||void 0===v||null===(a=v.WebsiteBlock)||void 0===a?void 0:a.type))&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Width"}),(0,d.jsxs)(g.E,{className:"flex items-center",value:(null===v||void 0===v||null===(r=v.fullWidth)||void 0===r?void 0:r.toString())||"false",onChange:function(e){return x((0,o.Z)((0,s.Z)({},v),{fullWidth:"true"===e.toLowerCase()}))},children:[(0,d.jsx)(g.E.Option,{value:"false",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-l-lg transition-all text-label font-medium"),children:"Inset"})}}),(0,d.jsx)(g.E.Option,{value:"true",children:function(e){var n=e.checked;return(0,d.jsx)("div",{className:(0,f.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-r-lg transition-all text-label font-medium"),children:"Full width"})}})]})]})]}),(0,d.jsx)(q,{className:"py-6",block:v,setBlock:x,onEdit:function(){return C("Divider style")}}),(0,d.jsx)(Q,{className:"py-6",block:v,setBlock:x})]}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(L.px,{website:w,block:v,setBlock:x,onTryPalette:P})}),(0,d.jsx)(p.O.Panel,{unmount:!1,children:(0,d.jsx)(q,{block:v,setBlock:x,isEditing:!0})})]})}var Pt=[{id:"recommended",name:"Recommended"},{id:"most_popular",name:"Most popular"}],Tt={term:"",sortBy:"recommended"};function Ot(e){var n=e.open,t=e.setOpen,l=e.onSelect,a=(0,u.useState)([]),r=a[0],m=a[1],h=(0,u.useState)([]),p=h[0],g=h[1],b=(0,u.useState)(Tt),Z=b[0],k=b[1],C=(0,u.useRef)(null),S=(0,x.Z)(),E=S.get,P=S.post,T=function(e,n){var t;return e.source===n.source?"most_popular"===(null===Z||void 0===Z?void 0:Z.sortBy)?(null===n||void 0===n?void 0:n.usage)-(null===e||void 0===e?void 0:e.usage):null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.localeCompare(null===n||void 0===n?void 0:n.name):"durable"===e.source?-1:1},O=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,E("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&(m(e.content),g(e.content.sort(T))),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){g(r.filter((function(e){return e.name.toLowerCase().includes(null===Z||void 0===Z?void 0:Z.term.toLowerCase())})).sort(T))}),[Z]);return(0,u.useEffect)((function(){return n&&O(),function(){k(Tt)}}),[n]),(0,d.jsx)(y.u.Root,{show:n,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-110 inset-0",initialFocus:C,onClose:function(){return t(!1)},children:(0,d.jsxs)("div",{className:"flex md:block items-end justify-center min-h-screen text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white md:rounded-lg rounded-t-lg w-full md:max-w-md lg:max-w-3xl mt-8 xl:mt-0 text-left overflow-hidden shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 md:py-5 md:px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Add section"}),(0,d.jsx)("button",{type:"button",className:"text-gray-600 transition-all hover:text-gray-400",onClick:function(){return t(!1)},children:(0,d.jsx)(v.Z,{icon:"XSolidIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex gap-4 justify-between px-4 md:px-6 pt-4 pb-3.5",children:[(0,d.jsxs)("div",{className:"w-full md:w-60 relative",children:[(0,d.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,d.jsx)(v.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,d.jsx)(N.Z,{ref:C,inputClassName:"!pl-9",value:null===Z||void 0===Z?void 0:Z.term,onChange:function(e){return k((0,o.Z)((0,s.Z)({},Z),{term:e}))},placeholder:"Search"})]}),(0,d.jsx)(te.Z,{className:"w-full md:w-40",value:Pt.find((function(e){return e.id===(null===Z||void 0===Z?void 0:Z.sortBy)}))||Pt[0],values:Pt,onChange:function(e){return k((0,o.Z)((0,s.Z)({},Z),{sortBy:e.id}))}})]}),(0,d.jsxs)("div",{style:{gridTemplateRows:"auto auto 1fr"},className:"grid lg:grid-cols-2 md:grid-cols-1 gap-4 max-h-120 md:max-h-90 lg:max-h-90 xl:max-h-120 pt-0.5 pb-6 px-4 md:px-6 lg:pr-3 overflow-y-scroll",children:[0===r.length&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(be.Z,{variant:"list"}),(0,d.jsx)(be.Z,{variant:"list"}),(0,d.jsx)(be.Z,{variant:"list"})]}),(null===r||void 0===r?void 0:r.length)>0&&0===p.length&&(0,d.jsx)("p",{className:"text-sm font-normal text-black-500",children:"No block found."}),p.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})).map((function(e){return(0,d.jsxs)("div",{className:"group flex items-center h-32 gap-4 border border-gray-300 p-4 rounded-md ring-0 ring-indigo-700 cursor-pointer transition-all hover:ring-1 hover:border-indigo-700 hover:shadow-md",onClick:function(){return P("/website/track-block-usage",{blockId:(n=e)._id}).catch(console.log),void l(n);var n},children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm mb-1 font-semibold group-hover:text-indigo-700",children:e.name}),(0,d.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(null===e||void 0===e?void 0:e.source)&&"durable"!==e.source?(0,d.jsx)("p",{className:"inline-block px-2.5 py-0.5 text-xs font-medium capitalize rounded-full bg-gray-100 text-gray-800",children:(null===e||void 0===e?void 0:e.source)?"By ".concat(e.source.replaceAll("-"," ")):"durable"}):(0,d.jsx)("p",{className:"inline-block px-2.5 py-0.5 text-xs font-medium capitalize rounded-full bg-indigo-100 text-indigo-800",children:(null===e||void 0===e?void 0:e.source)?"By ".concat(e.source):"durable"})]}),(0,d.jsx)("div",{className:"flex-shrink-0 self-center relative w-[80px] h-[80px]",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,d.jsx)(j(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,d.jsx)(j(),{unoptimized:!0,className:"rounded",src:(0,f.sd)("new-blocks/".concat(e.type,".svg")),objectFit:"cover",height:80,width:80,alt:e.name})})]},e._id)}))]})]})]})})]})})})}var Bt=[{id:"recommended",name:"Recommended"},{id:"most_popular",name:"Most popular"}];function It(e){var n=e.open,t=e.setOpen,l=e.onSelect,a=e.widgets,r={term:"",sortBy:"recommended"},m=(0,u.useState)([]),h=m[0],p=m[1],g=(0,u.useState)([]),b=g[0],Z=g[1],k=(0,x.Z)(),C=k.get,S=k.post,E=(0,u.useState)(!1),P=E[0],T=E[1],O=(0,u.useState)(r),B=O[0],I=O[1],F=function(e,n){var t;return e.source===n.source?"most_popular"===(null===B||void 0===B?void 0:B.sortBy)?(null===n||void 0===n?void 0:n.usage)-(null===e||void 0===e?void 0:e.usage):null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.localeCompare(null===n||void 0===n?void 0:n.name):"durable"===e.source?-1:1},_=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return T(!0),[4,C("/website/get-blocks",{category:"widget"}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((null===a||void 0===a?void 0:a.length)>0?(n=e.content.filter((function(e){return!(null===a||void 0===a?void 0:a.some((function(n){return n.type==e.type})))})),p(n),Z(n.sort(F))):(p(e.content),Z(e.content.sort(F)))),T(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){Z(h.filter((function(e){return e.name.toLowerCase().includes(null===B||void 0===B?void 0:B.term.toLowerCase())})).sort(F))}),[B]);return(0,u.useEffect)((function(){return n&&_(),function(){I(r)}}),[n]),(0,d.jsx)(y.u.Root,{show:n,as:u.Fragment,children:(0,d.jsx)(w.V,{as:"div",className:"fixed z-120 inset-0 overflow-y-auto",onClose:function(){return t(!1)},children:(0,d.jsxs)("div",{className:"flex items-end justify-center text-center md:block h-full md:p-4",style:{maxHeight:"-webkit-fill-available"},children:[(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(w.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white md:rounded-lg rounded-t-lg lg:max-w-3xl md:max-w-md w-full text-left font-sans overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6 py-6 px-6 border-b border-gray-200",children:[(0,d.jsx)(w.V.Title,{className:"font-bold text-gray-900",children:"Widgets"}),(0,d.jsx)("button",{type:"button",className:"text-gray-600 hover:text-gray-400",onClick:function(){return t(!1)},children:(0,d.jsx)(v.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsxs)("div",{className:"flex gap-4 justify-between px-6",children:[(0,d.jsxs)("div",{className:"w-full md:w-60 relative",children:[(0,d.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,d.jsx)(v.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,d.jsx)(N.Z,{inputClassName:"!pl-9",value:null===B||void 0===B?void 0:B.term,onChange:function(e){return I((0,o.Z)((0,s.Z)({},B),{term:e}))},placeholder:"Search"})]}),(0,d.jsx)(te.Z,{className:"w-full md:w-40",value:Bt.find((function(e){return e.id===(null===B||void 0===B?void 0:B.sortBy)}))||Bt[0],values:Bt,onChange:function(e){return I((0,o.Z)((0,s.Z)({},B),{sortBy:e.id}))}})]}),(0,d.jsxs)("div",{style:{gridTemplateRows:"auto auto 1fr"},className:"grid lg:grid-cols-2 md:grid-cols-1 gap-4 max-h-120 md:min-h-120 pb-6 px-6 md:pr-3 overflow-y-scroll",children:[P&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(be.Z,{variant:"list"}),(0,d.jsx)(be.Z,{variant:"list"}),(0,d.jsx)(be.Z,{variant:"list"})]}),!P&&0===b.length&&(0,d.jsx)("p",{className:"text-sm font-normal text-black-500",children:"No block found."}),!P&&b.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})).map((function(e){return(0,d.jsxs)("div",{className:"group flex h-32 gap-4 border border-gray-300 p-4 rounded-md hover:bg-indigo-50 hover:border-indigo-600 cursor-pointer",onClick:function(){return S("/website/track-block-usage",{blockId:(n=e)._id}).catch(console.log),void l(n);var n},children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm mb-1 font-medium group-hover:text-indigo-600",children:e.name}),(0,d.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(null===e||void 0===e?void 0:e.source)&&"durable"!==e.source?(0,d.jsx)("span",{className:"px-2 inline-flex text-label-xs leading-5 font-medium capitalize rounded-full bg-gray-100 text-gray-800",children:(null===e||void 0===e?void 0:e.source)?"By ".concat(e.source.replaceAll("-"," ")):"durable"}):(0,d.jsx)("span",{className:"px-2 inline-flex text-label-xs leading-5 font-medium capitalize rounded-full bg-indigo-100 text-indigo-800",children:(null===e||void 0===e?void 0:e.source)?"By ".concat(e.source):"durable"})]}),(0,d.jsx)("div",{className:"flex-shrink-0 self-center relative w-[80px] h-[80px]",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,d.jsx)(j(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,d.jsx)(j(),{unoptimized:!0,className:"rounded",src:(0,f.sd)("new-blocks/".concat(e.type,".svg")),objectFit:"cover",height:80,width:80,alt:e.name})})]},e._id)}))]})]})]})})]})})})}var Ft=t(24285),_t=t(60887),At=t(45587);function Rt(e){var n=e.open,t=e.setOpen,i=e.widgets,l=e.editWidget,a=e.addWidget,r=e.deleteWidget,c=e.sortWidgets;i=i.map((function(e){return(0,o.Z)((0,s.Z)({},e),{id:null===e||void 0===e?void 0:e.externalId})}));var m=(0,_t.Dy)((0,_t.VT)(_t.we),(0,_t.VT)(_t.Lg,{coordinateGetter:At.is}));return(0,u.useEffect)((function(){0===(null===i||void 0===i?void 0:i.length)&&t(!1)}),[i]),(0,d.jsx)(y.u,{show:n,appear:!0,children:(0,d.jsx)("div",{className:"builder-panel right-0",children:(0,d.jsx)("div",{className:"relative h-full md:max-w-100 md:p-2",children:(0,d.jsx)(y.u.Child,{as:u.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900",children:"Widgets"}),(0,d.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:function(){t(!1)},children:"Done"})]}),(0,d.jsxs)("div",{className:"w-full px-4 md:px-6 py-6",children:[(0,d.jsx)(_t.LB,{sensors:m,collisionDetection:_t.pE,onDragEnd:function(e){if(i){var n=e.active,t=e.over;if(n.id!==t.id){var l=i.findIndex((function(e){return e.externalId===n.id})),s=i.findIndex((function(e){return e.externalId===t.id})),o=(0,At.Rp)((0,f.p$)(i),l,s);c(o)}}},children:(0,d.jsx)(At.Fo,{items:i||[],strategy:At.qw,children:null===i||void 0===i?void 0:i.map((function(e,n){var t,s,o,a;return(0,d.jsxs)(Lt,{id:e.externalId,last:i.length-1===n,children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 self-center relative w-10 h-10",children:(0,d.jsx)(j(),{unoptimized:!0,className:"rounded",src:null===e||void 0===e||null===(t=e.WebsiteBlock)||void 0===t?void 0:t.previewUrl,layout:"fill",alt:null===e||void 0===e||null===(s=e.WebsiteBlock)||void 0===s?void 0:s.name})}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("p",{className:"text-gray-700 text-sm font-medium",children:null===e||void 0===e||null===(o=e.WebsiteBlock)||void 0===o?void 0:o.name}),(0,d.jsx)("p",{className:"text-gray-500 text-xs capitalize",children:"By ".concat(null===e||void 0===e||null===(a=e.WebsiteBlock)||void 0===a?void 0:a.source.replaceAll("-"," "))})]})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)(v.Z,{onClick:function(){return l(e)},icon:"PencilIcon",from:"heroicons",className:"h-5 w-5 text-indigo-700 cursor-pointer transition-all hover:text-indigo-500","aria-hidden":"true"}),(0,d.jsx)(v.Z,{onClick:function(){return n=null===e||void 0===e?void 0:e.externalId,void r(n);var n},icon:"TrashIcon",from:"heroicons",className:"h-5 w-5 text-red-700 cursor-pointer transition-all hover:text-red-500","aria-hidden":"true"})]})]},e.externalId)}))})}),(0,d.jsx)("div",{className:"w-full flex justify-end pt-2",children:(0,d.jsxs)("button",{className:"link inline-flex items-center gap-2 py-2",onClick:function(){a(),t(!1)},children:[(0,d.jsx)("span",{className:"text-sm",children:"Add widget"}),(0,d.jsx)(v.Z,{icon:"PlusSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})})]})]})})})})})}var Dt,Lt=function(e){var n=(0,At.nB)({id:e.id}),t=n.attributes,i=n.listeners,l=n.setNodeRef,a=n.transform,r=n.transition,c={transform:Ft.ux.Transform.toString(a),transition:r};return(0,d.jsx)("div",{ref:l,style:c,children:(0,d.jsxs)("div",{className:(0,f.AK)("flex gap-2 items-center py-3",!e.last&&"border-b border-gray-200"),children:[(0,d.jsx)("button",(0,o.Z)((0,s.Z)({},t,i),{children:(0,d.jsx)(v.Z,{icon:"DragIcon",className:"h-5 w-5","aria-hidden":"true"})})),(0,d.jsx)("div",{className:"flex justify-between items-center flex-1",children:e.children})]})})},Wt=t(26688),zt=t(83454),Ht=!0;function Vt(){var e,n,t,p,g,b,j=function(e,n){n||(n=se.find((function(e){return e.id===J.id})));var t=n&&(null===n||void 0===n?void 0:n.blocks)?(0,f.p$)(n.blocks):null;if(t){var l=t.shift(),s=t.pop();e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,ti("/website/save-header-and-footer-blocks",{idPage:n.id,header:l,footer:s})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,ti("/website/save-social",{social:$})];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})));var o=t;e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,ti("/website/save-blocks",{idPage:n.id,blocks:o})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})))}return n},y=(0,u.useState)(!1),w=y[0],N=y[1],Z=(0,u.useState)(!1),k=Z[0],C=Z[1],S=(0,u.useState)(!1),P=S[0],T=S[1],O=(0,u.useState)(!1),B=O[0],I=O[1],A=(0,u.useState)((0,f.tl)("business.config")),R=(A[0],A[1]),D=(0,u.useState)((0,f.tl)("website")),W=D[0],z=D[1],H=(0,u.useState)((0,f.tl)("pages")),V=H[0],M=H[1],K=(0,a.Z)((0,Oe.Z)("website-social",{}),2),$=K[0],q=K[1],U=(0,u.useState)(!0),X=U[0],G=U[1],Y=(0,u.useState)(V?V[0]:null),J=Y[0],Q=Y[1],ee=(0,u.useState)("desktop"),te=ee[0],ie=ee[1],le=(0,u.useState)([]),se=le[0],oe=le[1],ae=(0,u.useState)(null),re=ae[0],ce=ae[1],de=(0,u.useState)(!1),ue=de[0],me=de[1],xe=(0,u.useState)(!1),he=xe[0],pe=xe[1],ge=(0,u.useState)(!1),je=ge[0],ye=ge[1],we=(0,u.useState)(!1),Ne=we[0],Ze=we[1],Se=(0,u.useState)(!1),Te=Se[0],Be=Se[1],Ae=(0,u.useState)(!1),Re=Ae[0],Le=Ae[1],We=(0,u.useState)(!1),ze=We[0],He=We[1],Ve=(0,u.useState)(!1),Me=Ve[0],$e=Ve[1],qe=(0,u.useState)(!1),Ue=qe[0],Ge=qe[1],Ye=(0,u.useState)({}),Je=Ye[0],Qe=Ye[1],en=(0,f.ac)("(min-width: 1024px)"),nn=(0,f.ac)("(min-width: 860px)"),tn=(0,f.ac)("(max-width: 859px)"),ln=(0,u.useState)(!1),on=ln[0],an=ln[1],rn=(0,u.useState)(!1),cn=rn[0],un=rn[1],mn=(0,u.useState)(!1),vn=mn[0],xn=mn[1],hn=(0,u.useState)(!1),gn=hn[0],Nn=hn[1],Zn=(0,u.useState)(!1),kn=Zn[0],Cn=Zn[1],Sn=(0,u.useState)(!1),Pn=Sn[0],In=Sn[1],Fn=(0,u.useState)(null),An=Fn[0],Ln=Fn[1],Wn=(0,u.useState)(!1),zn=Wn[0],Hn=Wn[1],Vn=(0,u.useState)(!1),Mn=Vn[0],Kn=Vn[1],$n=(0,u.useState)(!1),qn=$n[0],Un=$n[1],Gn=(0,u.useState)(!1),Yn=Gn[0],Jn=Gn[1],Qn=(0,u.useState)(!1),et=Qn[0],nt=Qn[1],tt=(0,u.useState)(null),it=tt[0],lt=tt[1],rt=(0,u.useState)(0),ct=rt[0],dt=rt[1],ut=(0,u.useState)(0),vt=ut[0],ft=ut[1],bt=(0,u.useState)(!1),St=bt[0],Pt=bt[1],Tt=(0,u.useState)(!1),Bt=Tt[0],Ft=Tt[1],_t=(0,u.useState)(!1),At=_t[0],Lt=_t[1],Ht=(0,u.useState)("Generating..."),Vt=Ht[0],Mt=Ht[1],Kt=(0,u.useState)([]),$t=Kt[0],qt=Kt[1],Ut=(0,ve.useSession)().data,Xt=(0,wt.Z)(it),Gt=Xt.generateBlock,Yt=Xt.chooseTemplate,Jt=Xt.generateLoadingLabel,Qt=(0,m.useRouter)(),ei=(0,x.Z)(),ni=ei.get,ti=ei.post,ii=(ei.remove,(0,_.Z)()),li=ii.confirm,si=ii.ConfirmDialog,oi=(0,_.Z)(),ai=oi.confirm,ri=oi.ConfirmDialog,ci=(0,_.Z)(),di=ci.confirm,ui=ci.ConfirmDialog,mi=(0,_.Z)(),vi=mi.confirm,xi=mi.ConfirmDialog,hi=(0,_.Z)(),fi=hi.confirm,pi=hi.ConfirmDialog,gi=(0,Wt.Z)(),bi=gi.confirm,ji=gi.ConfirmDialog,yi=(0,u.useRef)(null),wi=(0,xt.Z)().isUserAwaitingWebsite,Ni=(0,Zt.Z)(),Zi=Ni.actionEnum,ki=Ni.actionMethods,Ci=Ni.setCustomActionMethodBulk,Si=(0,u.useState)(""),Ei=Si[0],Pi=Si[1],Ti=(0,u.useState)(0),Oi=Ti[0],Bi=Ti[1],Ii=(0,u.useState)(!1),Fi=Ii[0],_i=Ii[1],Ai=(0,u.useState)(!1),Ri=Ai[0],Di=Ai[1],Li=(0,u.useState)(!1),Wi=Li[0],zi=Li[1],Hi=(0,u.useState)(!1),Vi=Hi[0],Mi=Hi[1],Ki=(0,u.useState)(null===(e=Qt.query)||void 0===e?void 0:e.routerAction),$i=Ki[0],qi=Ki[1],Ui=(0,u.useState)(!1),Xi=Ui[0],Gi=Ui[1],Yi=(0,u.useState)({website:{},page:{},selectedPageId:null}),Ji=Yi[0],Qi=Yi[1],el=!tn&&!en&&"mobile"===te||en&&"desktop"!==te,nl=[{device:"desktop",icon:"ComputerDesktopIcon",label:"Desktop",canView:en},{device:"tablet",icon:"DeviceTabletIcon",label:"Tablet",canView:nn},{device:"mobile",icon:"DeviceMobileIcon",label:"Phone",canView:!0}],tl=(0,kt.Z)().track,il=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,ni("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,f.Fs)("business.config",e.content),R(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ll=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,a,r,d,u,m,v,x,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return[4,ni("/website/get",{populate:!0,withOfficeLocation:!0})];case 1:return(e=c.sent())&&!0===e.status&&e.content?(lt((0,o.Z)((0,s.Z)({},e.content),{business:{name:null===(n=e.content)||void 0===n||null===(t=n.Business)||void 0===t?void 0:t.name,vertical:null===(i=e.content)||void 0===i||null===(l=i.Business)||void 0===l||null===(a=l.type)||void 0===a?void 0:a.name,location:(null===(r=e.content)||void 0===r||null===(d=r.completeLocation)||void 0===d?void 0:d.city)&&(null===(u=e.content)||void 0===u||null===(m=u.completeLocation)||void 0===m?void 0:m.state)?"".concat(e.content.completeLocation.city,", ").concat(e.content.completeLocation.state):(null===(v=e.content)||void 0===v||null===(x=v.completeLocation)||void 0===x?void 0:x.country)||"United States"}})),"disabled"!==e.content.status?[3,3]:[4,Qt.push("/website/settings")]):[3,5];case 2:return c.sent(),[3,4];case 3:wi()&&xn(!0),cn&&!vn&&sl(),c.label=4;case 4:return h=e.content,(0,f.Fs)("website",h),z(h),Qi((function(e){return(0,o.Z)((0,s.Z)({},e),{website:h})})),[2,h];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),sl=function(){var e=(0,i.Z)((function(e){var n,t,i,l;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return N(!0),[4,ni("/website/get-pages").catch(console.log)];case 1:return(n=s.sent())&&!0===n.status&&n.content?(t=n.content.map((function(e){return{id:e._id,Parent:e.Parent,name:e.label,slug:e.slug,showOnFooter:e.showOnFooter,showOnHeader:e.showOnHeader,type:e.type,hasPosts:e.hasPosts}})),(0,f.Fs)("pages",t),M(t),i=n.content.map((function(e){return{id:e._id,slug:e.slug,blocks:e.blocks,type:e.type}})),oe(i),e?(Q(t.find((function(n){return n.id===e}))),pl(i.find((function(n){return n.id===e})))):((l=n.content.find((function(e){return e.default&&null===e.slug})))||(l=n.content.find((function(e){return"parent"!==e.type}))),Q(t.find((function(e){return e.id===l._id}))),pl(i.find((function(e){return e.id===l._id})))),N(!1),[2,{pagesMapped:i,pages:t}]):[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ol=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return[4,ti("/website/add-external-block",{block:e,websiteId:W._id})];case 1:return(n=o.sent())&&!0===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.content)&&(e.editorUrl=null===(t=n.content)||void 0===t?void 0:t.editorUrl,e.embedCode=null===(i=n.content)||void 0===i?void 0:i.embedCode,e.externalId=null===(l=n.content)||void 0===l?void 0:l.externalId,"common-ninja"===(null===(s=n.content)||void 0===s?void 0:s.source)&&(Mi(!0),ce(e))),[2,e]}}))}));return function(n){return e.apply(this,arguments)}}(),al=function(){var e;"active"!==(null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.subscriptionStatus)?an(!0):"public"!==(null===W||void 0===W?void 0:W.status)&&ye(!0)},rl=function(){var e;"active"!==(null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.subscriptionStatus)?Nn(!0):cl()},cl=function(){var e,n,t;Nn(!1);var i="active"!==(null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.subscriptionStatus)||"private"===(null===W||void 0===W?void 0:W.status)?"?pt=".concat(Tl()):"";window.open("".concat((null===W||void 0===W?void 0:W.sslCertificate)||"active"===(null===(n=W.cloudflare)||void 0===n||null===(t=n.ssl)||void 0===t?void 0:t.status)?"https://"+(null===W||void 0===W?void 0:W.domain):"http://"+((null===W||void 0===W?void 0:W.subdomain)+(0,f.lz)())).concat(i),"_blank")},dl=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,ll().then((function(e){"public"===(null===e||void 0===e?void 0:e.status)&&((null===e||void 0===e?void 0:e.externalDomain)||(null===e||void 0===e?void 0:e.customDomain))&&li("Website published!",(0,d.jsxs)(d.Fragment,{children:[(null===e||void 0===e?void 0:e.externalDomain)&&(0,d.jsxs)("div",{children:["Your custom domain name ",(0,d.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.externalDomain})," will be ready soon. This process usually takes around 15 minutes but can take up to a few hours."]}),(null===e||void 0===e?void 0:e.customDomain)&&(0,d.jsxs)("div",{children:["Your linked domain ",(0,d.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.customDomain})," will be ready soon. You'll need to change your DNS records with your registrar to complete this process. ",(0,d.jsx)(Ie(),{href:"https://durable.gorgias.help/en-US/how-to-add-or-link-a-custom-domain-name-190485",children:(0,d.jsx)("a",{className:"link",target:"_blank",children:"Learn more"})})]})]}))}))];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ul=(function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return j(e=[]),N(!0),[4,ul(e)];case 1:return n.sent()&&(f.Z9.success("Website is live!"),N(!1),C(!1),me(!1)),[2]}}))}))}(),function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a,r;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:n=!0,t=!1,i=void 0,c.label=1;case 1:c.trys.push([1,9,10,11]),l=e[Symbol.iterator](),c.label=2;case 2:if(n=(s=l.next()).done)return[3,8];o=s.value,c.label=3;case 3:return c.trys.push([3,6,,7]),[4,o()];case 4:return c.sent(),[4,(0,f._v)(250)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),f.Z9.error("Error while saving your website! Try again later."+a),N(!1),[2,!1];case 7:return n=!0,[3,2];case 8:return[3,11];case 9:return r=c.sent(),t=!0,i=r,[3,11];case 10:try{n||null==l.return||l.return()}finally{if(t)throw i}return[7];case 11:return[2,!0]}}))}));return function(n){return e.apply(this,arguments)}}()),ml=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return N(!0),e=(0,s.Z)({},An),An._id&&(e=(0,o.Z)((0,s.Z)({},e),{Author:An.Author._id||An.Author})),[4,ti(An._id?"/website/edit-post":"/website/create-post",e)];case 1:return!0===(null===(n=t.sent())||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.content)?(f.Z9.success("Post settings saved!"),C(!1),Hn(!1),window.dispatchEvent(new CustomEvent("website-builder-post-saved",{detail:n.content}))):f.Z9.error("Error while saving your post!"+n.message),N(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),vl=function(){var e=(0,i.Z)((function(e){var n,t,l,s;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return e=j(l=[],e),s={favicon:W.favicon,fonts:W.fonts,button:W.button,idTemplate:null===e||void 0===e||null===(n=e.template)||void 0===n?void 0:n.id,idWebsite:null===e||void 0===e||null===(t=e.template)||void 0===t?void 0:t.idWebsite,widgets:W.widgets,animation:W.animation,cornerRadius:W.cornerRadius},W.noPaletteSupport||(s.buttons=W.buttons,s.palette=W.colorPalette),l.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,ti("/website/save",s)];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),N(!0),[4,ul(l)];case 1:return o.sent()&&("public"===W.status?f.Z9.success("Website is live!"):f.Z9.success("Website saved!"),pe(!1),ye(!1),N(!1),Ze(!1),zi(!1),me(!1),Qi({website:(0,f.p$)(W),page:(0,f.p$)(e),selectedPageId:null===e||void 0===e?void 0:e.id})),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),xl=function(){k?vi("Discard changes and exit?","Are you sure you want to exit the editor without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return Qt.push("/website/design"),[2]}))}))):Qt.push("/website/design")},hl=function(){fi("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){return e=(0,f.p$)(Ji.website),n=(0,f.p$)(Ji.page),z(e),gl(n),wl(e),jl({settings:null===e||void 0===e?void 0:e.socialSettings,items:Array.isArray(e.social)?e.social:[]}),Sl(e.widgets),Ze(!1),zi(!1),me(!1),[2]}))})))},fl=function(e){T(!e)},pl=function(e){window.websitePage=(0,f.p$)(e),window.dispatchEvent(new CustomEvent("website-builder-page-changed")),setTimeout((function(e){window.websitePage=(0,f.p$)(e),window.dispatchEvent(new CustomEvent("website-builder-page-changed"))}),500,e)},gl=function(e){for(var n=0;n<e.blocks.length;n++)e.blocks[n].idx=n;var t=(0,f.p$)(se),i=t.findIndex((function(n){return n.id===e.id})),l=!0,s=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(l=(a=r.next()).done);l=!0){var c=a.value;c.blocks[0]=e.blocks[0],c.blocks[c.blocks.length-1]=e.blocks[e.blocks.length-1]}}catch(d){s=!0,o=d}finally{try{l||null==r.return||r.return()}finally{if(s)throw o}}-1!==i&&(t[i]=(0,f.p$)(e),oe(t)),pl(e)},bl=(0,u.useCallback)((function(e){var n;if("disabled"===(null===zt||void 0===zt||null===(n=zt.env)||void 0===n?void 0:"production")){var t=(0,f.p$)(se).find((function(e){return e.id===(null===J||void 0===J?void 0:J.id)}));t&&Qe((function(n){try{var i=(0,f.p$)(n),l=i[null===J||void 0===J?void 0:J.id];if(l||(l=[]),l.length>=99&&l.shift(),e){var s=t.blocks.findIndex((function(n){return n.idx===e.idx}));-1!==s&&(t.blocks[s]=e)}return JSON.stringify(l[l.length-1])!==JSON.stringify(t)?i[null===J||void 0===J?void 0:J.id]=(0,r.Z)(l).concat([t]):i[null===J||void 0===J?void 0:J.id]=(0,r.Z)(l),i}catch(o){return n}}))}}),[se,J]),jl=function(e){window.social=e.items,window.socialSettings=e.settings,z((function(n){return(0,o.Z)((0,s.Z)({},n),{social:e.items,socialSettings:e.settings})})),window.dispatchEvent(new CustomEvent("website-builder-social-changed"))},yl=function(){switch(te){case"desktop":case"desktopSmall":return(0,d.jsx)(v.Z,{icon:"ComputerDesktopIcon",className:"h-5 w-5"});case"tablet":return(0,d.jsx)(v.Z,{icon:"DeviceTabletIcon",className:"h-5 w-5"});case"tabletRotate":return(0,d.jsx)(v.Z,{icon:"DeviceTabletIcon",className:"h-5 w-5 rotate-90"});case"mobile":return(0,d.jsx)(v.Z,{icon:"DevicePhoneMobileIcon",className:"h-5 w-5"});case"mobileRotate":return(0,d.jsx)(v.Z,{icon:"DevicePhoneMobileIcon",className:"h-5 w-5 rotate-90"})}},wl=function(e){var n={favicon:e.favicon,fonts:e.fonts,button:e.button,buttons:e.buttons,colorPalette:e.colorPalette,animation:e.animation,cornerRadius:e.cornerRadius};window.styles=n,e.migratePalette&&(n.noPaletteSupport=!1,n.migratePalette=!0),z((function(e){return(0,s.Z)({},e,n)})),window.dispatchEvent(new CustomEvent("website-builder-styles-changed"))},Nl=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,sl(e)];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Zl=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return n=e.page,e.pageTemplate,[4,sl(null===n||void 0===n?void 0:n._id)];case 1:return t.sent(),window.dispatchEvent(new CustomEvent("website-builder-changed")),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),kl=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,ni("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&qt(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Cl=function(){var e=(0,i.Z)((function(e){var n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return _i(!1),void 0===(t=(0,f.p$)(window.websitePage)).blocks&&(t.blocks=[]),e={type:e.type,idx:Oi,WebsiteBlock:e,generating:!0},t.blocks.splice(Oi,0,e),t.addBlockPosition=Oi,"durable"!==(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source)?[3,2]:(gl(t),[4,Gt(e)]);case 1:return i.sent(),[3,4];case 2:return[4,ol(e)];case 3:i.sent(),i.label=4;case 4:return delete e.generating,t.blocks[e.idx]=e,t.clearGenerating=!0,gl(t),bl(),window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Sl=function(e){window.commonNinjaWidgets=e,window.dispatchEvent(new CustomEvent("handle-widgets-change"))},El=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return N(!0),Di(!1),e={type:e.type,idx:Oi,WebsiteBlock:e,generating:!0},[4,ol(e)];case 1:return n.sent(),z((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?(0,r.Z)(n.widgets).concat([e]):[e];return Sl(t),(0,o.Z)((0,s.Z)({},n),{widgets:t})})),N(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Pl=function(){var e=(0,i.Z)((function(e,n,t){var i,l,s;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return l=(0,f.p$)(window.websitePage),"durable"!==(null===e||void 0===e||null===(i=e.WebsiteBlock)||void 0===i?void 0:i.source)?[3,2]:[4,Gt(e,n,t)];case 1:return o.sent(),[3,3];case 2:e=n,o.label=3;case 3:return s=l.blocks[e.idx],l.blocks[e.idx]=e,l.blocks[e.idx+1]=s,l.clearGenerating=!0,gl(l),bl(),window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),[2,l]}}))}));return function(n,t,i){return e.apply(this,arguments)}}(),Tl=function(){var e=En.ou.now().toSeconds(),n="".concat(null===W||void 0===W?void 0:W._id,":").concat(e,":preview");return(0,ht.btoa)(n)},Ol=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a,r,d,u,m,v=arguments;return(0,c.__generator)(this,(function(x){switch(x.label){case 0:n=v.length>1&&void 0!==v[1]&&v[1],I(n),t=(0,f.p$)(window.websitePage),gl(t),i=1,ft(e.blocks.length),l=!0,s=!1,o=void 0,x.label=1;case 1:x.trys.push([1,6,7,8]),a=function(){var e,n;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return e=d.value,dt(i),n={type:e.type,WebsiteBlock:$t.find((function(n){var t;return n.type===(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.type)})),idx:i},[4,Jt(n)];case 1:return Mt.apply(void 0,[l.sent()]),[4,Pl(n,e)];case 2:return t=l.sent(),i++,[2]}}))},r=e.blocks[Symbol.iterator](),x.label=2;case 2:return(l=(d=r.next()).done)?[3,5]:[5,(0,c.__values)(a())];case 3:x.sent(),x.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return u=x.sent(),s=!0,o=u,[3,8];case 7:try{l||null==r.return||r.return()}finally{if(s)throw o}return[7];case 8:return Pt(!0),ft(0),dt(0),n?[4,vl(t)]:[3,11];case 9:return x.sent(),[4,sl(t.id)];case 10:m=x.sent().pagesMapped,Ml(t.id,m),x.label=11;case 11:return[4,Qt.replace("/website/builder",null,{shallow:!1})];case 12:return x.sent(),I(!1),Mt(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Bl=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,s,o,a,r,d,u,m,v,x,h;return(0,c.__generator)(this,(function(p){switch(p.label){case 0:return Ft(!0),"true"===(null===Qt||void 0===Qt||null===(e=Qt.query)||void 0===e?void 0:e.regenerate)&&I(!0),t=(0,f.p$)(window.websitePage),i=null,t.slug?((i={}).blocks=t.blocks.filter((function(e){return null===e||void 0===e?void 0:e.type})),[3,3]):[3,1];case 1:return[4,Yt()];case 2:i=p.sent(),p.label=3;case 3:return l=t.blocks[0],s=t.blocks[t.blocks.length-1],t.slug?[3,6]:[4,Gt(l)];case 4:return p.sent(),[4,Gt(s)];case 5:p.sent(),(l.socialSettings||s.socialSettings)&&jl({items:null===W||void 0===W?void 0:W.social,settings:l.socialSettings||s.socialSettings}),p.label=6;case 6:t.blocks=[l,s],gl(t),o=1,ft(i.blocks.length),a=!0,r=!1,d=void 0,p.label=7;case 7:p.trys.push([7,12,13,14]),u=function(){var e,n;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return e=v.value,dt(o-1),n={type:e.type,WebsiteBlock:$t.find((function(n){return n.type===e.WebsiteBlock.type})),idx:o},Mt(Jt(n)),[4,Pl(n,e,"block")];case 1:return t=i.sent(),o++,[2]}}))},m=i.blocks[Symbol.iterator](),p.label=8;case 8:return(a=(v=m.next()).done)?[3,11]:[5,(0,c.__values)(u())];case 9:p.sent(),p.label=10;case 10:return a=!0,[3,8];case 11:return[3,14];case 12:return x=p.sent(),r=!0,d=x,[3,14];case 13:try{a||null==m.return||m.return()}finally{if(r)throw d}return[7];case 14:return Pt(!0),ft(0),dt(0),"true"!==(null===Qt||void 0===Qt||null===(n=Qt.query)||void 0===n?void 0:n.regenerate)?[3,17]:[4,vl(t)];case 15:return p.sent(),[4,sl(t.id)];case 16:h=p.sent().pagesMapped,Ml(t.id,h),p.label=17;case 17:return[4,Qt.replace("/website/builder",null,{shallow:!1})];case 18:return p.sent(),I(!1),sessionStorage.removeItem("awaitingWebsites"),Ft(!1),un(!1),tl("website:page-regenerated",{slug:t.slug,id:t._id}),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Il=function(e){var n,t,i,l,s,o,a,r;83===(null===e||void 0===e?void 0:e.keyCode)&&"INPUT"!==(null===e||void 0===e||null===(n=e.target)||void 0===n||null===(t=n.tagName)||void 0===t?void 0:t.toUpperCase())&&"INPUT"!==(null===e||void 0===e||null===(i=e.target)||void 0===i||null===(l=i.nodeName)||void 0===l?void 0:l.toUpperCase())&&"TEXTAREA"!==(null===e||void 0===e||null===(s=e.target)||void 0===s||null===(o=s.tagName)||void 0===o?void 0:o.toUpperCase())&&"TEXTAREA"!==(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.nodeName)||void 0===r?void 0:r.toUpperCase())&&In(!0)},Fl=function(){var e=(0,i.Z)((function(e){var n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return n=e.page,t=e.pageTemplate,n&&t?(He(!1),[4,Nl(null===n||void 0===n?void 0:n._id)]):[3,3];case 1:return i.sent(),[4,Ol(t,!0)];case 2:i.sent(),Q(n),i.label=3;case 3:return sessionStorage.removeItem("awaitingWebsites"),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),_l=function(){var e=(0,i.Z)((function(e){var n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return e?[3,3]:(n=null===se||void 0===se?void 0:se.find((function(e){return null===e.slug})),Q(n),gl(n),(null===n||void 0===n?void 0:n.id)?[4,sl(null===n||void 0===n?void 0:n.id)]:[3,2]);case 1:i.sent(),i.label=2;case 2:return[3,4];case 3:t=null===V||void 0===V?void 0:V.find((function(n){return n.id===e})),Q(t),gl(null===se||void 0===se?void 0:se.find((function(n){return n.id===e}))),Be(!1),"blog"!==(null===t||void 0===t?void 0:t.type)&&(Ln(null),Un(!1)),i.label=4;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Al=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return"blog"===(null===J||void 0===J?void 0:J.type)?[3,5]:(n=null===V||void 0===V?void 0:V.find((function(e){return"blog"===e.type})))?(Q(n),gl(null===se||void 0===se?void 0:se.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}))),[3,5]):[3,1];case 1:return[4,ti("/website/create-page",{slug:"blog",label:"Blog",showOnHeader:!0,type:"blog",seo:{title:"Blog"}}).catch(console.log)];case 2:return(t=l.sent())&&!0===t.status&&t.content?(i=t.content._id,[4,sl(i)]):[3,4];case 3:return l.sent(),window.dispatchEvent(new CustomEvent("website-builder-page-created")),[3,5];case 4:f.Z9.error("Error creating the blog page, please try again. "+t.message),l.label=5;case 5:return setTimeout((function(){window.websitePost={title:e,status:"new"},window.dispatchEvent(new CustomEvent("website-builder-post-changed"))}),500),Kn(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Rl=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){if("common-ninja"===(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source))ce(e),Mi(!0);return[2]}))}));return function(n){return e.apply(this,arguments)}}(),Dl=function(){Jn(!0)},Ll=function(){nt(!0)},Wl=function(){Gi(!0),Ze(!0)},zl=function(){Pi("social"),window.editBlock("header")};Ci((b={},(0,l.Z)(b,Zi.IN_EDITOR_WEBSITE_PAGE_REGENERATE,[function(){bi("Regenerate page?","Are you sure you want to regenerate this page?","All content, styles, and details for this page will be lost.","regenerate",(function(){return Bl(),!0}))}]),(0,l.Z)(b,Zi.IN_EDITOR_BLOG_POST_CREATE,[function(){Kn(!0)},{dirty:k,save:vl}]),(0,l.Z)(b,Zi.IN_EDITOR_CREATE_NEW_PAGE,[function(){Be(!0),He(!0)},{dirty:k,save:vl}]),(0,l.Z)(b,Zi.IN_EDITOR_PUBLISH_WEBSITE,[function(){al()}]),(0,l.Z)(b,Zi.IN_EDITOR_EDIT_SOCIAL_LINKS,[zl]),(0,l.Z)(b,Zi.IN_EDITOR_EDIT_FONT_PAIRINGS,[function(e){Pi(e),Ze(!0)},"fonts"]),(0,l.Z)(b,Zi.IN_EDITOR_EDIT_BUTTON_STYLE,[function(e){Pi(e),Ze(!0)},"button_style"]),(0,l.Z)(b,Zi.IN_EDITOR_EDIT_FAVICON,[function(e){Pi(e),Ze(!0)},"favicon"]),(0,l.Z)(b,Zi.IN_EDITOR_EDIT_HEADER_LOGO,[function(){Pi("logo"),window.editBlock("header")}]),b));var Hl=function(){ue&&me(!1),Ne&&Ze(!1),Wi&&zi(!1)},Vl=function(e,n){switch(e.stopPropagation(),me(!1),n){case"style":Ze(!0),zi(!1);break;case"widget":var t;Ze(!1),(null===W||void 0===W?void 0:W.widgets)&&0!==(null===W||void 0===W||null===(t=W.widgets)||void 0===t?void 0:t.length)?zi(!0):Di(!0)}},Ml=function(e,n){var t=n.find((function(n){return n.id===e}));if(t){(0,f.$K)(t.type)||delete t.type;for(var i=0;i<t.blocks.length;i++)t.blocks[i].idx=i;Qi((function(n){return(0,o.Z)((0,s.Z)({},n),{page:(0,f.p$)(t),selectedPageId:e})}))}},Kl=function(e){var n=e.className;return(0,d.jsxs)("button",{className:(0,f.AK)("flex-shrink-0 light icon",n),disabled:w,onClick:xl,children:[(0,d.jsx)(v.Z,{icon:"ChevronLeftIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{className:"hidden md:inline-block",children:"Exit"})]})},$l=function(){return(0,d.jsx)("button",{className:"flex-shrink-0 secondary",disabled:w,onClick:hl,children:"Discard"})},ql=function(){return(0,d.jsx)(F.Z,{className:"flex-shrink-0 primary",disabled:!k||B||P,loading:w,onClick:function(){return vl()},children:"Save"})},Ul=function(){return(0,d.jsx)("nav",{className:(0,f.AK)("sticky left-0 bottom-0 z-50 md:hidden w-full bg-white border-t border-gray-300","blog"===(null===J||void 0===J?void 0:J.type)&&"!hidden"),children:(0,d.jsxs)("div",{className:"grid grid-cols-4 justify-between max-w-120 mx-auto",children:[(0,d.jsxs)(F.Z,{className:"light transparent flex-col gap-1 !rounded-none",disabled:w||cn,loading:cn,onClick:function(){return In(!0)},children:[(0,d.jsx)(v.Z,{icon:"BoltIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Assistant"})]}),(0,d.jsxs)("button",{className:(0,f.AK)("light transparent flex-col gap-1 !rounded-none",Ne&&"!bg-gray-100"),disabled:w||cn,onClick:function(){return Ze(!0)},children:[(0,d.jsx)(v.Z,{icon:"StyleIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Theme"})]}),(0,d.jsxs)("button",{className:(0,f.AK)("light transparent flex-col gap-1 !rounded-none",Wi&&"!bg-gray-100"),disabled:w||cn,onClick:function(e){return Vl(e,"widget")},children:[(0,d.jsx)(v.Z,{icon:"SquaresPlusIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Widgets"})]}),(0,d.jsx)(Ie(),{href:"https://durable.gorgias.help/en-US",children:(0,d.jsxs)("a",{className:(0,f.AK)("button light transparent flex-col gap-1 !rounded-none",(w||cn)&&"disabled pointer-events-none"),target:"_blank",children:[(0,d.jsx)(v.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Help"})]})})]})})};return(0,u.useEffect)((function(){0!==vt&&ct<vt?Lt(!0):0===vt&&Lt(!1)}),[ct,vt]),(0,u.useEffect)((function(){if(clearTimeout(Dt),re)return Dt=setTimeout((function(){var e;if("section"===(null===re||void 0===re||null===(e=re.WebsiteBlock)||void 0===e?void 0:e.category)){var n=window.websitePage;"header"===re.WebsiteBlock.type?n.blocks[0]=re:"footer"===re.WebsiteBlock.type?n.blocks[n.blocks.length-1]=re:n.blocks[re.idx]=re,gl(n),window.scrollToBlock=re.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block"))}}),200),function(){clearTimeout(Dt)}}),[re]),(0,u.useEffect)((function(){if(clearTimeout(Dt),An)return window.websitePost||(window.websitePost=An,window.dispatchEvent(new CustomEvent("website-builder-post-changed"))),Dt=setTimeout((function(){window.websitePost=An,window.dispatchEvent(new CustomEvent("website-builder-post-changed"))}),200),function(){clearTimeout(undefined)}}),[An]),(0,u.useEffect)((function(){ie(en?"desktop":nn?"tablet":"mobile")}),[en,nn]),(0,u.useEffect)((function(){return window.click=function(){Hl()},window.scrolled=function(e){Ge(e)},window.changePage=function(e){gl(e)},window.reloadPages=function(){sl(null===J||void 0===J?void 0:J.id)},window.activeBlock=function(e){window.dispatchEvent(new CustomEvent("website-builder-active-block-changed",{detail:{active:e}}))},window.addBlock=function(e){Bi(e),_i(!0)},window.editBlock=function(e){if(window.websitePage){if("header"===e){var n=window.websitePage.blocks.find((function(e){return"header"===e.WebsiteBlock.type}));ce(n)}else if("footer"===e){var t=window.websitePage.blocks.find((function(e){return"footer"===e.WebsiteBlock.type}));ce(t)}else if("blog"===e){var i=window.websitePage.blocks.find((function(e){return"blog"===e.WebsiteBlock.type}));ce(i)}else{var l=window.websitePage.blocks[e];l.idx=e,ce(l)}me(!0)}},window.deleteBlock=function(e){di("Delete section?","Are you sure you want to delete this section?",(0,i.Z)((function(){var n;return(0,c.__generator)(this,(function(t){return(n=window.websitePage).blocks.splice(e,1),gl(n),bl(),[2]}))})))},window.duplicateBlock=function(e){var n=window.websitePage,t=(0,f.p$)(n.blocks[e]);n.blocks.splice(e,0,t),gl(n),bl()},window.moveBlock=function(){var e=(0,i.Z)((function(e,n){var t,i;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return t=window.websitePage,i=(0,f.p$)(t.blocks[e]),t.blocks.splice(e,1),t.blocks.splice(e+n,0,i),[4,gl(t)];case 1:return l.sent(),bl(),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.regenerateBlock=function(){var e=(0,i.Z)((function(e,n){var t,i,l,s;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return l=(0,f.p$)(e),s=(0,f.p$)(window.websitePage),[4,Gt(e,l,n)];case 1:return o.sent(),s.blocks[e.idx]=e,s.clearGenerating=!0,gl(s),"header"!==e.WebsiteBlock.type&&"footer"!==e.WebsiteBlock.type||!e.socialSettings||jl({items:null===W||void 0===W?void 0:W.social,settings:e.socialSettings}),(null===e||void 0===e||null===(t=e.spacing)||void 0===t?void 0:t.minHeight)!==(null===l||void 0===l||null===(i=l.spacing)||void 0===i?void 0:i.minHeight)&&(window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block"))),tl("website:block-regenerated",{type:e.WebsiteBlock.type}),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.createPost=function(){Kn(!0)},window.editPost=function(e){Un(e)},window.settingsPost=function(e){Ln(e),Hn(!0)},window.deletePost=function(e){di("Delete blog post?",(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to delete the blog post ",(0,d.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"?"]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-delete-post",{detail:{idPost:e._id}}))}))},window.dirtyPost=function(){fi("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(function(){window.dispatchEvent(new CustomEvent("website-builder-discard-post"))}))},window.regeneratePost=function(e){ai("Regenerate blog post?",(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to regenerate the blog post ",(0,d.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"? The current blog post will be deleted and all content and media will be lost."]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-regenerate-post"))}))},function(){window.click=void 0,window.scrolled=void 0,window.changePage=void 0,window.reloadPages=void 0,window.activeBlock=void 0,window.addBlock=void 0,window.editBlock=void 0,window.deleteBlock=void 0,window.duplicateBlock=void 0,window.moveBlock=void 0,window.regenerateBlock=void 0,window.createPost=void 0,window.editPost=void 0,window.settingsPost=void 0,window.deletePost=void 0,window.dirtyPost=void 0}}),[gl]),(0,u.useEffect)((function(){W&&(q({settings:null===W||void 0===W?void 0:W.socialSettings,items:Array.isArray(W.social)?W.social:[]}),"public"===(null===W||void 0===W?void 0:W.status)||(null===W||void 0===W?void 0:W.customDomain)&&(null===W||void 0===W?void 0:W.externalDomain)||$e(!0))}),[W]),(0,u.useEffect)((function(){window.dispatchEvent(new CustomEvent("website-builder-page-changed"))}),[V]),(0,u.useEffect)((function(){var e,n,t,i,l,s,o=!1;"publish"===(null===Qt||void 0===Qt||null===(e=Qt.query)||void 0===e?void 0:e.open)?("active"!==(null===Ut||void 0===Ut||null===(s=Ut.user)||void 0===s?void 0:s.subscriptionStatus)||!W||(null===W||void 0===W?void 0:W.customDomain)&&(null===W||void 0===W?void 0:W.externalDomain)||ye(!0),o=!0):"view"===(null===Qt||void 0===Qt||null===(n=Qt.query)||void 0===n?void 0:n.open)?(rl(),o=!0):"settings"===(null===Qt||void 0===Qt||null===(t=Qt.query)||void 0===t?void 0:t.open)?(Ze(!0),o=!0):"page"===(null===Qt||void 0===Qt||null===(i=Qt.query)||void 0===i?void 0:i.create)?(Be(!0),He(!0),o=!0):"folder"===(null===Qt||void 0===Qt||null===(l=Qt.query)||void 0===l?void 0:l.create)&&(Be(!0),He("folder"),o=!0);o&&Qt.replace("/website/builder",null,{shallow:!1})}),[Qt,Ut,W]),(0,u.useEffect)((function(){var e;"trialing"===(null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.subscriptionStatus)&&$e(!0)}),[Ut]),(0,u.useEffect)((function(){$e(!cn&&!k&&!je&&!he&&"public"!==(null===W||void 0===W?void 0:W.status)&&(!(null===W||void 0===W?void 0:W.customDomain)||!(null===W||void 0===W?void 0:W.externalDomain)))}),[cn,k,je,he,W]),(0,u.useEffect)((function(){cn&&(xn(!1),yi.current=setTimeout((function(){return ll()}),3e3))}),[cn]),(0,u.useEffect)((function(){k?$e(!1):"public"===(null===W||void 0===W?void 0:W.status)||(null===W||void 0===W?void 0:W.customDomain)&&(null===W||void 0===W?void 0:W.externalDomain)||$e(!0)}),[k]),(0,u.useEffect)((function(){var e,n=window.websitePage;n&&J&&null==n.slug&&"true"===(null===Qt||void 0===Qt||null===(e=Qt.query)||void 0===e?void 0:e.regenerate)&&(null===it||void 0===it?void 0:it.business)&&!St&&!Bt&&(null===$t||void 0===$t?void 0:$t.length)>0&&W&&(Lt(!0),Pt(!0),setTimeout((function(){Bl()}),2e3))}),[window.websitePage,J,it,$t,W]),(0,u.useEffect)((function(){return sl(),il(),ll(),kl(),window.addEventListener("keyup",Il),window.addEventListener("openManagePostImage",Dl),window.addEventListener("openManagePostVideo",Ll),window.addEventListener("tryPalette",Wl),function(){window.removeEventListener("keyup",Il),window.removeEventListener("openManagePostImage",Dl),window.removeEventListener("openManagePostVideo",Ll),window.removeEventListener("tryPalette",Wl),yi.current&&clearTimeout(yi.current)}}),[]),(0,u.useEffect)((function(){(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return $i?((e={createBlogPost:function(){return Kn(!0)},addSocialLinks:zl})[$i]&&e[$i](),qi(null),[4,Qt.push("/website/builder",null,{shallow:!0})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}),[$i,window.websitePage]),(0,u.useEffect)((function(){window.openManage=ue||Ne||Wi,window.websitePage&&gl(window.websitePage),Xi&&!Ne&&Gi(!1)}),[ue,Ne,Wi]),(0,u.useEffect)((function(){(null===se||void 0===se?void 0:se.length)>0&&J&&(null===Ji||void 0===Ji?void 0:Ji.selectedPageId)!==(null===J||void 0===J?void 0:J.id)&&Ml(J.id,se)}),[se,J,Ji]),(0,u.useEffect)((function(){if(W&&(null===se||void 0===se?void 0:se.length)>0&&J&&(null===Ji||void 0===Ji?void 0:Ji.website)&&(null===Ji||void 0===Ji?void 0:Ji.page)){var e=se.find((function(e){return e.id===J.id})),n={website:W,page:e,selectedPageId:J.id};JSON.stringify(Ji)===JSON.stringify(n)?C(!1):C(!0)}}),[W,se,J,Ji]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(at.Z,{context:"publish_website",open:on,setOpen:an,canClose:!0}),(0,d.jsxs)(_n(),{children:[(0,d.jsx)("title",{children:"Website builder - Durable"}),(0,d.jsx)("meta",{name:"description",content:"Durable for your business"}),(0,d.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,d.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),kn&&(0,d.jsx)("script",{defer:!0,id:"gorgias-chat-widget-install-v2",src:"https://config.gorgias.chat/gorgias-chat-bundle-loader.js?applicationId=26986"})]}),(0,d.jsxs)("div",{className:"flex flex-col min-h-screen no-scrollbar",style:{maxHeight:"-webkit-fill-available"},onClick:Hl,children:[(0,d.jsxs)("div",{className:(0,f.AK)("sticky left-0 top-0 z-50 grid grid-cols-4 md:grid-cols-3 items-center justify-between gap-3 p-2 md:p-3 md:px-6 bg-white border-b md:border-0 md:shadow md:transition-all duration-300",(Te||qn)&&"md:-mt-16 md:opacity-0 pointer-events-none",qn&&"-mt-14 opacity-0"),children:[(0,d.jsx)("div",{className:"md:hidden",children:k&&!B?(0,d.jsx)($l,{}):(0,d.jsx)(Kl,{className:"transparent"})}),(0,d.jsxs)("div",{className:"flex-shrink-0 hidden md:flex items-center gap-3",children:[k&&!B?(0,d.jsx)($l,{}):(0,d.jsx)(Kl,{className:"gap-2 !pr-3 !py-2"}),(0,d.jsx)(ql,{})]}),(0,d.jsx)("div",{className:"col-span-2 md:hidden",children:(0,d.jsxs)("button",{className:"light transparent gap-1 w-full",disabled:k||w||cn,onClick:function(){Be(!0),He(!1)},children:[(0,d.jsx)("span",{className:"leading-5 max-w-40 whitespace-nowrap overflow-hidden overflow-ellipsis",children:(null===J||void 0===J?void 0:J.name)||(null===J||void 0===J?void 0:J.label)||"Page"}),!k&&!w&&!cn&&(0,d.jsx)(v.Z,{icon:"ChevronDownIcon",className:"flex-shrink-0 w-4 h-4"})]})}),(0,d.jsxs)("div",{className:"flex-1 hidden md:flex items-center md:justify-center gap-3",children:[(0,d.jsxs)("div",{className:(0,f.AK)("flex w-full border rounded-md border-gray-300 transition-all",(k||w||cn)&&"!border-gray-100"),style:{maxWidth:180},children:[(0,d.jsx)(Xe.Z,{alt:"Manage pages",className:"flex-1",children:(0,d.jsx)("button",{className:"light !justify-start !border-0 !rounded-r-none w-full",disabled:k||w||cn,onClick:function(){Be(!0),He(!1)},children:(0,d.jsx)("span",{className:"max-w-25 whitespace-nowrap overflow-hidden overflow-ellipsis",children:(null===J||void 0===J?void 0:J.name)||(null===J||void 0===J?void 0:J.label)||"Page"})})}),(0,d.jsx)("div",{className:(0,f.AK)("border-l border-gray-300 transition-all",(k||w||cn)&&"!border-gray-100"),style:{height:36}}),(0,d.jsx)("button",{className:(0,f.AK)("flex-shrink-0 light icon !px-3 !border-0 !rounded-l-none focus:z-5",(k||w||cn)&&"!text-gray-100"),disabled:k||w||cn,onClick:function(){return He(!0)},children:(0,d.jsx)(v.Z,{icon:"PlusSolidIcon",className:"w-5 h-5"})})]}),(null===(n=Je[null===J||void 0===J?void 0:J.id])||void 0===n?void 0:n.length)>0&&"disabled"===(null===zt||void 0===zt||null===(t=zt.env)||void 0===t?void 0:"production")&&(0,d.jsx)(Xe.Z,{alt:"Undo last change",disabled:cn,children:(0,d.jsxs)("button",{className:"light relative",disabled:w||cn||!(null===(p=Je[null===J||void 0===J?void 0:J.id])||void 0===p?void 0:p.length),onClick:function(){var e;(null===(e=Je[null===J||void 0===J?void 0:J.id])||void 0===e?void 0:e.length)>0&&Qe((function(e){var n=(0,f.p$)(e),t=n[null===J||void 0===J?void 0:J.id];if((null===t||void 0===t?void 0:t.length)>0){var i=t[t.length-1];gl(i),C(!0)}return t.splice(t.length-1,1),n[null===J||void 0===J?void 0:J.id]=t,n}))},children:[(0,d.jsx)("div",{className:"absolute rounded-full bg-red-600 text-white flex items-center justify-center -top-2 -right-2 text-xs font-bold h-5 px-1 min-w-5",children:Je[null===J||void 0===J?void 0:J.id].length<100?Je[null===J||void 0===J?void 0:J.id].length:"99+"}),(0,d.jsx)(v.Z,{icon:"ArrowUturnLeftIcon",className:"w-5 h-5"})]})}),"blog"!==(null===J||void 0===J?void 0:J.type)&&(0,d.jsx)(Xe.Z,{className:"hidden md:block",alt:"Open AI Assistant",disabled:w||cn,children:(0,d.jsx)(F.Z,{className:"light icon",disabled:w||cn,loading:cn,onClick:function(){return In(!0)},children:(0,d.jsx)(v.Z,{icon:"BoltIcon",className:"w-5 h-5","aria-hidden":"true"})})})]}),(0,d.jsxs)("div",{className:"md:flex-1 hidden md:flex items-center justify-end gap-3",children:[function(){var e=nl.filter((function(e){return e.canView}));return(0,d.jsx)(Dn.Z,{inline:!0,className:"hidden md:block",buttonClassName:"button light icon gap-2 !px-3",openClassName:"!bg-gray-100",button:(0,d.jsxs)(d.Fragment,{children:[yl(),(0,d.jsx)(v.Z,{icon:"ChevronDownIcon",className:"w-4 h-4","aria-hidden":"true"})]}),disabled:w||cn,children:e.map((function(e,n){return(0,d.jsx)(h.v.Item,{children:(0,d.jsxs)("div",{onClick:function(){return ie(e.device)},className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-gray-700 cursor-pointer",children:[(0,d.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,d.jsx)(v.Z,{icon:e.icon,className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:e.label})]}),te===e.device&&(0,d.jsx)(v.Z,{icon:"CheckIcon",className:"w-5 h-5 text-gray-700","aria-hidden":"true"})]})},"view-port-device-".concat(n))}))})}(),(0,d.jsx)(Xe.Z,{alt:"Theme",disabled:w||cn,children:(0,d.jsx)("button",{className:(0,f.AK)("light icon",Ne&&"!bg-gray-100"),disabled:w||cn,onClick:function(e){return Vl(e,"style")},children:(0,d.jsx)(v.Z,{icon:"StyleIcon",className:"w-5 h-5","aria-hidden":"true"})})}),(0,d.jsx)(Xe.Z,{alt:"Widgets",disabled:w||cn,children:(0,d.jsx)("button",{className:(0,f.AK)("light icon",Wi&&"!bg-gray-100"),disabled:w||cn,onClick:function(e){return Vl(e,"widget")},children:(0,d.jsx)(v.Z,{icon:"SquaresPlusIcon",className:"w-5 h-5","aria-hidden":"true"})})}),(0,d.jsx)(Xe.Z,{alt:"Support",disabled:w||cn,children:(0,d.jsx)("button",{className:"light icon",disabled:w||cn,onClick:function(){var e;(localStorage.setItem("gorgias.email-captured",null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.email),kn)||(Cn(!0),("undefined"!==typeof GorgiasChat&&kn?(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return GorgiasChat.init(),[2]}))}))():new Promise((function(e){window.addEventListener("gorgias-widget-loaded",(function(){e()}))}))).then((function(){var e;GorgiasChat.captureUserEmail(null===Ut||void 0===Ut||null===(e=Ut.user)||void 0===e?void 0:e.email),GorgiasChat.open(),setTimeout((function(){var e=document.querySelector("#gorgias-chat-container");if(e){var n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>',n.classList.add("fixed","bottom-16","right-2","p-1.5","cursor-pointer","z-200","bg-white","rounded-full","shadow-md","transition","transition-opacity"),n.style.zIndex=99999999,n.style.opacity=0,n.addEventListener("click",(function(){GorgiasChat.close(),e.remove(),Cn(!1)})),e.appendChild(n),clearInterval(window.GorgiasInterval),window.GorgiasInterval=setInterval((function(){window.GorgiasChat.isOpen()?n.style.opacity="1":n.style.opacity="0"}),500)}}),100)})))},children:(0,d.jsx)(v.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"})})}),(0,d.jsx)(Xe.Z,{alt:"Preview website",disabled:w||cn,children:(0,d.jsx)("button",{className:"light icon",disabled:w||cn,onClick:rl,children:(0,d.jsx)(v.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5","aria-hidden":"true"})})})]}),(0,d.jsx)("div",{className:"flex md:hidden justify-end",children:k&&!B?(0,d.jsx)(ql,{}):(0,d.jsx)("button",{className:"light icon transparent",onClick:rl,children:(0,d.jsx)(v.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5"})})})]}),(0,d.jsx)("div",{className:(0,f.AK)("flex-1 w-full h-full relative mx-auto flex items-start mt-0 transition-all",el&&"py-4",cn&&"pointer-events-none"),style:(0,s.Z)({},function(){if(el)switch(te){case"mobile":return{maxWidth:406,maxHeight:860,minHeight:844};case"tablet":return{maxWidth:784,maxHeight:1040,minHeight:1024};default:return{maxWidth:"100%",maxHeight:"100%"}}}()),children:(0,d.jsx)("iframe",{src:"/website/preview",className:(0,f.AK)("bg-white mx-auto transition-all duration-200 w-full h-full",el&&"rounded-3xl overflow-hidden shadow border-8 border-black")})}),cn||w&&(0,d.jsx)("div",{className:"flex items-center z-100 justify-center absolute inset-0 bg-black bg-opacity-70 backdrop-blur-2xs",children:(0,d.jsx)(be.Z,{text:w?"Please wait...":"Generating...",className:"text-body-lg text-white"})}),(0,d.jsx)(Ul,{})]}),ue&&re&&function(){var e,n;if("durable"!==(null===re||void 0===re||null===(e=re.WebsiteBlock)||void 0===e?void 0:e.source)){if("common-ninja"===(null===re||void 0===re||null===(n=re.WebsiteBlock)||void 0===n?void 0:n.source))return(0,d.jsx)(Et,{open:ue,setOpen:me,block:re,setBlock:ce,rtl:X,setRtl:G,loading:w,changeHistory:bl,website:W,editWidget:Rl})}else switch(re.WebsiteBlock.type){case"header":return(0,d.jsx)(Fe,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,website:W,updateSocial:jl,rtl:X,setRtl:G,loading:w,scrollToLocation:Ei,setScrollToLocation:Pi,onValid:fl});case"banner":return(0,d.jsx)(fe,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"hero":return(0,d.jsx)(ke,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"quote":return(0,d.jsx)(ne,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"gallery":return(0,d.jsx)(Ee,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"video":return(0,d.jsx)(Pe,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"list":return(0,d.jsx)(Ke,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"pricing-table":return(0,d.jsx)(sn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"text":return(0,d.jsx)(Ce,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"location":case"map":return(0,d.jsx)(De,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"contact":return(0,d.jsx)(fn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,website:W,setRtl:G,loading:w});case"embed":return(0,d.jsx)(pn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"image":return(0,d.jsx)(bn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"footer":return(0,d.jsx)(_e,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,updateSocial:jl,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"calendly-scheduling":return(0,d.jsx)(jn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W,onValid:fl});case"instagram":return(0,d.jsx)(yn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"blog":return(0,d.jsx)(wn,{open:ue,setOpen:me,block:re,setBlock:ce,rtl:X,setRtl:G,loading:w,website:W});case"faq":return(0,d.jsx)(dn,{open:ue,setOpen:me,block:re,changeHistory:bl,setBlock:ce,rtl:X,website:W,setRtl:G,loading:w})}}(),zn&&An&&(0,d.jsx)(Tn,{open:zn,setOpen:Hn,post:An,setPost:Ln,rtl:X,setRtl:G,loading:w,onSave:ml,website:W}),(0,d.jsx)(si,{confirmText:"Got it"}),(0,d.jsx)(ri,{confirmText:"Regenerate"}),(0,d.jsx)(ui,{attention:!0}),(0,d.jsx)(xi,{confirmText:"Discard and exit",attention:!0}),(0,d.jsx)(pi,{confirmText:"Discard",attention:!0}),(0,d.jsx)(ji,{attention:!0,confirmText:"Regenerate"}),At&&(0,d.jsx)(Nt.Z,{text:Vt}),(0,d.jsx)(Rn,{open:he,setOpen:pe,loading:w,setLoading:N,onPublish:ll}),(0,d.jsx)(mt,{website:W,open:je,setOpen:ye,onSuccess:dl,onSkip:function(){return pe(!0)}}),(!(null===Ut||void 0===Ut||null===(g=Ut.user)||void 0===g?void 0:g.customPlan)||"agency"===Ut.user.customPlan.type&&100!==Ut.user.customPlan.businessesLimit)&&(0,d.jsx)(ot,{open:Me&&!qn,scrolled:Ue,onPublish:al}),(0,d.jsx)(pt,{open:gn,setOpen:Nn,onUpgrade:function(){Nn(!1),an(!0)},onGoToWebsite:cl}),(0,d.jsx)(Xn,{website:W,open:Ne,setOpen:Ze,tryPalette:Xi,onChange:wl,onPreviewMigration:function(e){var n=(0,f.p$)(window.websitePage),t=!0,i=!1,l=void 0;try{for(var a,r=n.blocks[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var c=a.value;if(e){if(!c.layers||"footer"===c.WebsiteBlock.type&&!c.layers.palette){var d=(0,L.SH)(c,W);c.layers=(0,s.Z)({},c.layers,d),c.layers.image=(0,E.Dn)(c),c.migratedFromOld=!0}var u;if("header"===c.WebsiteBlock.type?c.layers.palette="color1":"footer"===c.WebsiteBlock.type||"banner"===c.WebsiteBlock.type?c.layers.palette="color2":c.layers.palette=(0,f.kd)(["color3","color4"]),c.button||c.showButton||"contact"===c.WebsiteBlock.type)c.button=(0,o.Z)((0,s.Z)({},c.button),{style:(0,o.Z)((0,s.Z)({},null===(u=c.button)||void 0===u?void 0:u.style),{name:"style1"})})}else{var m;if(c.migratedFromOld?delete c.layers:c.layers.palette="custom",c.button||c.showButton||"contact"===c.WebsiteBlock.type)c.button=(0,o.Z)((0,s.Z)({},c.button),{style:(0,o.Z)((0,s.Z)({},null===(m=c.button)||void 0===m?void 0:m.style),{name:"custom"})})}}}catch(v){i=!0,l=v}finally{try{t||null==r.return||r.return()}finally{if(i)throw l}}gl(n),window.dispatchEvent(new CustomEvent("website-builder-changed",{detail:{previewMigration:e}}))},rtl:X,setRtl:G,scrollToLocation:Ei,setScrollToLocation:Pi}),!cn&&Te&&!ze&&(0,d.jsx)(st,{open:Te,setOpen:Be,currentPage:J,isOpenCreatePage:ze,setIsOpenCreatePage:He,isOpenManagePage:Re,setIsOpenManagePage:Le,onSelectPage:_l,onCreatePage:Fl,onUpdatePage:Zl,onCreatePost:function(){return Kn(!0)}}),(0,d.jsx)(jt,{open:ze,setOpen:He,onCreatePage:Fl,onCreatePost:function(){return Kn(!0)},closeManagePagesModal:function(){return Be(!1)}}),(0,d.jsx)(gt.Z,{open:Pn,setOpen:In,actionMethods:ki,context:"in-app-builder"}),(0,d.jsx)(yt,{open:Mn,setOpen:Kn,onSelect:Al}),(0,d.jsx)(Ot,{open:Fi,setOpen:_i,onSelect:Cl}),Yn&&(0,d.jsx)(On,{open:Yn,setOpen:Jn,rtl:X,setRtl:G,website:W}),et&&(0,d.jsx)(Bn,{open:et,setOpen:nt,rtl:X,setRtl:G,website:W}),Mi&&(0,d.jsx)(Ct,{open:Vi,setOpen:Mi,block:re,refreshWidget:function(e){e&&window.dispatchEvent(new CustomEvent("widget-reload",{detail:e}))}}),Ri&&(0,d.jsx)(It,{open:Ri,setOpen:Di,widgets:null===W||void 0===W?void 0:W.widgets,onSelect:El}),Wi&&(0,d.jsx)(Rt,{sortWidgets:function(e){z((function(n){return(0,o.Z)((0,s.Z)({},n),{widgets:e})})),Sl(e)},open:Wi,setOpen:zi,widgets:null===W||void 0===W?void 0:W.widgets,addWidget:function(){return Di(!0)},editWidget:function(e){ce(e),Mi(!0)},deleteWidget:function(e){z((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?n.widgets.filter((function(n){return n.externalId!==e})):[];return Sl(t),(0,o.Z)((0,s.Z)({},n),{widgets:t})}))}})]})}Vt.auth=!0,Vt.layout=!1}},function(e){e.O(0,[7040,6440,696,9198,6235,780,3879,2748,7554,431,377,6965,4964,8495,9774,2888,179],(function(){return n=64938,e(e.s=n);var n}));var n=e.O();_N_E=n}]);